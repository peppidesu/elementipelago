var e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),t=(e=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(e,{get:(e,t)=>(typeof require<`u`?require:e)[t]}):e)(function(e){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+e+"\" in an environment that doesn't expose the `require` function.")});(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var n=Array.isArray,r=Array.prototype.indexOf,i=Array.from;Object.keys;var a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,c=Object.prototype,l=Array.prototype,u=Object.getPrototypeOf,d=Object.isExtensible;function f(e){return typeof e==`function`}const p=()=>{};function m(e){return e()}function h(e){for(var t=0;t<e.length;t++)e[t]()}function g(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function _(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);let n=[];for(let r of e)if(n.push(r),n.length===t)break;return n}const v=1024,y=2048,b=4096,x=8192,S=16384,C=32768,w=65536,T=1<<19,E=1<<20,ee=1<<25,D=32768,te=1<<21,ne=1<<23,re=Symbol(`$state`),ie=Symbol(`legacy props`),ae=Symbol(``),oe=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function se(e){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function ce(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function le(e){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function ue(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function de(e){throw Error(`https://svelte.dev/e/effect_orphan`)}function O(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function fe(e){throw Error(`https://svelte.dev/e/props_invalid_value`)}function pe(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function me(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function he(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function ge(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}const _e={},k=Symbol();function ve(e){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function ye(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let A=!1;function be(e){A=e}let j;function M(e){if(e===null)throw ve(),_e;return j=e}function xe(){return M(Vt(j))}function N(e){if(A){if(Vt(j)!==null)throw ve(),_e;j=e}}function Se(e=1){if(A){for(var t=e,n=j;t--;)n=Vt(n);j=n}}function Ce(e=!0){for(var t=0,n=j;;){if(n.nodeType===8){var r=n.data;if(r===`]`){if(t===0)return n;--t}else (r===`[`||r===`[!`)&&(t+=1)}var i=Vt(n);e&&n.remove(),n=i}}function we(e){if(!e||e.nodeType!==8)throw ve(),_e;return e.data}function Te(e){return e===this.v}function Ee(e,t){return e==e?e!==t||typeof e==`object`&&!!e||typeof e==`function`:t==t}function De(e){return!Ee(e,this.v)}let Oe=!1,ke=!1;function Ae(){Oe=!0}function je(){ke=!0}let P=null;function Me(e){P=e}function Ne(e,t=!1,n){P={p:P,i:!1,c:null,e:null,s:e,x:null,l:ke&&!t?{s:null,u:null,$:[]}:null}}function Pe(e){var t=P,n=t.e;if(n!==null){t.e=null;for(var r of n)tn(r)}return e!==void 0&&(t.x=e),t.i=!0,P=t.p,e??{}}function Fe(){return!ke||P!==null&&P.l===null}var Ie=[];function Le(){var e=Ie;Ie=[],h(e)}function Re(e){if(Ie.length===0&&!Qe){var t=Ie;queueMicrotask(()=>{t===Ie&&Le()})}Ie.push(e)}function ze(){for(;Ie.length>0;)Le()}function Be(e){var t=G;if(t===null)return U.f|=ne,e;if(t.f&32768)Ve(e,t);else{if(!(t.f&128))throw e;t.b.error(e)}}function Ve(e,t){for(;t!==null;){if(t.f&128)try{t.b.error(e);return}catch(t){e=t}t=t.parent}throw e}var He=~(b|3072);function F(e,t){e.f=e.f&He|t}function Ue(e){e.f&512||e.deps===null?F(e,v):F(e,b)}function We(e){if(e!==null)for(let t of e)!(t.f&2)||!(t.f&32768)||(t.f^=D,We(t.deps))}function Ge(e,t,n){e.f&2048?t.add(e):e.f&4096&&n.add(e),We(e.deps),F(e,v)}var Ke=new Set;let I=null,qe=null,Je=null;var Ye=[],Xe=null,Ze=!1;let Qe=!1;var $e=class e{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#i=null;#a=new Set;#o=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(e){Ye=[],qe=null,this.apply();var t=[],n=[];for(let r of e)this.#s(r,t,n);this.is_fork||this.#l(),this.is_deferred()?(this.#c(n),this.#c(t)):(qe=this,I=null,it(n),it(t),qe=null,this.#i?.resolve()),Je=null}#s(e,t,n){e.f^=v;for(var r=e.first,i=null;r!==null;){var a=r.f,o=(a&96)!=0,s=o&&(a&1024)!=0||(a&8192)!=0||this.skipped_effects.has(r);if(Oe&&i===null&&a&128&&r.b?.is_pending&&(i=r),!s&&r.fn!==null){o?r.f^=v:i!==null&&a&16777228?i.b.defer_effect(r):a&4?t.push(r):Oe&&a&16777224?n.push(r):zn(r)&&(a&16&&this.#a.add(r),Wn(r));var c=r.first;if(c!==null){r=c;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)l===i&&(i=null),r=l.next,l=l.parent}}#c(e){for(var t=0;t<e.length;t+=1)Ge(e[t],this.#a,this.#o)}capture(e,t){t!==k&&!this.previous.has(e)&&this.previous.set(e,t),e.f&8388608||(this.current.set(e,e.v),Je?.set(e,e.v))}activate(){I=this,this.apply()}deactivate(){I===this&&(I=null,Je=null)}flush(){if(this.activate(),Ye.length>0){if(tt(),I!==null&&I!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(let e of this.#t)e(this);this.#t.clear()}#l(){if(this.#r===0){for(let e of this.#e)e();this.#e.clear()}this.#n===0&&this.#u()}#u(){if(Ke.size>1){this.previous.clear();var e=Je,t=!0;for(let e of Ke){if(e===this){t=!1;continue}let r=[];for(let[n,i]of this.current){if(e.current.has(n))if(t&&i!==e.current.get(n))e.current.set(n,i);else continue;r.push(n)}if(r.length===0)continue;let i=[...e.current.keys()].filter(e=>!this.current.has(e));if(i.length>0){var n=Ye;Ye=[];let t=new Set,a=new Map;for(let e of r)at(e,i,t,a);if(Ye.length>0){I=e,e.apply();for(let t of Ye)e.#s(t,[],[]);e.deactivate()}Ye=n}}I=null,Je=e}this.committed=!0,Ke.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){--this.#n,e&&--this.#r,this.revive()}revive(){for(let e of this.#a)this.#o.delete(e),F(e,y),st(e);for(let e of this.#o)F(e,b),st(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#i??=g()).promise}static ensure(){if(I===null){let t=I=new e;Ke.add(I),Qe||e.enqueue(()=>{I===t&&t.flush()})}return I}static enqueue(e){Re(e)}apply(){if(!(!Oe||!this.is_fork&&Ke.size===1)){Je=new Map(this.current);for(let e of Ke)if(e!==this)for(let[t,n]of e.previous)Je.has(t)||Je.set(t,n)}}};function et(e){var t=Qe;Qe=!0;try{var n;for(e&&(I!==null&&tt(),n=e());;){if(ze(),Ye.length===0&&(I?.flush(),Ye.length===0))return Xe=null,n;tt()}}finally{Qe=t}}function tt(){var e=Cn;Ze=!0;try{var t=0;for(wn(!0);Ye.length>0;){var n=$e.ensure();t++>1e3&&nt(),n.process(Ye),Tt.clear()}}finally{Ze=!1,wn(e),Xe=null}}function nt(){try{O()}catch(e){Ve(e,Xe)}}let rt=null;function it(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&24576)&&zn(r)&&(rt=new Set,Wn(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?gn(r):r.fn=null),rt?.size>0)){Tt.clear();for(let e of rt){if(e.f&24576)continue;let t=[e],n=e.parent;for(;n!==null;)rt.has(n)&&(rt.delete(n),t.push(n)),n=n.parent;for(let e=t.length-1;e>=0;e--){let n=t[e];n.f&24576||Wn(n)}}rt.clear()}}rt=null}}function at(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let i of e.reactions){let e=i.f;e&2?at(i,t,n,r):e&4194320&&!(e&2048)&&ot(i,t,r)&&(F(i,y),st(i))}}function ot(e,t,n){let r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(let r of e.deps){if(t.includes(r))return!0;if(r.f&2&&ot(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function st(e){for(var t=Xe=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ze&&t===G&&n&16&&!(n&262144))return;if(n&96){if(!(n&1024))return;t.f^=v}}Ye.push(t)}function ct(e){let t=0,n=Dt(0),r;return()=>{Qt()&&(q(n),sn(()=>(t===0&&(r=Jn(()=>e(()=>jt(n)))),t+=1,()=>{Re(()=>{--t,t===0&&(r?.(),r=void 0,jt(n))})})))}}var lt=T|65664;function ut(e,t,n){new dt(e,t,n)}var dt=class{parent;is_pending=!1;#e;#t=A?j:null;#n;#r;#i;#a=null;#o=null;#s=null;#c=null;#l=null;#u=0;#d=0;#f=!1;#p=new Set;#m=new Set;#h=null;#g=ct(()=>(this.#h=Dt(this.#u),()=>{this.#h=null}));constructor(e,t,n){this.#e=e,this.#n=t,this.#r=n,this.parent=G.b,this.is_pending=!!this.#n.pending,this.#i=ln(()=>{if(G.b=this,A){let e=this.#t;xe(),e.nodeType===8&&e.data===`[!`?this.#v():(this.#_(),this.#d===0&&(this.is_pending=!1))}else{var e=this.#y();try{this.#a=dn(()=>n(e))}catch(e){this.error(e)}this.#d>0?this.#x():this.is_pending=!1}return()=>{this.#l?.remove()}},lt),A&&(this.#e=j)}#_(){try{this.#a=dn(()=>this.#r(this.#e))}catch(e){this.error(e)}}#v(){let e=this.#n.pending;e&&(this.#o=dn(()=>e(this.#e)),$e.enqueue(()=>{var e=this.#y();this.#a=this.#b(()=>($e.ensure(),dn(()=>this.#r(e)))),this.#d>0?this.#x():(_n(this.#o,()=>{this.#o=null}),this.is_pending=!1)}))}#y(){var e=this.#e;return this.is_pending&&(this.#l=zt(),this.#e.before(this.#l),e=this.#l),e}defer_effect(e){Ge(e,this.#p,this.#m)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#b(e){var t=G,n=U,r=P;On(this.#i),W(this.#i),Me(this.#i.ctx);try{return e()}catch(e){return Be(e),null}finally{On(t),W(n),Me(r)}}#x(){let e=this.#n.pending;this.#a!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#l),Sn(this.#a,this.#c)),this.#o===null&&(this.#o=dn(()=>e(this.#e)))}#S(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#S(e);return}if(this.#d+=e,this.#d===0){this.is_pending=!1;for(let e of this.#p)F(e,y),st(e);for(let e of this.#m)F(e,b),st(e);this.#p.clear(),this.#m.clear(),this.#o&&_n(this.#o,()=>{this.#o=null}),this.#c&&=(this.#e.before(this.#c),null)}}update_pending_count(e){this.#S(e),this.#u+=e,this.#h&&kt(this.#h,this.#u)}get_effect_pending(){return this.#g(),q(this.#h)}error(e){var t=this.#n.onerror;let n=this.#n.failed;if(this.#f||!t&&!n)throw e;this.#a&&=(H(this.#a),null),this.#o&&=(H(this.#o),null),this.#s&&=(H(this.#s),null),A&&(M(this.#t),Se(),M(Ce()));var r=!1,i=!1;let a=()=>{if(r){ye();return}r=!0,i&&ge(),$e.ensure(),this.#u=0,this.#s!==null&&_n(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#a=this.#b(()=>(this.#f=!1,dn(()=>this.#r(this.#e)))),this.#d>0?this.#x():this.is_pending=!1};var o=U;try{W(null),i=!0,t?.(e,a),i=!1}catch(e){Ve(e,this.#i&&this.#i.parent)}finally{W(o)}n&&Re(()=>{this.#s=this.#b(()=>{$e.ensure(),this.#f=!0;try{return dn(()=>{n(this.#e,()=>e,()=>a)})}catch(e){return Ve(e,this.#i.parent),null}finally{this.#f=!1}})})}};function ft(){return G.b}function pt(e,t,n,r){let i=Fe()?_t:yt;if(n.length===0&&e.length===0){r(t.map(i));return}var a=I,o=G,s=mt();function c(){Promise.all(n.map(e=>vt(e))).then(e=>{s();try{r([...t.map(i),...e])}catch(e){o.f&16384||Ve(e,o)}a?.deactivate(),ht()}).catch(e=>{Ve(e,o)})}e.length>0?Promise.all(e).then(()=>{s();try{return c()}finally{a?.deactivate(),ht()}}):c()}function mt(){var e=G,t=U,n=P,r=I;return function(i=!0){On(e),W(t),Me(n),i&&r?.activate()}}function ht(){On(null),W(null),Me(null)}function gt(e){let t=mt();var n=ft(),r=I,i=n.is_rendered();n.update_pending_count(1),r.increment(i);var a=G,o=null;let s=e=>{o={error:e},xn(a)||Ve(e,a)};var c=Promise.resolve(e[0]()).catch(s),l=[c];for(let n of e.slice(1))c=c.then(()=>{if(o)throw o.error;if(xn(a))throw oe;return t(),n()}).catch(s).finally(()=>{ht(),I?.deactivate()}),l.push(c);return c.then(()=>Promise.resolve()).finally(()=>{n.update_pending_count(-1),r.decrement(i)}),l}function _t(e){var t=2|y,n=U!==null&&U.f&2?U:null;return G!==null&&(G.f|=T),{ctx:P,deps:null,effects:null,equals:Te,f:t,fn:e,reactions:null,rv:0,v:k,wv:0,parent:n??G,ac:null}}function vt(e,t,n){let r=G;r===null&&ce();var i=r.b,a=void 0,o=Dt(k),s=!U,c=new Map;return on(()=>{var t=g();a=t.promise;try{Promise.resolve(e()).then(t.resolve,t.reject).then(()=>{n===I&&n.committed&&n.deactivate(),ht()})}catch(e){t.reject(e),ht()}var n=I;if(s){var r=i.is_rendered();i.update_pending_count(1),n.increment(r),c.get(n)?.reject(oe),c.delete(n),c.set(n,t)}let l=(e,t=void 0)=>{if(n.activate(),t)t!==oe&&(o.f|=ne,kt(o,t));else{o.f&8388608&&(o.f^=ne),kt(o,e);for(let[e,t]of c){if(c.delete(e),e===n)break;t.reject(oe)}}s&&(i.update_pending_count(-1),n.decrement(r))};t.promise.then(l,e=>l(null,e||`unknown`))}),$t(()=>{for(let e of c.values())e.reject(oe)}),new Promise(e=>{function t(n){function r(){n===a?e(o):t(a)}n.then(r,r)}t(a)})}function L(e){let t=_t(e);return Oe||An(t),t}function yt(e){let t=_t(e);return t.equals=De,t}function bt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)H(t[n])}}function xt(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t.f&16384?null:t;t=t.parent}return null}function St(e){var t,n=G;On(xt(e));try{e.f&=~D,bt(e),t=Vn(e)}finally{On(n)}return t}function Ct(e){var t=St(e);if(!e.equals(t)&&(e.wv=Rn(),(!I?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){F(e,v);return}Tn||(Je===null?Ue(e):(Qt()||I?.is_fork)&&Je.set(e,t))}let wt=new Set;const Tt=new Map;var Et=!1;function Dt(e,t){return{f:0,v:e,reactions:null,equals:Te,rv:0,wv:0}}function R(e,t){let n=Dt(e,t);return An(n),n}function Ot(e,t=!1,n=!0){let r=Dt(e);return t||(r.equals=De),ke&&n&&P!==null&&P.l!==null&&(P.l.s??=[]).push(r),r}function z(e,t,n=!1){return U!==null&&(!Dn||U.f&131072)&&Fe()&&U.f&4325394&&!kn?.includes(e)&&he(),kt(e,n?Nt(t):t)}function kt(e,t){if(!e.equals(t)){var n=e.v;Tn?Tt.set(e,t):Tt.set(e,n),e.v=t;var r=$e.ensure();if(r.capture(e,n),e.f&2){let t=e;e.f&2048&&St(t),Ue(t)}e.wv=Rn(),Mt(e,y),Fe()&&G!==null&&G.f&1024&&!(G.f&96)&&(Mn===null?Nn([e]):Mn.push(e)),!r.is_fork&&wt.size>0&&!Et&&At()}return t}function At(){Et=!1;var e=Cn;wn(!0);let t=Array.from(wt);try{for(let e of t)e.f&1024&&F(e,b),zn(e)&&Wn(e)}finally{wn(e)}wt.clear()}function jt(e){z(e,e.v+1)}function Mt(e,t){var n=e.reactions;if(n!==null)for(var r=Fe(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;if(!(!r&&o===G)){var c=(s&y)===0;if(c&&F(o,t),s&2){var l=o;Je?.delete(l),s&32768||(s&512&&(o.f|=D),Mt(l,b))}else c&&(s&16&&rt!==null&&rt.add(o),st(o))}}}function Nt(e){if(typeof e!=`object`||!e||re in e)return e;let t=u(e);if(t!==c&&t!==l)return e;var r=new Map,i=n(e),a=R(0),s=null,d=In,f=e=>{if(In===d)return e();var t=U,n=In;W(null),Ln(d);var r=e();return W(t),Ln(n),r};return i&&r.set(`length`,R(e.length,s)),new Proxy(e,{defineProperty(e,t,n){(!(`value`in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&pe();var i=r.get(t);return i===void 0?i=f(()=>{var e=R(n.value,s);return r.set(t,e),e}):z(i,n.value,!0),!0},deleteProperty(e,t){var n=r.get(t);if(n===void 0){if(t in e){let e=f(()=>R(k,s));r.set(t,e),jt(a)}}else z(n,k),jt(a);return!0},get(t,n,i){if(n===re)return e;var a=r.get(n),c=n in t;if(a===void 0&&(!c||o(t,n)?.writable)&&(a=f(()=>R(Nt(c?t[n]:k),s)),r.set(n,a)),a!==void 0){var l=q(a);return l===k?void 0:l}return Reflect.get(t,n,i)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&`value`in n){var i=r.get(t);i&&(n.value=q(i))}else if(n===void 0){var a=r.get(t),o=a?.v;if(a!==void 0&&o!==k)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return n},has(e,t){if(t===re)return!0;var n=r.get(t),i=n!==void 0&&n.v!==k||Reflect.has(e,t);return(n!==void 0||G!==null&&(!i||o(e,t)?.writable))&&(n===void 0&&(n=f(()=>R(i?Nt(e[t]):k,s)),r.set(t,n)),q(n)===k)?!1:i},set(e,t,n,c){var l=r.get(t),u=t in e;if(i&&t===`length`)for(var d=n;d<l.v;d+=1){var p=r.get(d+``);p===void 0?d in e&&(p=f(()=>R(k,s)),r.set(d+``,p)):z(p,k)}if(l===void 0)(!u||o(e,t)?.writable)&&(l=f(()=>R(void 0,s)),z(l,Nt(n)),r.set(t,l));else{u=l.v!==k;var m=f(()=>Nt(n));z(l,m)}var h=Reflect.getOwnPropertyDescriptor(e,t);if(h?.set&&h.set.call(c,n),!u){if(i&&typeof t==`string`){var g=r.get(`length`),_=Number(t);Number.isInteger(_)&&_>=g.v&&z(g,_+1)}jt(a)}return!0},ownKeys(e){q(a);var t=Reflect.ownKeys(e).filter(e=>{var t=r.get(e);return t===void 0||t.v!==k});for(var[n,i]of r)i.v!==k&&!(n in e)&&t.push(n);return t},setPrototypeOf(){me()}})}var Pt,Ft,It,Lt;function Rt(){if(Pt===void 0){Pt=window,document,Ft=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;It=o(t,`firstChild`).get,Lt=o(t,`nextSibling`).get,d(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),d(n)&&(n.__t=void 0)}}function zt(e=``){return document.createTextNode(e)}function Bt(e){return It.call(e)}function Vt(e){return Lt.call(e)}function B(e,t){if(!A)return Bt(e);var n=Bt(j);if(n===null)n=j.appendChild(zt());else if(t&&n.nodeType!==3){var r=zt();return n?.before(r),M(r),r}return M(n),n}function Ht(e,t=!1){if(!A){var n=Bt(e);return n instanceof Comment&&n.data===``?Vt(n):n}if(t&&j?.nodeType!==3){var r=zt();return j?.before(r),M(r),r}return j}function V(e,t=1,n=!1){let r=A?j:e;for(var i;t--;)i=r,r=Vt(r);if(!A)return r;if(n&&r?.nodeType!==3){var a=zt();return r===null?i?.after(a):r.before(a),M(a),a}return M(r),r}function Ut(e){e.textContent=``}function Wt(){return!Oe||rt!==null?!1:(G.f&C)!==0}var Gt=!1;function Kt(){Gt||(Gt=!0,document.addEventListener(`reset`,e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function qt(e){var t=U,n=G;W(null),On(null);try{return e()}finally{W(t),On(n)}}function Jt(e,t,n,r=n){e.addEventListener(t,()=>qt(n));let i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Kt()}function Yt(e){G===null&&(U===null&&de(e),ue()),Tn&&le(e)}function Xt(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Zt(e,t,n){var r=G;r!==null&&r.f&8192&&(e|=x);var i={ctx:P,deps:null,nodes:null,f:e|2560,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Wn(i),i.f|=C}catch(e){throw H(i),e}else t!==null&&st(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&!(a.f&524288)&&(a=a.first,e&16&&e&65536&&a!==null&&(a.f|=w)),a!==null&&(a.parent=r,r!==null&&Xt(a,r),U!==null&&U.f&2&&!(e&64))){var o=U;(o.effects??=[]).push(a)}return i}function Qt(){return U!==null&&!Dn}function $t(e){let t=Zt(8,null,!1);return F(t,v),t.teardown=e,t}function en(e){Yt(`$effect`);var t=G.f;if(!U&&t&32&&!(t&32768)){var n=P;(n.e??=[]).push(e)}else return tn(e)}function tn(e){return Zt(4|E,e,!1)}function nn(e){return Yt(`$effect.pre`),Zt(8|E,e,!0)}function rn(e){$e.ensure();let t=Zt(64|T,e,!0);return(e={})=>new Promise(n=>{e.outro?_n(t,()=>{H(t),n(void 0)}):(H(t),n(void 0))})}function an(e){return Zt(4,e,!1)}function on(e){return Zt(4194304|T,e,!0)}function sn(e,t=0){return Zt(8|t,e,!0)}function cn(e,t=[],n=[],r=[]){pt(r,t,n,t=>{Zt(8,()=>e(...t.map(q)),!0)})}function ln(e,t=0){return Zt(16|t,e,!0)}function un(e,t=0){return Zt(16777216|t,e,!0)}function dn(e){return Zt(32|T,e,!0)}function fn(e){var t=e.teardown;if(t!==null){let e=Tn,n=U;En(!0),W(null);try{t.call(null)}finally{En(e),W(n)}}}function pn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let e=n.ac;e!==null&&qt(()=>{e.abort(oe)});var r=n.next;n.f&64?n.parent=null:H(n,t),n=r}}function mn(e){for(var t=e.first;t!==null;){var n=t.next;t.f&32||H(t),t=n}}function H(e,t=!0){var n=!1;(t||e.f&262144)&&e.nodes!==null&&e.nodes.end!==null&&(hn(e.nodes.start,e.nodes.end),n=!0),pn(e,t&&!n),Un(e,0),F(e,S);var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)e.stop();fn(e);var i=e.parent;i!==null&&i.first!==null&&gn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function hn(e,t){for(;e!==null;){var n=e===t?null:Vt(e);e.remove(),e=n}}function gn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function _n(e,t,n=!0){var r=[];vn(e,r,!0);var i=()=>{n&&H(e),t&&t()},a=r.length;if(a>0){var o=()=>--a||i();for(var s of r)s.out(o)}else i()}function vn(e,t,n){if(!(e.f&8192)){e.f^=x;var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)(e.is_global||n)&&t.push(e);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&65536)!=0||(i.f&32)!=0&&(e.f&16)!=0;vn(i,t,o?n:!1),i=a}}}function yn(e){bn(e,!0)}function bn(e,t){if(e.f&8192){e.f^=x,e.f&1024||(F(e,y),st(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&65536)!=0||(n.f&32)!=0;bn(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(let e of a)(e.is_global||t)&&e.in()}}function xn(e=G){return(e.f&S)!==0}function Sn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Vt(n);t.append(n),n=i}}let Cn=!1;function wn(e){Cn=e}let Tn=!1;function En(e){Tn=e}let U=null,Dn=!1;function W(e){U=e}let G=null;function On(e){G=e}let kn=null;function An(e){U!==null&&(!Oe||U.f&2)&&(kn===null?kn=[e]:kn.push(e))}var K=null,jn=0;let Mn=null;function Nn(e){Mn=e}let Pn=1;var Fn=0;let In=Fn;function Ln(e){In=e}function Rn(){return++Pn}function zn(e){var t=e.f;if(t&2048)return!0;if(t&2&&(e.f&=~D),t&4096){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(zn(a)&&Ct(a),a.wv>e.wv)return!0}t&512&&Je===null&&F(e,v)}return!1}function Bn(e,t,n=!0){var r=e.reactions;if(r!==null&&!(!Oe&&kn?.includes(e)))for(var i=0;i<r.length;i++){var a=r[i];a.f&2?Bn(a,t,!1):t===a&&(n?F(a,y):a.f&1024&&F(a,b),st(a))}}function Vn(e){var t=K,n=jn,r=Mn,i=U,a=kn,o=P,s=Dn,c=In,l=e.f;K=null,jn=0,Mn=null,U=l&96?null:e,kn=null,Me(e.ctx),Dn=!1,In=++Fn,e.ac!==null&&(qt(()=>{e.ac.abort(oe)}),e.ac=null);try{e.f|=te;var u=e.fn,d=u(),f=e.deps;if(K!==null){var p;if(Un(e,jn),f!==null&&jn>0)for(f.length=jn+K.length,p=0;p<K.length;p++)f[jn+p]=K[p];else e.deps=f=K;if(Qt()&&e.f&512)for(p=jn;p<f.length;p++)(f[p].reactions??=[]).push(e)}else f!==null&&jn<f.length&&(Un(e,jn),f.length=jn);if(Fe()&&Mn!==null&&!Dn&&f!==null&&!(e.f&6146))for(p=0;p<Mn.length;p++)Bn(Mn[p],e);if(i!==null&&i!==e){if(Fn++,i.deps!==null)for(let e=0;e<n;e+=1)i.deps[e].rv=Fn;if(t!==null)for(let e of t)e.rv=Fn;Mn!==null&&(r===null?r=Mn:r.push(...Mn))}return e.f&8388608&&(e.f^=ne),d}catch(e){return Be(e)}finally{e.f^=te,K=t,jn=n,Mn=r,U=i,kn=a,Me(o),Dn=s,In=c}}function Hn(e,t){let n=t.reactions;if(n!==null){var i=r.call(n,e);if(i!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[i]=n[a],n.pop())}}if(n===null&&t.f&2&&(K===null||!K.includes(t))){var o=t;o.f&512&&(o.f^=512,o.f&=~D),Ue(o),bt(o),Un(o,0)}}function Un(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Hn(e,n[r])}function Wn(e){var t=e.f;if(!(t&16384)){F(e,v);var n=G,r=Cn;G=e,Cn=!0;try{t&16777232?mn(e):pn(e),fn(e);var i=Vn(e);e.teardown=typeof i==`function`?i:null,e.wv=Pn}finally{Cn=r,G=n}}}async function Gn(){if(Oe)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),et()}function q(e){var t=(e.f&2)!=0;if(null?.add(e),U!==null&&!Dn&&!(G!==null&&G.f&16384)&&!kn?.includes(e)){var n=U.deps;if(U.f&2097152)e.rv<Fn&&(e.rv=Fn,K===null&&n!==null&&n[jn]===e?jn++:K===null?K=[e]:K.push(e));else{(U.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[U]:r.includes(U)||r.push(U)}}if(Tn&&Tt.has(e))return Tt.get(e);if(t){var i=e;if(Tn){var a=i.v;return(!(i.f&1024)&&i.reactions!==null||qn(i))&&(a=St(i)),Tt.set(i,a),a}var o=(i.f&512)==0&&!Dn&&U!==null&&(Cn||(U.f&512)!=0),s=i.deps===null;zn(i)&&(o&&(i.f|=512),Ct(i)),o&&!s&&Kn(i)}if(Je?.has(e))return Je.get(e);if(e.f&8388608)throw e.v;return e.v}function Kn(e){if(e.deps!==null){e.f|=512;for(let t of e.deps)(t.reactions??=[]).push(e),t.f&2&&!(t.f&512)&&Kn(t)}}function qn(e){if(e.v===k)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(Tt.has(t)||t.f&2&&qn(t))return!0;return!1}function Jn(e){var t=Dn;try{return Dn=!0,e()}finally{Dn=t}}function Yn(e){if(!(typeof e!=`object`||!e||e instanceof EventTarget)){if(re in e)Xn(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n==`object`&&n&&re in n&&Xn(n)}}}function Xn(e,t=new Set){if(typeof e==`object`&&e&&!(e instanceof EventTarget)&&!t.has(e)){for(let n in t.add(e),e instanceof Date&&e.getTime(),e)try{Xn(e[n],t)}catch{}let n=u(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let t=s(n);for(let n in t){let r=t[n].get;if(r)try{r.call(e)}catch{}}}}}[...`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`)];var Zn=[`touchstart`,`touchmove`];function Qn(e){return Zn.includes(e)}const $n=new Set,er=new Set;function tr(e,t,n,r={}){function i(e){if(r.capture||ar.call(t,e),!e.cancelBubble)return qt(()=>n?.call(this,e))}return e.startsWith(`pointer`)||e.startsWith(`touch`)||e===`wheel`?Re(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function nr(e,t,n,r,i){var a={capture:r,passive:i},o=tr(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&$t(()=>{t.removeEventListener(e,o,a)})}function rr(e){for(var t=0;t<e.length;t++)$n.add(e[t]);for(var n of er)n(e)}var ir=null;function ar(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],o=i[0]||e.target;ir=e;var s=0,c=ir===e&&e.__root;if(c){var l=i.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;l<=u&&(s=l)}if(o=i[s]||e.target,o!==t){a(e,`currentTarget`,{configurable:!0,get(){return o||n}});var d=U,f=G;W(null),On(null);try{for(var p,m=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var g=o[`__`+r];g!=null&&(!o.disabled||e.target===o)&&g.call(o,e)}catch(e){p?m.push(e):p=e}if(e.cancelBubble||h===t||h===null)break;o=h}if(p){for(let e of m)queueMicrotask(()=>{throw e});throw p}}finally{e.__root=t,delete e.currentTarget,W(d),On(f)}}}function or(e){var t=document.createElement(`template`);return t.innerHTML=e.replaceAll(`<!>`,`<!---->`),t.content}function sr(e,t){var n=G;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function J(e,t){var n=(t&1)!=0,r=(t&2)!=0,i,a=!e.startsWith(`<!>`);return()=>{if(A)return sr(j,null),j;i===void 0&&(i=or(a?e:`<!>`+e),n||(i=Bt(i)));var t=r||Ft?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Bt(t),s=t.lastChild;sr(o,s)}else sr(t,t);return t}}function cr(){if(A)return sr(j,null),j;var e=document.createDocumentFragment(),t=document.createComment(``),n=zt();return e.append(t,n),sr(t,n),e}function Y(e,t){if(A){var n=G;(!(n.f&32768)||n.nodes.end===null)&&(n.nodes.end=j),xe();return}e!==null&&e.before(t)}let lr=!0;function X(e,t){var n=t==null?``:typeof t==`object`?t+``:t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+``)}function ur(e,t){return fr(e,t)}var dr=new Map;function fr(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Rt();var c=new Set,l=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!c.has(r)){c.add(r);var i=Qn(r);t.addEventListener(r,ar,{passive:i});var a=dr.get(r);a===void 0?(document.addEventListener(r,ar,{passive:i}),dr.set(r,1)):dr.set(r,a+1)}}};l(i($n)),er.add(l);var u=void 0,d=rn(()=>{var i=n??t.appendChild(zt());return ut(i,{pending:()=>{}},t=>{if(o){Ne({});var n=P;n.c=o}if(a&&(r.$$events=a),A&&sr(t,null),lr=s,u=e(t,r)||{},lr=!0,A&&(G.nodes.end=j,j===null||j.nodeType!==8||j.data!==`]`))throw ve(),_e;o&&Pe()}),()=>{for(var e of c){t.removeEventListener(e,ar);var r=dr.get(e);--r===0?(document.removeEventListener(e,ar),dr.delete(e)):dr.set(e,r)}er.delete(l),i!==n&&i.parentNode?.removeChild(i)}});return pr.set(u,d),u}var pr=new WeakMap;function mr(e,t){let n=pr.get(e);return n?(pr.delete(e),n(t)):Promise.resolve()}function hr(e,t=[],n=[],r){var i=ft(),a=I,o=i.is_rendered();i.update_pending_count(1),a.increment(o);var s=A;if(s){xe();var c=j;M(Ce(!1))}pt(t,[],n,t=>{s&&(be(!0),M(c));try{for(let e of t)q(e);r(e,...t)}finally{s&&be(!1),i.update_pending_count(-1),a.decrement(o)}})}var gr=class{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#i=!0;constructor(e,t=!0){this.anchor=e,this.#i=t}#a=()=>{var e=I;if(this.#e.has(e)){var t=this.#e.get(e),n=this.#t.get(t);if(n)yn(n),this.#r.delete(t);else{var r=this.#n.get(t);r&&(this.#t.set(t,r.effect),this.#n.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(let[t,n]of this.#e){if(this.#e.delete(t),t===e)break;let r=this.#n.get(n);r&&(H(r.effect),this.#n.delete(n))}for(let[e,r]of this.#t){if(e===t||this.#r.has(e))continue;let i=()=>{if(Array.from(this.#e.values()).includes(e)){var t=document.createDocumentFragment();Sn(r,t),t.append(zt()),this.#n.set(e,{effect:r,fragment:t})}else H(r);this.#r.delete(e),this.#t.delete(e)};this.#i||!n?(this.#r.add(e),_n(r,i,!1)):i()}}};#o=e=>{this.#e.delete(e);let t=Array.from(this.#e.values());for(let[e,n]of this.#n)t.includes(e)||(H(n.effect),this.#n.delete(e))};ensure(e,t){var n=I,r=Wt();if(t&&!this.#t.has(e)&&!this.#n.has(e))if(r){var i=document.createDocumentFragment(),a=zt();i.append(a),this.#n.set(e,{effect:dn(()=>t(a)),fragment:i})}else this.#t.set(e,dn(()=>t(this.anchor)));if(this.#e.set(n,e),r){for(let[t,r]of this.#t)t===e?n.skipped_effects.delete(r):n.skipped_effects.add(r);for(let[t,r]of this.#n)t===e?n.skipped_effects.delete(r.effect):n.skipped_effects.add(r.effect);n.oncommit(this.#a),n.ondiscard(this.#o)}else A&&(this.anchor=j),this.#a()}};function _r(e,t,n=!1){A&&xe();var r=new gr(e),i=n?w:0;function a(t,n){if(A&&t===(we(e)===`[!`)){var i=Ce();M(i),r.anchor=i,be(!1),r.ensure(t,n),be(!0);return}r.ensure(t,n)}ln(()=>{var e=!1;t((t,n=!0)=>{e=!0,a(n,t)}),e||a(!1,null)},i)}function vr(e,t){return t}function yr(e,t,n){for(var r=[],a=t.length,o,s=t.length,c=0;c<a;c++){let n=t[c];_n(n,()=>{if(o){if(o.pending.delete(n),o.done.add(n),o.pending.size===0){var t=e.outrogroups;br(i(o.done)),t.delete(o),t.size===0&&(e.outrogroups=null)}}else --s},!1)}if(s===0){var l=r.length===0&&n!==null;if(l){var u=n,d=u.parentNode;Ut(d),d.append(u),e.items.clear()}br(t,!l)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function br(e,t=!0){for(var n=0;n<e.length;n++)H(e[n],t)}var xr;function Sr(e,t,r,a,o,s=null){var c=e,l=new Map;if(t&4){var u=e;c=A?M(Bt(u)):u.appendChild(zt())}A&&xe();var d=null,f=yt(()=>{var e=r();return n(e)?e:e==null?[]:i(e)}),p,m=!0;function h(){g.fallback=d,Cr(g,p,c,t,a),d!==null&&(p.length===0?d.f&33554432?(d.f^=ee,Tr(d,null,c)):yn(d):_n(d,()=>{d=null}))}var g={effect:ln(()=>{p=q(f);var e=p.length;let n=!1;A&&we(c)===`[!`!=(e===0)&&(c=Ce(),M(c),be(!1),n=!0);for(var i=new Set,u=I,g=Wt(),_=0;_<e;_+=1){A&&j.nodeType===8&&j.data===`]`&&(c=j,n=!0,be(!1));var v=p[_],y=a(v,_),b=m?null:l.get(y);b?(b.v&&kt(b.v,v),b.i&&kt(b.i,_),g&&u.skipped_effects.delete(b.e)):(b=wr(l,m?c:xr??=zt(),v,y,_,o,t,r),m||(b.e.f|=ee),l.set(y,b)),i.add(y)}if(e===0&&s&&!d&&(m?d=dn(()=>s(c)):(d=dn(()=>s(xr??=zt())),d.f|=ee)),A&&e>0&&M(Ce()),!m)if(g){for(let[e,t]of l)i.has(e)||u.skipped_effects.add(t.e);u.oncommit(h),u.ondiscard(()=>{})}else h();n&&be(!0),q(f)}),flags:t,items:l,outrogroups:null,fallback:d};m=!1,A&&(c=j)}function Cr(e,t,n,r,a){var o=(r&8)!=0,s=t.length,c=e.items,l=e.effect.first,u,d=null,f,p=[],m=[],h,g,_,v;if(o)for(v=0;v<s;v+=1)h=t[v],g=a(h,v),_=c.get(g).e,_.f&33554432||(_.nodes?.a?.measure(),(f??=new Set).add(_));for(v=0;v<s;v+=1){if(h=t[v],g=a(h,v),_=c.get(g).e,e.outrogroups!==null)for(let t of e.outrogroups)t.pending.delete(_),t.done.delete(_);if(_.f&33554432)if(_.f^=ee,_===l)Tr(_,null,n);else{var y=d?d.next:l;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Er(e,d,_),Er(e,_,y),Tr(_,y,n),d=_,p=[],m=[],l=d.next;continue}if(_.f&8192&&(yn(_),o&&(_.nodes?.a?.unfix(),(f??=new Set).delete(_))),_!==l){if(u!==void 0&&u.has(_)){if(p.length<m.length){var b=m[0],x;d=b.prev;var S=p[0],C=p[p.length-1];for(x=0;x<p.length;x+=1)Tr(p[x],b,n);for(x=0;x<m.length;x+=1)u.delete(m[x]);Er(e,S.prev,C.next),Er(e,d,S),Er(e,C,b),l=b,d=C,--v,p=[],m=[]}else u.delete(_),Tr(_,l,n),Er(e,_.prev,_.next),Er(e,_,d===null?e.effect.first:d.next),Er(e,d,_),d=_;continue}for(p=[],m=[];l!==null&&l!==_;)(u??=new Set).add(l),m.push(l),l=l.next;if(l===null)continue}_.f&33554432||p.push(_),d=_,l=_.next}if(e.outrogroups!==null){for(let t of e.outrogroups)t.pending.size===0&&(br(i(t.done)),e.outrogroups?.delete(t));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var w=[];if(u!==void 0)for(_ of u)_.f&8192||w.push(_);for(;l!==null;)!(l.f&8192)&&l!==e.fallback&&w.push(l),l=l.next;var T=w.length;if(T>0){var E=r&4&&s===0?n:null;if(o){for(v=0;v<T;v+=1)w[v].nodes?.a?.measure();for(v=0;v<T;v+=1)w[v].nodes?.a?.fix()}yr(e,w,E)}}o&&Re(()=>{if(f!==void 0)for(_ of f)_.nodes?.a?.apply()})}function wr(e,t,n,r,i,a,o,s){var c=o&1?o&16?Dt(n):Ot(n,!1,!1):null,l=o&2?Dt(i):null;return{v:c,i:l,e:dn(()=>(a(t,c??n,l??i,s),()=>{e.delete(r)}))}}function Tr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&!(t.f&33554432)?t.nodes.start:n;r!==null;){var o=Vt(r);if(a.before(r),r===i)return;r=o}}function Er(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Dr(e,t,...n){var r=new gr(e);ln(()=>{let e=t()??null;r.ensure(e,e&&(t=>e(t,...n)))},w)}var Or=()=>performance.now();const kr={tick:e=>requestAnimationFrame(e),now:()=>Or(),tasks:new Set};function Ar(){let e=kr.now();kr.tasks.forEach(t=>{t.c(e)||(kr.tasks.delete(t),t.f())}),kr.tasks.size!==0&&kr.tick(Ar)}function jr(e){let t;return kr.tasks.size===0&&kr.tick(Ar),{promise:new Promise(n=>{kr.tasks.add(t={c:e,f:n})}),abort(){kr.tasks.delete(t)}}}function Mr(e,t){qt(()=>{e.dispatchEvent(new CustomEvent(t))})}function Nr(e){if(e===`float`)return`cssFloat`;if(e===`offset`)return`cssOffset`;if(e.startsWith(`--`))return e;let t=e.split(`-`);return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join(``)}function Pr(e){let t={},n=e.split(`;`);for(let e of n){let[n,r]=e.split(`:`);if(!n||r===void 0)break;let i=Nr(n.trim());t[i]=r.trim()}return t}var Fr=e=>e;function Ir(e,t,n,r){var i=(e&1)!=0,a=(e&2)!=0,o=i&&a,s=(e&4)!=0,c=o?`both`:i?`in`:`out`,l,u=t.inert,d=t.style.overflow,f,p;function m(){return qt(()=>l??=n()(t,r?.()??{},{direction:c}))}var h={is_global:s,in(){if(t.inert=u,!i){p?.abort(),p?.reset?.();return}a||f?.abort(),Mr(t,`introstart`),f=Lr(t,m(),p,1,()=>{Mr(t,`introend`),f?.abort(),f=l=void 0,t.style.overflow=d})},out(e){if(!a){e?.(),l=void 0;return}t.inert=!0,Mr(t,`outrostart`),p=Lr(t,m(),f,0,()=>{Mr(t,`outroend`),e?.()})},stop:()=>{f?.abort(),p?.abort()}},g=G;if((g.nodes.t??=[]).push(h),i&&lr){var _=s;if(!_){for(var v=g.parent;v&&v.f&65536;)for(;(v=v.parent)&&!(v.f&16););_=!v||(v.f&32768)!=0}_&&an(()=>{Jn(()=>h.in())})}}function Lr(e,t,n,r,i){var a=r===1;if(f(t)){var o,s=!1;return Re(()=>{s||(o=Lr(e,t({direction:a?`in`:`out`}),n,r,i))}),{abort:()=>{s=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return i(),{abort:p,deactivate:p,reset:p,t:()=>r};let{delay:c=0,css:l,tick:u,easing:d=Fr}=t;var m=[];if(a&&n===void 0&&(u&&u(0,1),l)){var h=Pr(l(0,1));m.push(h,h)}var g=()=>1-r,_=e.animate(m,{duration:c,fill:`forwards`});return _.onfinish=()=>{_.cancel();var a=n?.t()??1-r;n?.abort();var o=r-a,s=t.duration*Math.abs(o),c=[];if(s>0){var f=!1;if(l)for(var p=Math.ceil(s/(1e3/60)),m=0;m<=p;m+=1){var h=a+o*d(m/p),v=Pr(l(h,1-h));c.push(v),f||=v.overflow===`hidden`}f&&(e.style.overflow=`hidden`),g=()=>{var e=_.currentTime;return a+o*d(e/s)},u&&jr(()=>{if(_.playState!==`running`)return!1;var e=g();return u(e,1-e),!0})}_=e.animate(c,{duration:s,fill:`forwards`}),_.onfinish=()=>{g=()=>r,u?.(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=p)},deactivate:()=>{i=p},reset:()=>{r===0&&u?.(1,0)},t:()=>g()}}function Rr(e,t){var n=void 0,r;un(()=>{n!==(n=t())&&(r&&=(H(r),null),n&&(r=dn(()=>{an(()=>n(e))})))})}function zr(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zr(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Br(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zr(e))&&(r&&(r+=` `),r+=t);return r}function Vr(e){return typeof e==`object`?Br(e):e??``}var Hr=[...` 	
\r\f\xA0\vï»¿`];function Ur(e,t,n){var r=e==null?``:``+e;if(t&&(r=r?r+` `+t:t),n){for(var i in n)if(n[i])r=r?r+` `+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var s=o+a;(o===0||Hr.includes(r[o-1]))&&(s===r.length||Hr.includes(r[s]))?r=(o===0?``:r.substring(0,o))+r.substring(s+1):o=s}}return r===``?null:r}function Wr(e,t=!1){var n=t?` !important;`:`;`,r=``;for(var i in e){var a=e[i];a!=null&&a!==``&&(r+=` `+i+`: `+a+n)}return r}function Gr(e){return e[0]!==`-`||e[1]!==`-`?e.toLowerCase():e}function Kr(e,t){if(t){var n=``,r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var a=!1,o=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(Gr)),i&&c.push(...Object.keys(i).map(Gr));var l=0,u=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(s?f===`/`&&e[d-1]===`*`&&(s=!1):a?a===f&&(a=!1):f===`/`&&e[d+1]===`*`?s=!0:f===`"`||f===`'`?a=f:f===`(`?o++:f===`)`&&o--,!s&&a===!1&&o===0){if(f===`:`&&u===-1)u=d;else if(f===`;`||d===t-1){if(u!==-1){var p=Gr(e.substring(l,u).trim());if(!c.includes(p)){f!==`;`&&d++;var m=e.substring(l,d).trim();n+=` `+m+`;`}}l=d+1,u=-1}}}}return r&&(n+=Wr(r)),i&&(n+=Wr(i,!0)),n=n.trim(),n===``?null:n}return e==null?null:String(e)}function qr(e,t,n,r,i,a){var o=e.__className;if(A||o!==n||o===void 0){var s=Ur(n,r,a);(!A||s!==e.getAttribute(`class`))&&(s==null?e.removeAttribute(`class`):t?e.className=s:e.setAttribute(`class`,s)),e.__className=n}else if(a&&i!==a)for(var c in a){var l=!!a[c];(i==null||l!==!!i[c])&&e.classList.toggle(c,l)}return a}function Jr(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function Yr(e,t,n,r){var i=e.__style;if(A||i!==t){var a=Kr(t,r);(!A||a!==e.getAttribute(`style`))&&(a==null?e.removeAttribute(`style`):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(Jr(e,n?.[0],r[0]),Jr(e,n?.[1],r[1],`important`)):Jr(e,n,r));return r}var Xr=Symbol(`is custom element`),Zr=Symbol(`is html`);function Qr(e){if(A){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute(`value`)){var n=e.value;$r(e,`value`,null),e.value=n}if(e.hasAttribute(`checked`)){var r=e.checked;$r(e,`checked`,null),e.checked=r}}};e.__on_r=n,Re(n),Kt()}}function $r(e,t,n,r){var i=ei(e);A&&(i[t]=e.getAttribute(t),t===`src`||t===`srcset`||t===`href`&&e.nodeName===`LINK`)||i[t]!==(i[t]=n)&&(t===`loading`&&(e[ae]=n),n==null?e.removeAttribute(t):typeof n!=`string`&&ni(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ei(e){return e.__attributes??={[Xr]:e.nodeName.includes(`-`),[Zr]:e.namespaceURI===`http://www.w3.org/1999/xhtml`}}var ti=new Map;function ni(e){var t=e.getAttribute(`is`)||e.nodeName,n=ti.get(t);if(n)return n;ti.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){for(var o in r=s(i),r)r[o].set&&n.push(o);i=u(i)}return n}function ri(e,t,n=t){var r=new WeakSet;Jt(e,`input`,async i=>{var a=i?e.defaultValue:e.value;if(a=ii(e)?ai(a):a,n(a),I!==null&&r.add(I),await Gn(),a!==(a=t())){var o=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=a??``,s!==null){var l=e.value.length;o===s&&s===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(s,l))}}}),(A&&e.defaultValue!==e.value||Jn(t)==null&&e.value)&&(n(ii(e)?ai(e.value):e.value),I!==null&&r.add(I)),sn(()=>{var n=t();if(e===document.activeElement){var i=qe??I;if(r.has(i))return}ii(e)&&n===ai(e.value)||e.type===`date`&&!n&&!e.value||n!==e.value&&(e.value=n??``)})}function ii(e){var t=e.type;return t===`number`||t===`range`}function ai(e){return e===``?null:+e}function oi(e,t,n){var r=o(e,t);r&&r.set&&(e[t]=n,$t(()=>{e[t]=null}))}var si=new class e{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,t){var n=this.#e.get(e)||new Set;return n.add(t),this.#e.set(e,n),this.#r().observe(e,this.#n),()=>{var n=this.#e.get(e);n.delete(t),n.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??=new ResizeObserver(t=>{for(var n of t){e.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}})}}({box:`border-box`});function ci(e,t,n){var r=si.observe(e,()=>n(e[t]));an(()=>(Jn(()=>n(e[t])),r))}function li(e,t){return e===t||e?.[re]===t}function ui(e={},t,n,r){return an(()=>{var i,a;return sn(()=>{i=a,a=r?.()||[],Jn(()=>{e!==n(...a)&&(t(e,...a),i&&li(n(...i),e)&&t(null,...i))})}),()=>{Re(()=>{a&&li(n(...a),e)&&t(null,...a)})}}),e}function di(e=!1){let t=P,n=t.l.u;if(!n)return;let r=()=>Yn(t.s);if(e){let e=0,n={},i=_t(()=>{let r=!1,i=t.s;for(let e in i)i[e]!==n[e]&&(n[e]=i[e],r=!0);return r&&e++,e});r=()=>q(i)}n.b.length&&nn(()=>{fi(t,r),h(n.b)}),en(()=>{let e=Jn(()=>n.m.map(m));return()=>{for(let t of e)typeof t==`function`&&t()}}),n.a.length&&en(()=>{fi(t,r),h(n.a)})}function fi(e,t){if(e.l.s)for(let t of e.l.s)q(t);t()}function pi(e,t,n){if(e==null)return t(void 0),n&&n(void 0),p;let r=Jn(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}var mi=[];function hi(e,t=p){let n=null,r=new Set;function i(t){if(Ee(e,t)&&(e=t,n)){let t=!mi.length;for(let t of r)t[1](),mi.push(t,e);if(t){for(let e=0;e<mi.length;e+=2)mi[e][0](mi[e+1]);mi.length=0}}}function a(t){i(t(e))}function o(o,s=p){let c=[o,s];return r.add(c),r.size===1&&(n=t(i,a)||p),o(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}function Z(e){let t;return pi(e,e=>t=e)(),t}var gi=!1;function _i(e){var t=gi;try{return gi=!1,[e(),gi]}finally{gi=t}}function vi(e,t,n,r){var i=!ke||(n&2)!=0,a=(n&8)!=0,s=(n&16)!=0,c=r,l=!0,u=()=>(l&&(l=!1,c=s?Jn(r):r),c),d;if(a){var f=re in e||ie in e;d=o(e,t)?.set??(f&&t in e?n=>e[t]=n:void 0)}var p,m=!1;a?[p,m]=_i(()=>e[t]):p=e[t],p===void 0&&r!==void 0&&(p=u(),d&&(i&&fe(t),d(p)));var h=i?()=>{var n=e[t];return n===void 0?u():(l=!0,n)}:()=>{var n=e[t];return n!==void 0&&(c=void 0),n===void 0?c:n};if(i&&!(n&4))return h;if(d){var g=e.$$legacy;return(function(e,t){return arguments.length>0?((!i||!t||g||m)&&d(t?h():e),e):h()})}var _=!1,v=(n&1?_t:yt)(()=>(_=!1,h()));a&&q(v);var y=G;return(function(e,t){if(arguments.length>0){let n=t?q(v):i&&a?Nt(e):e;return z(v,n),_=!0,c!==void 0&&(c=n),e}return Tn&&_||y.f&16384?v.v:q(v)})}function yi(e){P===null&&se(`onMount`),ke&&P.l!==null?bi(P).m.push(e):en(()=>{let t=Jn(e);if(typeof t==`function`)return t})}function bi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`),Ae();const xi=hi(null);function Si(e){let t=e-1;return t*t*t+1}function Ci(e){let t=typeof e==`string`&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||`px`]:[e,`px`]}function wi(e,{delay:t=0,duration:n=400,easing:r=Si,x:i=0,y:a=0,opacity:o=0}={}){let s=getComputedStyle(e),c=+s.opacity,l=s.transform===`none`?``:s.transform,u=c*(1-o),[d,f]=Ci(i),[p,m]=Ci(a);return{delay:t,duration:n,easing:r,css:(e,t)=>`
			transform: ${l} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});
			opacity: ${c-u*t}`}}function Ti(e,{delay:t=0,duration:n=400,easing:r=Si,start:i=0,opacity:a=0}={}){let o=getComputedStyle(e),s=+o.opacity,c=o.transform===`none`?``:o.transform,l=1-i,u=s*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`
			transform: ${c} scale(${1-l*t});
			opacity: ${s-u*t}
		`}}var Ei={drag_start:new Audio(`/audio/drag-start.wav`),drag_end:new Audio(`/audio/drag-end.wav`),trash:new Audio(`/audio/trash.wav`),bubble:new Audio(`/audio/bubble.wav`),toast:new Audio(`/audio/received-item.wav`)};function Di(){let e=parseFloat(localStorage.getItem(`settings.sfx_volume`)??`1.0`),t=1/10**2,n=Math.log(1/t),r=t*Math.exp(n*e);return e<.01&&(r=e*10*t*Math.exp(n*.1)),r}const Oi={drag_start:()=>{let e=Ei.drag_start.cloneNode();e.volume=.3*Di(),e.play()},drag_end:()=>{let e=Ei.drag_end.cloneNode();e.volume=.4*Di(),e.play()},trash:()=>{let e=Ei.trash.cloneNode();e.volume=.6*Di(),e.play()},bubble:()=>{let e=Ei.bubble.cloneNode();e.volume=Di()*.99,e.play()},toast:()=>{let e=Ei.toast.cloneNode();e.volume=Di()*.99,e.play()}};var ki=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepEqualityDataStructuresError=void 0,e.DeepEqualityDataStructuresError=class extends Error{}})),Ai=e(((e,n)=>{(function(t){var r;typeof e==`object`?n.exports=t():typeof define==`function`&&define.amd?define(t):(typeof window<`u`?r=window:typeof global<`u`?r=global:typeof self<`u`&&(r=self),r.objectHash=t())})(function(){return function e(n,r,i){function a(s,c){if(!r[s]){if(!n[s]){var l=typeof t==`function`&&t;if(!c&&l)return l(s,!0);if(o)return o(s,!0);throw Error(`Cannot find module '`+s+`'`)}c=r[s]={exports:{}},n[s][0].call(c.exports,function(e){var t=n[s][1][e];return a(t||e)},c,c.exports,e,n,r,i)}return r[s].exports}for(var o=typeof t==`function`&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){(function(r,i,a,o,s,c,l,u,d){var f=e(`crypto`);function p(e,t){t=g(e,t);var n;return(n=t.algorithm===`passthrough`?new y:f.createHash(t.algorithm)).write===void 0&&(n.write=n.update,n.end=n.update),v(t,n).dispatch(e),n.update||n.end(``),n.digest?n.digest(t.encoding===`buffer`?void 0:t.encoding):(e=n.read(),t.encoding===`buffer`?e:e.toString(t.encoding))}(n=t.exports=p).sha1=function(e){return p(e)},n.keys=function(e){return p(e,{excludeValues:!0,algorithm:`sha1`,encoding:`hex`})},n.MD5=function(e){return p(e,{algorithm:`md5`,encoding:`hex`})},n.keysMD5=function(e){return p(e,{algorithm:`md5`,encoding:`hex`,excludeValues:!0})};var m=f.getHashes?f.getHashes().slice():[`sha1`,`md5`],h=(m.push(`passthrough`),[`buffer`,`hex`,`binary`,`base64`]);function g(e,t){var n={};if(n.algorithm=(t||={}).algorithm||`sha1`,n.encoding=t.encoding||`hex`,n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,e===void 0)throw Error(`Object argument required.`);for(var r=0;r<m.length;++r)m[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=m[r]);if(m.indexOf(n.algorithm)===-1)throw Error(`Algorithm "`+n.algorithm+`"  not supported. supported values: `+m.join(`, `));if(h.indexOf(n.encoding)===-1&&n.algorithm!==`passthrough`)throw Error(`Encoding "`+n.encoding+`"  not supported. supported values: `+h.join(`, `));return n}function _(e){if(typeof e==`function`)return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!=null}function v(e,t,n){n||=[];function r(e){return t.update?t.update(e,`utf8`):t.write(e,`utf8`)}return{dispatch:function(t){return this[`_`+((t=e.replacer?e.replacer(t):t)===null?`null`:typeof t)](t)},_object:function(t){var i,o=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(o);if(s=(s=s?s[1]:`unknown:[`+o+`]`).toLowerCase(),0<=(o=n.indexOf(t)))return this.dispatch(`[CIRCULAR:`+o+`]`);if(n.push(t),a!==void 0&&a.isBuffer&&a.isBuffer(t))return r(`buffer:`),r(t);if(s===`object`||s===`function`||s===`asyncfunction`)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||_(t)||o.splice(0,0,`prototype`,`__proto__`,`constructor`),e.excludeKeys&&(o=o.filter(function(t){return!e.excludeKeys(t)})),r(`object:`+o.length+`:`),i=this,o.forEach(function(n){i.dispatch(n),r(`:`),e.excludeValues||i.dispatch(t[n]),r(`,`)});if(!this[`_`+s]){if(e.ignoreUnknown)return r(`[`+s+`]`);throw Error(`Unknown object type "`+s+`"`)}this[`_`+s](t)},_array:function(t,i){i=i===void 0?!1!==e.unorderedArrays:i;var a=this;if(r(`array:`+t.length+`:`),!i||t.length<=1)return t.forEach(function(e){return a.dispatch(e)});var o=[],i=t.map(function(t){var r=new y,i=n.slice();return v(e,r,i).dispatch(t),o=o.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(o),i.sort(),this._array(i,!1)},_date:function(e){return r(`date:`+e.toJSON())},_symbol:function(e){return r(`symbol:`+e.toString())},_error:function(e){return r(`error:`+e.toString())},_boolean:function(e){return r(`bool:`+e.toString())},_string:function(e){r(`string:`+e.length+`:`),r(e.toString())},_function:function(t){r(`fn:`),_(t)?this.dispatch(`[native]`):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch(`function-name:`+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r(`number:`+e.toString())},_xml:function(e){return r(`xml:`+e.toString())},_null:function(){return r(`Null`)},_undefined:function(){return r(`Undefined`)},_regexp:function(e){return r(`regex:`+e.toString())},_uint8array:function(e){return r(`uint8array:`),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r(`uint8clampedarray:`),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r(`int8array:`),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r(`uint16array:`),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r(`int16array:`),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r(`uint32array:`),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r(`int32array:`),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r(`float32array:`),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r(`float64array:`),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r(`arraybuffer:`),this.dispatch(new Uint8Array(e))},_url:function(e){return r(`url:`+e.toString())},_map:function(t){return r(`map:`),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r(`set:`),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r(`file:`),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r(`[blob]`);throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return r(`domwindow`)},_bigint:function(e){return r(`bigint:`+e.toString())},_process:function(){return r(`process`)},_timer:function(){return r(`timer`)},_pipe:function(){return r(`pipe`)},_tcp:function(){return r(`tcp`)},_udp:function(){return r(`udp`)},_tty:function(){return r(`tty`)},_statwatcher:function(){return r(`statwatcher`)},_securecontext:function(){return r(`securecontext`)},_connection:function(){return r(`connection`)},_zlib:function(){return r(`zlib`)},_context:function(){return r(`context`)},_nodescript:function(){return r(`nodescript`)},_httpparser:function(){return r(`httpparser`)},_dataview:function(){return r(`dataview`)},_signal:function(){return r(`signal`)},_fsevent:function(){return r(`fsevent`)},_tlswrap:function(){return r(`tlswrap`)}}}function y(){return{buf:``,write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return n===void 0&&(n=t,t={}),v(t=g(e,t),n).dispatch(e)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/fake_9a5aa49d.js`,`/`)},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,a,o,s,c,l){(function(e){var t=typeof Uint8Array<`u`?Uint8Array:Array,n=43,r=47,i=48,a=97,o=65,s=45,c=95;function l(e){return e=e.charCodeAt(0),e===n||e===s?62:e===r||e===c?63:e<i?-1:e<i+10?e-i+26+26:e<o+26?e-o:e<a+26?e-a+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw Error(`Invalid string. Length must be a multiple of 4`);var i=e.length,i=e.charAt(i-2)===`=`?2:e.charAt(i-1)===`=`?1:0,a=new t(3*e.length/4-i),o=0<i?e.length-4:e.length,s=0;function c(e){a[s++]=e}for(n=0;n<o;n+=4)c((16711680&(r=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3))))>>16),c((65280&r)>>8),c(255&r);return i==2?c(255&(r=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4)):i==1&&(c((r=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2)>>8&255),c(255&r)),a},e.fromByteArray=function(e){var t,n,r,i,a=e.length%3,o=``;function s(e){return`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`.charAt(e)}for(t=0,r=e.length-a;t<r;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],o+=s((i=n)>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(a){case 1:o=(o+=s((n=e[e.length-1])>>2))+s(n<<4&63)+`==`;break;case 2:o=(o=(o+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+`=`}return o}})(n===void 0?this.base64js={}:n)}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js`,`/node_modules/gulp-browserify/node_modules/base64-js/lib`)},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,a,o,s,c,l,u){var d=e(`base64-js`),f=e(`ieee754`);function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,a,o,s,c=typeof e;if(t===`base64`&&c==`string`)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,``);e.length%4!=0;)e+=`=`;if(c==`number`)r=ne(e);else if(c==`string`)r=i.byteLength(e,t);else{if(c!=`object`)throw Error(`First argument needs to be a number, array or string.`);r=ne(e.length)}if(i._useTypedArrays?a=i._augment(new Uint8Array(r)):((a=this).length=r,a._isBuffer=!0),i._useTypedArrays&&typeof e.byteLength==`number`)a._set(e);else if(re(s=e)||i.isBuffer(s)||s&&typeof s==`object`&&typeof s.length==`number`)for(o=0;o<r;o++)i.isBuffer(e)?a[o]=e.readUInt8(o):a[o]=e[o];else if(c==`string`)a.write(e,0,t);else if(c==`number`&&!i._useTypedArrays&&!n)for(o=0;o<r;o++)a[o]=0;return a}function p(e,t,n,r){return i._charsWritten=se(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return i._charsWritten=se(function(e){for(var t,n,r=[],i=0;i<e.length;i++)n=e.charCodeAt(i),t=n>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function h(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function g(e,t,n,r){r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+1<e.length,`Trying to read beyond buffer length`));var i,r=e.length;if(!(r<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function _(e,t,n,r){r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+3<e.length,`Trying to read beyond buffer length`));var i,r=e.length;if(!(r<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function v(e,t,n,r){if(r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+1<e.length,`Trying to read beyond buffer length`)),!(e.length<=t))return r=g(e,t,n,!0),32768&r?-1*(65535-r+1):r}function y(e,t,n,r){if(r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+3<e.length,`Trying to read beyond buffer length`)),!(e.length<=t))return r=_(e,t,n,!0),2147483648&r?-1*(4294967295-r+1):r}function b(e,t,n,r){return r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t+3<e.length,`Trying to read beyond buffer length`)),f.read(e,t,n,23,4)}function x(e,t,n,r){return r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t+7<e.length,`Trying to read beyond buffer length`)),f.read(e,t,n,52,8)}function S(e,t,n,r,i){if(i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+1<e.length,`trying to write beyond buffer length`),le(t,65535)),i=e.length,!(i<=n))for(var a=0,o=Math.min(i-n,2);a<o;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function C(e,t,n,r,i){if(i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`trying to write beyond buffer length`),le(t,4294967295)),i=e.length,!(i<=n))for(var a=0,o=Math.min(i-n,4);a<o;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function w(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+1<e.length,`Trying to write beyond buffer length`),ue(t,32767,-32768)),e.length<=n||S(e,0<=t?t:65535+t+1,n,r,i)}function T(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`Trying to write beyond buffer length`),ue(t,2147483647,-2147483648)),e.length<=n||C(e,0<=t?t:4294967295+t+1,n,r,i)}function E(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`Trying to write beyond buffer length`),de(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function ee(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+7<e.length,`Trying to write beyond buffer length`),de(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},t.foo()===42&&typeof t.subarray==`function`}catch{return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`binary`:case`base64`:case`raw`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},i.isBuffer=function(e){return!(e==null||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+=``,t||`utf8`){case`hex`:n=e.length/2;break;case`utf8`:case`utf-8`:n=ae(e).length;break;case`ascii`:case`binary`:case`raw`:n=e.length;break;case`base64`:n=oe(e).length;break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:n=2*e.length;break;default:throw Error(`Unknown encoding`)}return n},i.concat=function(e,t){if(O(re(e),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),e.length===0)return new i(0);if(e.length===1)return e[0];if(typeof t!=`number`)for(a=t=0;a<e.length;a++)t+=e[a].length;for(var n=new i(t),r=0,a=0;a<e.length;a++){var o=e[a];o.copy(n,r),r+=o.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(l=r,r=t,t=n,n=l),t=Number(t)||0;var a,o,s,c,l=this.length-t;switch((!n||l<(n=Number(n)))&&(n=l),r=String(r||`utf8`).toLowerCase()){case`hex`:a=function(e,t,n,r){n=Number(n)||0;var a=e.length-n;(!r||a<(r=Number(r)))&&(r=a),O((a=t.length)%2==0,`Invalid hex string`),a/2<r&&(r=a/2);for(var o=0;o<r;o++){var s=parseInt(t.substr(2*o,2),16);O(!isNaN(s),`Invalid hex string`),e[n+o]=s}return i._charsWritten=2*o,o}(this,e,t,n);break;case`utf8`:case`utf-8`:o=this,s=t,c=n,a=i._charsWritten=se(ae(e),o,s,c);break;case`ascii`:case`binary`:a=p(this,e,t,n);break;case`base64`:o=this,s=t,c=n,a=i._charsWritten=se(oe(e),o,s,c);break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:a=m(this,e,t,n);break;default:throw Error(`Unknown encoding`)}return a},i.prototype.toString=function(e,t,n){var r,i,a,o,s=this;if(e=String(e||`utf8`).toLowerCase(),t=Number(t)||0,(n=n===void 0?s.length:Number(n))===t)return``;switch(e){case`hex`:r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i=``,a=t;a<n;a++)i+=ie(e[a]);return i}(s,t,n);break;case`utf8`:case`utf-8`:r=function(e,t,n){var r=``,i=``;n=Math.min(e.length,n);for(var a=t;a<n;a++)e[a]<=127?(r+=ce(i)+String.fromCharCode(e[a]),i=``):i+=`%`+e[a].toString(16);return r+ce(i)}(s,t,n);break;case`ascii`:case`binary`:r=h(s,t,n);break;case`base64`:i=s,o=n,r=(a=t)===0&&o===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(a,o));break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:r=function(e,t,n){for(var r=e.slice(t,n),i=``,a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(s,t,n);break;default:throw Error(`Unknown encoding`)}return r},i.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t||=0,(r=r||r===0?r:this.length)!==(n||=0)&&e.length!==0&&this.length!==0){O(n<=r,`sourceEnd < sourceStart`),O(0<=t&&t<e.length,`targetStart out of bounds`),O(0<=n&&n<this.length,`sourceStart out of bounds`),O(0<=r&&r<=this.length,`sourceEnd out of bounds`),r>this.length&&(r=this.length);var a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(a<100||!i._useTypedArrays)for(var o=0;o<a;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=te(e,n,0),t=te(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,a=new i(r,void 0,!0),o=0;o<r;o++)a[o]=this[o+e];return a},i.prototype.get=function(e){return console.log(`.get() is deprecated. Access using array indexes instead.`),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(`.set() is deprecated. Access using array indexes instead.`),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(O(e!=null,`missing offset`),O(e<this.length,`Trying to read beyond buffer length`)),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return _(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return _(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(O(e!=null,`missing offset`),O(e<this.length,`Trying to read beyond buffer length`)),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return x(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return x(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(O(e!=null,`missing value`),O(t!=null,`missing offset`),O(t<this.length,`trying to write beyond buffer length`),le(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(O(e!=null,`missing value`),O(t!=null,`missing offset`),O(t<this.length,`Trying to write beyond buffer length`),ue(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){T(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){T(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){ee(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){ee(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t||=0,n||=this.length,O(typeof(e=typeof(e||=0)==`string`?e.charCodeAt(0):e)==`number`&&!isNaN(e),`value is not a number`),O(t<=n,`end < start`),n!==t&&this.length!==0){O(0<=t&&t<this.length,`start out of bounds`),O(0<=n&&n<=this.length,`end out of bounds`);for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=ie(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]=`...`;break}return`<Buffer `+e.join(` `)+`>`},i.prototype.toArrayBuffer=function(){if(typeof Uint8Array>`u`)throw Error(`Buffer.toArrayBuffer not supported in this browser`);if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var D=i.prototype;function te(e,t,n){return typeof e==`number`?t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0:n}function ne(e){return(e=~~Math.ceil(+e))<0?0:e}function re(e){return(Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`})(e)}function ie(e){return e<16?`0`+e.toString(16):e.toString(16)}function ae(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,a=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split(`%`)),o=0;o<a.length;o++)t.push(parseInt(a[o],16))}return t}function oe(e){return d.toByteArray(e)}function se(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function ce(e){try{return decodeURIComponent(e)}catch{return`ï¿½`}}function le(e,t){O(typeof e==`number`,`cannot write a non-number as a number`),O(0<=e,`specified a negative value for writing an unsigned value`),O(e<=t,`value is larger than maximum value for type`),O(Math.floor(e)===e,`value has a fractional component`)}function ue(e,t,n){O(typeof e==`number`,`cannot write a non-number as a number`),O(e<=t,`value larger than maximum allowed value`),O(n<=e,`value smaller than minimum allowed value`),O(Math.floor(e)===e,`value has a fractional component`)}function de(e,t,n){O(typeof e==`number`,`cannot write a non-number as a number`),O(e<=t,`value larger than maximum allowed value`),O(n<=e,`value smaller than minimum allowed value`)}function O(e,t){if(!e)throw Error(t||`Failed assertion`)}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=D.get,e.set=D.set,e.write=D.write,e.toString=D.toString,e.toLocaleString=D.toString,e.toJSON=D.toJSON,e.copy=D.copy,e.slice=D.slice,e.readUInt8=D.readUInt8,e.readUInt16LE=D.readUInt16LE,e.readUInt16BE=D.readUInt16BE,e.readUInt32LE=D.readUInt32LE,e.readUInt32BE=D.readUInt32BE,e.readInt8=D.readInt8,e.readInt16LE=D.readInt16LE,e.readInt16BE=D.readInt16BE,e.readInt32LE=D.readInt32LE,e.readInt32BE=D.readInt32BE,e.readFloatLE=D.readFloatLE,e.readFloatBE=D.readFloatBE,e.readDoubleLE=D.readDoubleLE,e.readDoubleBE=D.readDoubleBE,e.writeUInt8=D.writeUInt8,e.writeUInt16LE=D.writeUInt16LE,e.writeUInt16BE=D.writeUInt16BE,e.writeUInt32LE=D.writeUInt32LE,e.writeUInt32BE=D.writeUInt32BE,e.writeInt8=D.writeInt8,e.writeInt16LE=D.writeInt16LE,e.writeInt16BE=D.writeInt16BE,e.writeInt32LE=D.writeInt32LE,e.writeInt32BE=D.writeInt32BE,e.writeFloatLE=D.writeFloatLE,e.writeFloatBE=D.writeFloatBE,e.writeDoubleLE=D.writeDoubleLE,e.writeDoubleBE=D.writeDoubleBE,e.fill=D.fill,e.inspect=D.inspect,e.toArrayBuffer=D.toArrayBuffer,e}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/buffer/index.js`,`/node_modules/gulp-browserify/node_modules/buffer`)},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var i=e(`buffer`).Buffer,d=4,f=new i(d);f.fill(0),t.exports={hash:function(e,t,n,r){for(var a=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,f],n));for(var n,r=[],a=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=d)r.push(a.call(e,o));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),t=r,o=new i(n),s=t?o.writeInt32BE:o.writeInt32LE,c=0;c<a.length;c++)s.call(o,a[c],4*c,!0);return o}}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,a,o,s,c,l,u){var i=e(`buffer`).Buffer,d=e(`./sha`),f=e(`./sha256`),p=e(`./rng`),m={sha1:d,sha256:f,md5:e(`./md5`)},h=64,g=new i(h);function _(e,t){var n=m[e||=`sha1`],r=[];return n||v(`algorithm:`,e,`is not yet supported`),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var a=i.concat(r),a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>h?t=e(t):t.length<h&&(t=i.concat([t,g],h));for(var r=new i(h),a=new i(h),o=0;o<h;o++)r[o]=54^t[o],a[o]=92^t[o];return n=e(i.concat([r,n])),e(i.concat([a,n]))}(n,t,a):n(a);return r=null,e?a.toString(e):a}}}function v(){var e=[].slice.call(arguments).join(` `);throw Error([e,`we accept pull requests`,`http://github.com/dominictarr/crypto-browserify`].join(`
`))}g.fill(0),n.createHash=function(e){return _(e)},n.createHmac=_,n.randomBytes=function(e,t){if(!t||!t.call)return new i(p(e));try{t.call(this,void 0,new i(p(e)))}catch(e){t(e)}};var y,b=[`createCredentials`,`createCipher`,`createCipheriv`,`createDecipher`,`createDecipheriv`,`createSign`,`createVerify`,`createDiffieHellman`,`pbkdf2`],x=function(e){n[e]=function(){v(`sorry,`,e,`is not implemented yet`)}};for(y in b)x(b[y],y)}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var d=e(`./helpers`);function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,c=r,l=i,u=a,n=m(n,r,i,a,e[o+0],7,-680876936),a=m(a,n,r,i,e[o+1],12,-389564586),i=m(i,a,n,r,e[o+2],17,606105819),r=m(r,i,a,n,e[o+3],22,-1044525330);n=m(n,r,i,a,e[o+4],7,-176418897),a=m(a,n,r,i,e[o+5],12,1200080426),i=m(i,a,n,r,e[o+6],17,-1473231341),r=m(r,i,a,n,e[o+7],22,-45705983),n=m(n,r,i,a,e[o+8],7,1770035416),a=m(a,n,r,i,e[o+9],12,-1958414417),i=m(i,a,n,r,e[o+10],17,-42063),r=m(r,i,a,n,e[o+11],22,-1990404162),n=m(n,r,i,a,e[o+12],7,1804603682),a=m(a,n,r,i,e[o+13],12,-40341101),i=m(i,a,n,r,e[o+14],17,-1502002290),n=h(n,r=m(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=h(a,n,r,i,e[o+6],9,-1069501632),i=h(i,a,n,r,e[o+11],14,643717713),r=h(r,i,a,n,e[o+0],20,-373897302),n=h(n,r,i,a,e[o+5],5,-701558691),a=h(a,n,r,i,e[o+10],9,38016083),i=h(i,a,n,r,e[o+15],14,-660478335),r=h(r,i,a,n,e[o+4],20,-405537848),n=h(n,r,i,a,e[o+9],5,568446438),a=h(a,n,r,i,e[o+14],9,-1019803690),i=h(i,a,n,r,e[o+3],14,-187363961),r=h(r,i,a,n,e[o+8],20,1163531501),n=h(n,r,i,a,e[o+13],5,-1444681467),a=h(a,n,r,i,e[o+2],9,-51403784),i=h(i,a,n,r,e[o+7],14,1735328473),n=g(n,r=h(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=g(a,n,r,i,e[o+8],11,-2022574463),i=g(i,a,n,r,e[o+11],16,1839030562),r=g(r,i,a,n,e[o+14],23,-35309556),n=g(n,r,i,a,e[o+1],4,-1530992060),a=g(a,n,r,i,e[o+4],11,1272893353),i=g(i,a,n,r,e[o+7],16,-155497632),r=g(r,i,a,n,e[o+10],23,-1094730640),n=g(n,r,i,a,e[o+13],4,681279174),a=g(a,n,r,i,e[o+0],11,-358537222),i=g(i,a,n,r,e[o+3],16,-722521979),r=g(r,i,a,n,e[o+6],23,76029189),n=g(n,r,i,a,e[o+9],4,-640364487),a=g(a,n,r,i,e[o+12],11,-421815835),i=g(i,a,n,r,e[o+15],16,530742520),n=_(n,r=g(r,i,a,n,e[o+2],23,-995338651),i,a,e[o+0],6,-198630844),a=_(a,n,r,i,e[o+7],10,1126891415),i=_(i,a,n,r,e[o+14],15,-1416354905),r=_(r,i,a,n,e[o+5],21,-57434055),n=_(n,r,i,a,e[o+12],6,1700485571),a=_(a,n,r,i,e[o+3],10,-1894986606),i=_(i,a,n,r,e[o+10],15,-1051523),r=_(r,i,a,n,e[o+1],21,-2054922799),n=_(n,r,i,a,e[o+8],6,1873313359),a=_(a,n,r,i,e[o+15],10,-30611744),i=_(i,a,n,r,e[o+6],15,-1560198380),r=_(r,i,a,n,e[o+13],21,1309151649),n=_(n,r,i,a,e[o+4],6,-145523070),a=_(a,n,r,i,e[o+11],10,-1120210379),i=_(i,a,n,r,e[o+2],15,718787259),r=_(r,i,a,n,e[o+9],21,-343485551),n=v(n,s),r=v(r,c),i=v(i,l),a=v(a,u)}return[n,r,i,a]}function p(e,t,n,r,i,a){return v((t=v(v(t,e),v(r,a)))<<i|t>>>32-i,n)}function m(e,t,n,r,i,a,o){return p(t&n|~t&r,e,t,i,a,o)}function h(e,t,n,r,i,a,o){return p(t&r|n&~r,e,t,i,a,o)}function g(e,t,n,r,i,a,o){return p(t^n^r,e,t,i,a,o)}function _(e,t,n,r,i,a,o){return p(n^(t|~r),e,t,i,a,o)}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,a,o,s,c,l){var u;t.exports=u||function(e){for(var t,n=Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var d=e(`./helpers`);function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,a=Array(80),o=1732584193,s=-271733879,c=-1732584194,l=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var f=o,h=s,g=c,_=l,v=u,y=0;y<80;y++){a[y]=y<16?e[d+y]:m(a[y-3]^a[y-8]^a[y-14]^a[y-16],1);var b=p(p(m(o,5),(b=s,r=c,i=l,(n=y)<20?b&r|~b&i:!(n<40)&&n<60?b&r|b&i|r&i:b^r^i)),p(p(u,a[y]),(n=y)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514)),u=l,l=c,c=m(s,30),s=o,o=b}o=p(o,f),s=p(s,h),c=p(c,g),l=p(l,_),u=p(u,v)}return[o,s,c,l,u]}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){var n,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,s,c=0;c<e.length;c+=16){for(var l=i[0],u=i[1],f=i[2],p=i[3],g=i[4],_=i[5],v=i[6],y=i[7],b=0;b<64;b++)a[b]=b<16?e[b+c]:d(d(d((s=a[b-2],m(s,17)^m(s,19)^h(s,10)),a[b-7]),(s=a[b-15],m(s,7)^m(s,18)^h(s,3))),a[b-16]),n=d(d(d(d(y,m(s=g,6)^m(s,11)^m(s,25)),g&_^~g&v),r[b]),a[b]),o=d(m(o=l,2)^m(o,13)^m(o,22),l&u^l&f^u&f),y=v,v=_,_=g,g=d(p,n),p=f,f=u,u=l,l=d(n,o);i[0]=d(l,i[0]),i[1]=d(u,i[1]),i[2]=d(f,i[2]),i[3]=d(p,i[3]),i[4]=d(g,i[4]),i[5]=d(_,i[5]),i[6]=d(v,i[6]),i[7]=d(y,i[7])}return i}var p=e(`./helpers`),m=function(e,t){return e>>>t|e<<32-t},h=function(e,t){return e>>>t};t.exports=function(e){return p.hash(e,f,32,!0)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,a,o,s,c,l){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,i=e[t+d];for(d+=f,a=i&(1<<-u)-1,i>>=-u,u+=s;0<u;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;0<u;o=256*o+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:1/0*(i?-1:1);o+=2**r,a-=l}return(i?-1:1)*o*2**(a-r)},n.write=function(e,t,n,r,i,a){var o,s,c=8*a-i-1,l=(1<<c)-1,u=l>>1,d=i===23?2**-24-2**-77:0,f=r?0:a-1,p=r?1:-1,a=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(r=2**-o)<1&&(o--,r*=2),2<=(t+=1<=o+u?d/r:d*2**(1-u))*r&&(o++,r/=2),l<=o+u?(s=0,o=l):1<=o+u?(s=(t*r-1)*2**i,o+=u):(s=t*2**(u-1)*2**i,o=0));8<=i;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;0<c;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*a}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/ieee754/index.js`,`/node_modules/gulp-browserify/node_modules/ieee754`)},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,a,o,s,c,l){var u,d,f;function p(){}(e=t.exports={}).nextTick=(d=typeof window<`u`&&window.setImmediate,f=typeof window<`u`&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:f?(u=[],window.addEventListener(`message`,function(e){var t=e.source;t!==window&&t!==null||e.data!==`process-tick`||(e.stopPropagation(),0<u.length&&u.shift()())},!0),function(e){u.push(e),window.postMessage(`process-tick`,`*`)}):function(e){setTimeout(e,0)}),e.title=`browser`,e.browser=!0,e.env={},e.argv=[],e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.binding=function(e){throw Error(`process.binding is not supported`)},e.cwd=function(){return`/`},e.chdir=function(e){throw Error(`process.chdir is not supported`)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/process/browser.js`,`/node_modules/gulp-browserify/node_modules/process`)},{buffer:3,lYpoI2:11}]},{},[1])(1)})})),ji=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.Transformers=void 0,e.Transformers=class{static identity(e){return e}static jsonSerializeDeserialize(e){return JSON.parse(JSON.stringify(e))}}})),Mi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.getOptionsWithDefaults=n;var t=ji();function n(e){return Object.assign({algorithm:`md5`,transformer:t.Transformers.identity,mapValueTransformer:t.Transformers.identity,useToJsonTransform:!1,caseInsensitive:!1},e)}})),Ni=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.stringify=t,e.chain=n;function t(e){return typeof e==`object`&&e?`toString`in e&&![Object.prototype.toString,Array.prototype.toString].includes(e.toString)?e.toString():JSON.stringify(e):String(e)}function n(e){let[t,...n]=e;return(...e)=>n.reduce((e,t)=>t(e),t(...e))}})),Pi=e((e=>{var t=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,`__esModule`,{value:!0}),e.Normalizer=void 0;var r=n(Ai()),i=Mi(),a=ji(),o=Ni();e.Normalizer=class e{constructor(e={}){this.optionsChecksum=(0,r.default)(e);let n=(0,i.getOptionsWithDefaults)(e),{transformer:s,mapValueTransformer:c,useToJsonTransform:l,caseInsensitive:u}=n;if(this.objectHashOptions=t(n,[`transformer`,`mapValueTransformer`,`useToJsonTransform`,`caseInsensitive`]),this.caseInsensitive=u,this.keyTransformer=l?(0,o.chain)([a.Transformers.jsonSerializeDeserialize,s]):s,this.valueTransformer=l?(0,o.chain)([a.Transformers.jsonSerializeDeserialize,c]):c,u){let e=e=>typeof e==`string`?e.toLowerCase():e,{replacer:t}=this.objectHashOptions;this.objectHashOptions.replacer=t?(0,o.chain)([e,t]):e}}getOptionsChecksum(){return this.optionsChecksum}normalizeKey(e){return this.normalizeHelper(this.keyTransformer(e))}normalizeValue(e){return this.normalizeHelper(this.valueTransformer(e))}normalizeHelper(t){return e.isObject(t)?(0,r.default)(t,this.objectHashOptions):this.caseInsensitive&&typeof t==`string`?t.toLowerCase():t}static isObject(e){return typeof e==`object`&&!!e}}})),Fi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepMap=void 0;var t=ki(),n=Pi();e.DeepMap=class e extends Map{constructor(e,t={}){super(),this.options=t,this.normalizer=new n.Normalizer(t);let r=e?e.map(([e,t])=>[this.normalizeKey(e),{key:e,val:t}]):null;this.map=new Map(r)}get size(){return this.map.size}has(e){return this.map.has(this.normalizeKey(e))}set(e,t){return this.map.set(this.normalizeKey(e),{key:e,val:t}),this}get(e){return this.map.get(this.normalizeKey(e))?.val}delete(e){return this.map.delete(this.normalizeKey(e))}clear(){this.map.clear()}forEach(e){this.map.forEach((t,n,r)=>{e(t.val,t.key,this)})}*[Symbol.iterator](){for(let[e,t]of this.map[Symbol.iterator]())yield[t.key,t.val]}*entries(){for(let e of this[Symbol.iterator]())yield e}*keys(){for(let[e,t]of this[Symbol.iterator]())yield e}*values(){for(let[e,t]of this[Symbol.iterator]())yield t}equals(e){return this.validateUsingSameOptionsAs(e),this.size===e.size&&this.contains(e)}contains(e){return this.validateUsingSameOptionsAs(e),[...e.entries()].every(([e,t])=>this.keyValuePairIsPresentIn(e,t,this))}union(t){return this.validateUsingSameOptionsAs(t),new e([...t.entries(),...this.entries()],this.options)}intersection(t){return this.validateUsingSameOptionsAs(t),new e([...this.entries()].filter(([e,n])=>this.keyValuePairIsPresentIn(e,n,t)),this.options)}difference(t){return this.validateUsingSameOptionsAs(t),new e([...this.entries()].filter(([e,n])=>!this.keyValuePairIsPresentIn(e,n,t)),this.options)}normalizeKey(e){return this.normalizer.normalizeKey(e)}normalizeValue(e){return this.normalizer.normalizeValue(e)}validateUsingSameOptionsAs(e){if(this.normalizer.getOptionsChecksum()!==e.normalizer.getOptionsChecksum())throw new t.DeepEqualityDataStructuresError(`Structures must use same options for Comparable interface operations`)}keyValuePairIsPresentIn(e,t,n){let r=n.get(e);return r!==void 0&&this.normalizeValue(r)===this.normalizeValue(t)}}})),Ii=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepSet=void 0;var t=Fi();e.DeepSet=class e extends Set{constructor(e,n){super(),this.options=n;let r=e?e.map(e=>[e,null]):null;this.map=new t.DeepMap(r,n)}get size(){return this.map.size}has(e){return this.map.has(e)}add(e){return this.map.set(e,null),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}forEach(e){this.map.forEach((t,n,r)=>{e(n,n,this)})}*[Symbol.iterator](){for(let[e,t]of this.map[Symbol.iterator]())yield e}*entries(){for(let e of this[Symbol.iterator]())yield[e,e]}*keys(){for(let e of this[Symbol.iterator]())yield e}*values(){yield*this.keys()}equals(e){return this.map.equals(e.map)}contains(e){return this.map.contains(e.map)}union(e){return this.getSetFromMapKeys(this.map.union(e.map))}intersection(e){return this.getSetFromMapKeys(this.map.intersection(e.map))}difference(e){return this.getSetFromMapKeys(this.map.difference(e.map))}getSetFromMapKeys(t){return new e([...t.keys()],this.options)}}})),Li=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.BiDirectionalDeepMap=void 0;var t=ki(),n=Fi(),r=Ni();e.BiDirectionalDeepMap=class extends n.DeepMap{constructor(e,t){super(e,t);let n=e?e.map(([e,t])=>[this.normalizeValue(t),e]):null;this.valueMap=new Map(n)}set(e,n){let i=this.getKeyByValue(n);if(i!==void 0&&this.normalizeKey(i)!==this.normalizeKey(e))throw new t.DeepEqualityDataStructuresError(`Could not set key='${(0,r.stringify)(e)}': The value='${(0,r.stringify)(n)}' is already associated with key='${(0,r.stringify)(i)}'`);return this.valueMap.set(this.normalizeValue(n),e),super.set(e,n)}delete(e){let t=this.get(e);return t&&this.valueMap.delete(this.normalizeValue(t)),super.delete(e)}clear(){this.valueMap.clear(),super.clear()}hasValue(e){return this.valueMap.has(this.normalizeValue(e))}getKeyByValue(e){return this.valueMap.get(this.normalizeValue(e))}deleteByValue(e){let t=this.getKeyByValue(e);return t?this.delete(t):!1}}})),Ri=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.areEqual=r;var t=ki(),n=Ii();function r(e,r){if(e.length===0)throw new t.DeepEqualityDataStructuresError(`Empty values list passed to areEqual function`);return new n.DeepSet(e,r).size===1}})),zi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.areEqual=e.BiDirectionalDeepMap=e.DeepMap=e.DeepSet=void 0;var t=Ii();Object.defineProperty(e,`DeepSet`,{enumerable:!0,get:function(){return t.DeepSet}});var n=Fi();Object.defineProperty(e,`DeepMap`,{enumerable:!0,get:function(){return n.DeepMap}});var r=Li();Object.defineProperty(e,`BiDirectionalDeepMap`,{enumerable:!0,get:function(){return r.BiDirectionalDeepMap}});var i=Ri();Object.defineProperty(e,`areEqual`,{enumerable:!0,get:function(){return i.areEqual}})}))(),Bi=Object.defineProperty;((e,t)=>{for(var n in t)Bi(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})})({},{slotTypes:()=>Gi,permissions:()=>Wi,itemsHandlingFlags:()=>Ui,itemClassifications:()=>Hi,clientStatuses:()=>Vi});var Vi={disconnected:0,connected:5,ready:10,playing:20,goal:30},Hi={progression:1,useful:2,trap:4,none:0},Ui={minimal:0,others:1,own:2,starting:4,all:7},Wi={disabled:0,enabled:1,goal:2,auto:6,autoEnabled:7},Gi={spectator:0,player:1,group:2},Ki=class extends Error{},qi=class extends Error{argumentName;value;constructor(e,t,n){super(e),this.argumentName=t,this.value=structuredClone(n)}},Ji=class extends Error{errors=[];constructor(e,t){super(e),this.errors=t}},Yi=class extends Error{},Xi={timeout:1e4,autoFetchDataPackage:!0,maximumMessages:1e3,debugLogVersions:!0},Zi={major:0,minor:5,build:1},Qi=`2.0.4`;function $i(){let e=[];for(let t=0;t<36;t++)e.push(Math.floor(Math.random()*16));return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]=`-`,e.map(e=>e.toString(16)).join(``)}var ea={password:``,uuid:$i(),tags:[],version:Zi,items:Ui.all,slotData:!0},ta=class{#e;#t;#n;#r;constructor(e,t,n,r){this.#e=e,this.#t=t,this.#n=n,this.#r=r}toString(){return this.name}get receiver(){return this.#r}get sender(){return this.#n}get name(){return this.#e.package.lookupItemName(this.game,this.#t.item,!0)}get id(){return this.#t.item}get locationName(){return this.#e.package.lookupLocationName(this.sender.game,this.#t.location,!0)}get locationId(){return this.#t.location}get locationGame(){return this.sender.game}get game(){return this.receiver.game}get progression(){return(this.flags&Hi.progression)===Hi.progression}get useful(){return(this.flags&Hi.useful)===Hi.useful}get trap(){return(this.flags&Hi.trap)===Hi.trap}get filler(){return this.flags===Hi.none}get flags(){return this.#t.flags}},na=class{game;checksum;itemTable;locationTable;reverseItemTable;reverseLocationTable;constructor(e,t){this.game=e,this.checksum=t.checksum,this.itemTable=Object.freeze(t.item_name_to_id),this.locationTable=Object.freeze(t.location_name_to_id),this.reverseItemTable=Object.freeze(Object.fromEntries(Object.entries(this.itemTable).map(([e,t])=>[t,e]))),this.reverseLocationTable=Object.freeze(Object.fromEntries(Object.entries(this.locationTable).map(([e,t])=>[t,e])))}exportPackage(){return{checksum:this.checksum,item_name_to_id:{...this.itemTable},location_name_to_id:{...this.locationTable}}}},ra=class{#e;#t=new Map;#n=new Map;#r=new Set;constructor(e){this.#e=e,this.#e.socket.on(`roomInfo`,e=>{for(let t in this.#t.clear(),this.#n.clear(),this.#r.clear(),this.#t.set(`Archipelago`,this.#i()),e.datapackage_checksums)this.#n.set(t,e.datapackage_checksums[t]),this.#r.add(t)})}findPackage(e){return this.#t.get(e)??null}async fetchPackage(e=[],t=!0){e.length===0&&(e=Array.from(this.#r)),e=e.filter(e=>this.#r.has(e)?this.#t.get(e)?.checksum!==this.#n.get(e):!1);let n={games:{}};for(let t of e){let e={cmd:`GetDataPackage`,games:[t]},[r]=await this.#e.socket.send(e).wait(`dataPackage`);n.games[t]=r.data.games[t]}return t&&this.importPackage(n),n}importPackage(e){for(let t in e.games)this.#t.set(t,new na(t,e.games[t])),this.#n.set(t,e.games[t].checksum)}exportPackage(){return{games:this.#t.entries().reduce((e,[t,n])=>(e[t]=n.exportPackage(),e),{})}}lookupItemName(e,t,n=!0){let r=`Unknown Item ${t}`,i=this.findPackage(e);if(!i)return n?r:void 0;let a=i.reverseItemTable[t];return n&&a===void 0?r:a}lookupLocationName(e,t,n=!0){let r=`Unknown Location ${t}`,i=this.findPackage(e);if(!i)return n?r:void 0;let a=i.reverseLocationTable[t];return n&&a===void 0?r:a}#i(){return new na(`Archipelago`,{checksum:`ac9141e9ad0318df2fa27da5f20c50a842afeecb`,item_name_to_id:{Nothing:-1},location_name_to_id:{"Cheat Console":-1,Server:-2}})}},ia=class{#e;#t=[];#n;#r;constructor(e,t,n){this.#e=e,this.#n=t,this.#r=n}replace(e){return this.#t.push({operation:`replace`,value:e}),this}default(){return this.#t.push({operation:`default`,value:null}),this}add(e){return this.#t.push({operation:`add`,value:e}),this}multiply(e){return this.#t.push({operation:`mul`,value:e}),this}power(e){return this.#t.push({operation:`pow`,value:e}),this}remainder(e){return this.#t.push({operation:`mod`,value:e}),this}floor(){return this.#t.push({operation:`floor`,value:null}),this}ceiling(){return this.#t.push({operation:`ceil`,value:null}),this}max(e){return this.#t.push({operation:`max`,value:e}),this}min(e){return this.#t.push({operation:`min`,value:e}),this}and(e){return this.#t.push({operation:`and`,value:e}),this}or(e){return this.#t.push({operation:`or`,value:e}),this}xor(e){return this.#t.push({operation:`xor`,value:e}),this}leftShift(e){return this.#t.push({operation:`left_shift`,value:e}),this}rightShift(e){return this.#t.push({operation:`right_shift`,value:e}),this}remove(e){return this.#t.push({operation:`remove`,value:e}),this}pop(e){return this.#t.push({operation:`pop`,value:e}),this}update(e){return this.#t.push({operation:`update`,value:e}),this}async commit(e=!1){let t=$i(),n={cmd:`Set`,default:this.#r,key:this.#n,operations:this.#t,want_reply:e,uuid:t};if(this.#e.socket.send(n),!e)return;let[r]=await this.#e.socket.wait(`setReply`,e=>e.uuid===t);return r.value}},aa=class{#e;#t={};#n={};constructor(e){this.#e=e,this.#e.socket.on(`disconnected`,()=>{this.#t={},this.#n={}}).on(`setReply`,e=>{this.#t[e.key]=e.value;let t=this.#n[e.key];t&&t.forEach(t=>t(e.key,e.value,e.original_value))}).on(`connected`,()=>{if(this.#e.options.debugLogVersions){let e=`${this.#e.game}:${Qi}:${navigator?.userAgent}`;this.prepare(`archipelago.js__runtimes`,{}).default().update({[e]:!0}).commit(!1)}})}get store(){return structuredClone(this.#t)}async fetch(e,t=!1){let n=typeof e==`string`?[e]:e;if(t){let e=n.filter(e=>this.#t[e]===void 0);e.length>0&&this.#e.socket.send({cmd:`SetNotify`,keys:e})}let r={};if(n=n.filter(e=>{let t=structuredClone(this.#t[e]),n=t!==void 0;return n&&(r[e]=t),!n}),n.length>0){let e=await this.#r(n);r={...r,...e}}return t&&(this.#t={...this.#t,...r}),typeof e==`string`?r[e]:r}async notify(e,t){return e.forEach(e=>{this.#n[e]??=[],this.#n[e].push(t)}),this.fetch(e,!0)}prepare(e,t){if(e.startsWith(`_read_`))throw TypeError(`Cannot manipulate read only keys.`);return new ia(this.#e,e,t)}async fetchItemNameGroups(e){return await this.fetch([`_read_item_name_groups_${e}`],!0)}async fetchLocationNameGroups(e){return await this.fetch([`_read_location_name_groups_${e}`],!0)}async#r(e){let t=$i(),[n]=await this.#e.socket.send({cmd:`Get`,keys:e,uuid:t}).wait(`retrieved`,e=>e.uuid===t);return n.keys}},oa=class{#e={};addEventListener(e,t,n=!1){this.#e[e]??=[],this.#e[e].push([t,n])}removeEventListener(e,t){let n=this.#e[e];n&&n.length>0&&(this.#e[e]=n.filter(([e])=>e!==t))}dispatchEvent(e,t){let n=this.#e[e]??[];for(let[r,i]of n)r(...t),i&&this.removeEventListener(e,r)}},sa=class{#e=new oa;on(e,t){return this.#e.addEventListener(e,t),this}off(e,t){return this.#e.removeEventListener(e,t),this}async wait(e,t=()=>!0){return new Promise(n=>{let r=(...i)=>{t(...i)&&(this.#e.removeEventListener(e,r),n(i))};this.#e.addEventListener(e,r)})}emit(e,t){this.#e.dispatchEvent(e,t)}},ca=class extends sa{#e;#t=-(2**53-1);constructor(e){super(),this.#e=e,this.#e.socket.on(`bounced`,e=>{if(e.tags?.includes(`DeathLink`)&&e.data.time&&e.data.source){let t=e.data;if(t.time===this.#t)return;this.#t=t.time,this.emit(`deathReceived`,[t.source,t.time*1e3,t.cause])}})}get enabled(){return this.#e.arguments.tags.includes(`DeathLink`)}enableDeathLink(){this.#e.arguments.tags.includes(`DeathLink`)||this.#e.updateTags([...this.#e.arguments.tags,`DeathLink`])}disableDeathLink(){this.#e.arguments.tags.includes(`DeathLink`)&&this.#e.updateTags(this.#e.arguments.tags.filter(e=>e!==`DeathLink`))}sendDeathLink(e,t){if(!this.#e.authenticated)throw new Yi(`Cannot send death links before connecting and authenticating.`);if(!this.enabled)return;this.#t=Math.ceil(Date.now()/1e3);let n={source:e,cause:t,time:this.#t};this.#e.bounce({tags:[`DeathLink`]},n)}},la=class{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=t,this.#n=new ta(this.#e,{item:t.item,location:t.location,player:t.finding_player,flags:t.item_flags},this.#e.players.findPlayer(t.finding_player),this.#e.players.findPlayer(t.receiving_player))}get item(){return this.#n}get found(){return this.#t.found}get entrance(){return this.#t.entrance||`Vanilla`}},ua=class extends sa{#e;#t=[];#n=[];constructor(e){super(),this.#e=e,this.#e.socket.on(`receivedItems`,e=>{let t=e.index,n=e.items.length,r=[...e.items];for(;r.length>0;){let e=r.shift();this.#t[t++]=new ta(this.#e,e,this.#e.players.findPlayer(e.player),this.#e.players.self)}this.emit(`itemsReceived`,[this.#t.slice(e.index,e.index+n),e.index])}).on(`connected`,()=>{this.#n=[],this.#t=[],this.#e.storage.notify([`_read_hints_${this.#e.players.self.team}_${this.#e.players.self.slot}`],this.#r.bind(this)).then(e=>{this.#n=e[`_read_hints_${this.#e.players.self.team}_${this.#e.players.self.slot}`].map(e=>new la(this.#e,e)),this.emit(`hintsInitialized`,[this.#n])}).catch(e=>{throw e})})}get received(){return[...this.#t]}get hints(){return[...this.#n]}get count(){return this.#t.length}#r(e,t){for(let e=0;e<t.length;e++)this.#n[e]===void 0?(this.#n[e]=new la(this.#e,t[e]),this.emit(`hintReceived`,[this.#n[e]])):this.#n[e].found!==t[e].found&&(this.#n[e]=new la(this.#e,t[e]),this.emit(`hintFound`,[this.#n[e]]))}},da=class{client;part;constructor(e,t){this.client=e,this.part=t}toString(){return this.text}},fa=class extends da{part;type=`item`;item;constructor(e,t,n,r){super(e,t);let i=e.players.findPlayer(t.player,r.team);this.part=t,this.item=new ta(e,n,i,r)}get text(){return this.item.name}},pa=class extends da{#e;part;type=`location`;id;constructor(e,t){super(e,t);let n=e.players.findPlayer(t.player),r=e.package.findPackage(n.game);this.part=t,t.type===`location_name`?(this.#e=t.text,this.id=r.locationTable[t.text]):(this.id=parseInt(t.text),this.#e=e.package.lookupLocationName(n.game,this.id,!0))}get text(){return this.#e}},ma=class extends da{part;type=`color`;color;constructor(e,t){super(e,t),this.part=t,this.color=t.color}get text(){return this.part.text}},ha=class extends da{part;type;constructor(e,t){super(e,t),this.part=t,this.part.type===`entrance_name`?this.type=`entrance`:this.type=`text`}get text(){return this.part.text}},ga=class extends da{part;type=`player`;player;constructor(e,t){if(super(e,t),this.part=t,t.type===`player_id`)this.player=e.players.findPlayer(parseInt(t.text));else{let n=e.players.teams[e.players.self.team].find(e=>e.name===t.text);if(!n)throw Error(`Cannot find player under name: ${t.text}`);this.player=n}}get text(){return this.player.alias}},_a=class extends sa{#e;#t=[];get log(){return[...this.#t]}constructor(e){super(),this.#e=e,this.#e.socket.on(`printJSON`,this.#n.bind(this))}async say(e){if(!this.#e.authenticated)throw new Yi(`Cannot send chat messages without being authenticated.`);e=e.trim();let t={cmd:`Say`,text:e};this.#e.socket.send(t),await this.wait(`chat`,t=>t===e)}#n(e){let t=[];for(let n of e.data)switch(n.type){case`item_id`:case`item_name`:{let r=e,i;i=r.type===`ItemCheat`?this.#e.players.findPlayer(r.receiving,r.team):this.#e.players.findPlayer(r.receiving),t.push(new fa(this.#e,n,r.item,i));break}case`location_id`:case`location_name`:t.push(new pa(this.#e,n));break;case`color`:t.push(new ma(this.#e,n));break;case`player_id`:case`player_name`:t.push(new ga(this.#e,n));break;default:t.push(new ha(this.#e,n));break}let n=t.map(e=>e.text).join();switch(this.#e.options.maximumMessages>=1&&(this.log.push({text:n,nodes:t}),this.log.splice(0,this.log.length-this.#e.options.maximumMessages)),e.type){case`ItemSend`:{let r=this.#e.players.findPlayer(e.item.player),i=this.#e.players.findPlayer(e.receiving),a=new ta(this.#e,e.item,r,i);this.emit(`itemSent`,[n,a,t]);break}case`ItemCheat`:{let r=this.#e.players.findPlayer(e.item.player,e.team),i=this.#e.players.findPlayer(e.receiving,e.team),a=new ta(this.#e,e.item,r,i);this.emit(`itemCheated`,[n,a,t]);break}case`Hint`:{let r=this.#e.players.findPlayer(e.item.player),i=this.#e.players.findPlayer(e.receiving),a=new ta(this.#e,e.item,r,i);this.emit(`itemHinted`,[n,a,e.found,t]);break}case`Join`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`connected`,[n,r,e.tags,t]);break}case`Part`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`disconnected`,[n,r,t]);break}case`Chat`:{let n=this.#e.players.findPlayer(e.slot,e.team);this.emit(`chat`,[e.message,n,t]);break}case`ServerChat`:this.emit(`serverChat`,[e.message,t]);break;case`TagsChanged`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`tagsUpdated`,[n,r,e.tags,t]);break}case`Tutorial`:this.emit(`tutorial`,[n,t]);break;case`CommandResult`:this.emit(`userCommand`,[n,t]);break;case`AdminCommandResult`:this.emit(`adminCommand`,[n,t]);break;case`Goal`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`goaled`,[n,r,t]);break}case`Release`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`released`,[n,r,t]);break}case`Collect`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`collected`,[n,r,t]);break}case`Countdown`:this.emit(`countdown`,[n,e.countdown,t])}this.emit(`message`,[n,t])}},va=class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}toString(){return this.alias}get name(){return this.#t.name}get alias(){return this.#t.alias}get game(){return this.slot===0?`Archipelago`:this.#n.game}get type(){return this.slot===0?Gi.spectator:this.#n.type}get team(){return this.#t.team}get slot(){return this.#t.slot}get members(){return this.type===Gi.group?this.#e.players.teams[this.team].filter(e=>this.#n.group_members.includes(e.slot)):[]}get groups(){return this.slot===0?[]:this.#e.players.teams[this.team].filter(e=>e.slot!==0&&this.#e.players.slots[e.slot].group_members.includes(this.slot))}async fetchStatus(){return this.type===Gi.group?Vi.goal:await this.#e.storage.fetch(`_read_client_status_${this.team}_${this.slot}`)??0}async fetchSlotData(){return await this.#e.storage.fetch(`_read_slot_data_${this.slot}`)}async fetchHints(){return(await this.#e.storage.fetch(`_read_hints_${this.team}_${this.slot}`)).map(e=>new la(this.#e,e))}get#n(){return this.#e.players.slots[this.slot]}},ya=class extends sa{#e;#t=[];#n={};#r=0;#i=0;constructor(e){super(),this.#e=e,this.#e.socket.on(`connected`,e=>{this.#n=Object.freeze(e.slot_info),this.#t=[],this.#r=e.slot,this.#i=e.team;for(let t of e.players)this.#t[t.team]??=[{team:t.team,slot:0,name:`Archipelago`,alias:`Archipelago`}],this.#t[t.team][t.slot]=t}).on(`roomUpdate`,e=>{if(e.players){for(let t of e.players)if(this.#t[t.team][t.slot].alias!==t.alias){let e=this.#t[t.team][t.slot].alias;this.#t[t.team][t.slot]=t,this.emit(`aliasUpdated`,[new va(this.#e,t),e,t.alias])}}})}get self(){if(this.#r===0)throw Error(`Cannot lookup own player object when client has never connected to a server.`);return new va(this.#e,this.#t[this.#i][this.#r])}get slots(){return this.#n}get teams(){let e=[];for(let t=0;t<this.#t.length;t++){e[t]=[];for(let n=0;n<this.#t[t].length;n++)e[t].push(new va(this.#e,this.#t[t][n]))}return e}findPlayer(e,t){if(t===void 0&&(t=this.#e.players.self.team),this.#t[t])return new va(this.#e,this.#t[t][e])}},ba=class extends sa{#e;#t={major:-1,minor:-1,build:-1};#n={major:-1,minor:-1,build:-1};#r=[];#i=[];#a=``;#o=!1;#s=0;#c=0;#l=0;#u={release:0,collect:0,remaining:0};#d=[];#f=[];#p=!1;get serverVersion(){return{...this.#t}}get generatorVersion(){return{...this.#n}}get games(){return[...this.#r]}get tags(){return[...this.#i]}get seedName(){return this.#a}get password(){return this.#o}get permissions(){return{...this.#u}}get hintPoints(){return this.#s}get hintCost(){return this.hintCostPercentage>0?Math.max(1,Math.floor(this.hintCostPercentage*this.allLocations.length*.01)):0}get hintCostPercentage(){return this.#c}get locationCheckPoints(){return this.#l}get missingLocations(){return[...this.#d].sort()}get checkedLocations(){return[...this.#f].sort()}get allLocations(){return[...this.#d,...this.#f].sort()}get race(){return this.#p}constructor(e){super(),this.#e=e,this.#e.socket.on(`roomInfo`,e=>{this.#t={major:e.version.major,minor:e.version.minor,build:e.version.build},this.#n={major:e.generator_version.major,minor:e.generator_version.minor,build:e.generator_version.build},this.#i=e.tags,this.#r=e.games,this.#a=e.seed_name,this.#o=e.password,this.#u=e.permissions,this.#c=e.hint_cost,this.#l=e.location_check_points}).on(`connected`,e=>{this.#d=e.missing_locations,this.#f=e.checked_locations,this.emit(`locationsChecked`,[this.checkedLocations]),this.#s=e.hint_points,this.emit(`hintPointsUpdated`,[0,e.hint_points])}).on(`roomUpdate`,e=>{if(e.hint_cost!==void 0){let[t,n]=[this.hintCost,this.hintCostPercentage];this.#c=e.hint_cost,this.emit(`hintCostUpdated`,[t,this.hintCost,n,this.hintCostPercentage])}if(e.hint_points!==void 0){let t=this.#s;this.#s=e.hint_points,this.emit(`hintPointsUpdated`,[t,this.hintPoints])}if(e.location_check_points!==void 0){let t=this.#l;this.#l=e.location_check_points,this.emit(`locationCheckPointsUpdated`,[t,this.locationCheckPoints])}if(e.password!==void 0&&(this.#o=e.password,this.emit(`passwordUpdated`,[this.password])),e.permissions!==void 0){let t=this.#u;this.#u=e.permissions,this.emit(`permissionsUpdated`,[t,this.permissions])}e.checked_locations!==void 0&&(this.#f=[...this.#f,...e.checked_locations],this.#d=this.missingLocations.filter(t=>!e.checked_locations?.includes(t)),this.emit(`locationsChecked`,[e.checked_locations]))})}},xa=class extends sa{#e=null;#t=!1;constructor(){super()}get connected(){return this.#t}get url(){return this.#e?.url??``}send(...e){if(this.#e)return this.#e.send(JSON.stringify(e)),this.emit(`sentPackets`,[e]),this;throw new Ki(`Unable to send packets to the server; not connected to a server.`)}async connect(e){if(this.disconnect(),typeof e==`string`){if(!/^([a-zA-Z]+:)\/\/[A-Za-z0-9_.~\-:]+/i.test(e))try{return await this.connect(new URL(`wss://${e}`))}catch{return await this.connect(new URL(`ws://${e}`))}e=new URL(e)}if(e.port=e.port||`38281`,e.protocol!==`wss:`&&e.protocol!==`ws:`)throw TypeError(`Unexpected protocol. Archipelago only supports the ws:// and wss:// protocols.`);try{return new Promise((t,n)=>{let r=this.#r();if(r===null)throw new Ki(`Unable to find a suitable WebSocket API in the current runtime.`);this.#e=new r(e),this.#e.onmessage=this.#n.bind(this),this.#e.onclose=()=>{this.disconnect(),n(new Ki(`Failed to connect to Archipelago server.`))},this.#e.onerror=()=>{this.disconnect(),n(new Ki(`Failed to connect to Archipelago server.`))},this.#e.onopen=()=>{this.wait(`roomInfo`).then(([e])=>{if(this.#t=!0,this.#e){this.#e.onclose=this.disconnect.bind(this),this.#e.onerror=this.disconnect.bind(this),t(e);return}this.disconnect(),n(new Ki(`Failed to connect to Archipelago server.`))}).catch(e=>{throw e})}})}catch(e){throw this.disconnect(),e}}disconnect(){this.connected&&(this.#t=!1,this.#e?.close(),this.#e=null,this.emit(`disconnected`,[]))}#n(e){let t=JSON.parse(e.data);for(let e of t){switch(e.cmd){case`ConnectionRefused`:this.emit(`connectionRefused`,[e]);break;case`Bounced`:this.emit(`bounced`,[e,e.data]);break;case`Connected`:this.emit(`connected`,[e]);break;case`DataPackage`:this.emit(`dataPackage`,[e]);break;case`InvalidPacket`:this.emit(`invalidPacket`,[e]);break;case`LocationInfo`:this.emit(`locationInfo`,[e]);break;case`PrintJSON`:this.emit(`printJSON`,[e]);break;case`ReceivedItems`:this.emit(`receivedItems`,[e]);break;case`Retrieved`:this.emit(`retrieved`,[e]);break;case`RoomInfo`:this.emit(`roomInfo`,[e]);break;case`RoomUpdate`:this.emit(`roomUpdate`,[e]);break;case`SetReply`:this.emit(`setReply`,[e]);break}this.emit(`receivedPacket`,[e])}}#r(){let e=null;return typeof window<`u`?e=window.WebSocket||window.MozWebSocket:typeof global<`u`?e=global.WebSocket||global.MozWebSocket:typeof self<`u`?e=self.WebSocket||self.MozWebSocket:typeof WebSocket<`u`?e=WebSocket:typeof MozWebSocket<`u`&&(e=MozWebSocket),e}},Sa=class{#e=!1;#t=ea;#n=``;#r=``;socket=new xa;package=new ra(this);storage=new aa(this);room=new ba(this);players=new ya(this);items=new ua(this);messages=new _a(this);deathLink=new ca(this);options;get authenticated(){return this.socket.connected&&this.#e}get name(){return this.#n}get game(){return this.#r}get arguments(){return{...this.#t}}constructor(e){e?this.options={...Xi,...e}:this.options={...Xi},this.socket.on(`disconnected`,()=>{this.#e=!1}).on(`sentPackets`,e=>{for(let t of e)t.cmd===`ConnectUpdate`&&(this.#t.tags=t.tags,this.#t.items=t.items_handling)})}async login(e,t,n=``,r){if(t===``)throw new qi(`Provided slot name cannot be blank.`,`name`,t);r?this.#t={...ea,...r}:this.#t={...ea};let i=new Set(this.arguments.tags);!n&&!i.has(`HintGame`)&&!i.has(`Tracker`)&&!i.has(`TextOnly`)&&i.add(`TextOnly`),this.#t.tags=Array.from(i);let a={cmd:`Connect`,name:t,game:n,password:this.arguments.password,slot_data:this.arguments.slotData,items_handling:this.arguments.items,uuid:this.arguments.uuid,tags:this.arguments.tags,version:{...this.arguments.version,class:`Version`}};return await this.socket.connect(e),this.options.autoFetchDataPackage&&await this.package.fetchPackage(),new Promise((e,t)=>{let n=setTimeout(()=>t(new Ki(`Server failed to respond in time.`)),this.options.timeout),r=t=>{this.#e=!0,this.#r=t.slot_info[t.slot].game,this.#n=t.slot_info[t.slot].name,this.socket.off(`connected`,r).off(`connectionRefused`,i),clearTimeout(n),e(t.slot_data)},i=e=>{this.socket.off(`connected`,r).off(`connectionRefused`,i),clearTimeout(n),t(new Ji(`Connection was refused by the server. Reason(s): [${e.errors?.join(`, `)}`,e.errors??[]))};this.socket.on(`connected`,r.bind(this)).on(`connectionRefused`,i.bind(this)).send(a)})}updateStatus(e){if(!this.authenticated)throw new Yi(`Cannot update status while not connected and authenticated.`);this.socket.send({cmd:`StatusUpdate`,status:e})}goal(){this.updateStatus(Vi.goal)}updateTags(e){if(!this.authenticated)throw new Yi(`Cannot update tags while not connected and authenticated.`);this.socket.send({cmd:`ConnectUpdate`,tags:e,items_handling:this.arguments.items})}updateItemsHandling(e){if(!this.authenticated)throw new Yi(`Cannot update tags while not connected and authenticated.`);this.socket.send({cmd:`ConnectUpdate`,tags:this.arguments.tags,items_handling:e})}check(...e){if(!this.authenticated)throw new Yi(`Cannot check locations while not connected and authenticated.`);e=e.filter(e=>this.room.missingLocations.includes(e)),this.socket.send({cmd:`LocationChecks`,locations:e})}async scout(e,t=0){if(!this.authenticated)throw new Yi(`Cannot scout locations while not connected and authenticated.`);e=e.filter(e=>this.room.allLocations.includes(e));let[n]=await this.socket.send({cmd:`LocationScouts`,create_as_hint:t,locations:e}).wait(`locationInfo`,t=>t.locations.map(e=>e.location).toSorted().join(`,`)===e.toSorted().join(`,`));return n.locations.map(e=>new ta(this,e,this.players.self,this.players.findPlayer(e.player)))}bounce(e,t){if(!this.authenticated)throw new Yi(`Cannot send bounces while not connected and authenticated.`);this.socket.send({cmd:`Bounce`,data:t,games:e.games??[],slots:e.slots??[],tags:e.tags??[]})}},Ca=[`forEach`,`isDisjointFrom`,`isSubsetOf`,`isSupersetOf`],wa=[`difference`,`intersection`,`symmetricDifference`,`union`],Ta=!1,Ea=class e extends Set{#e=new Map;#t=R(0);#n=R(0);#r=In||-1;constructor(e){if(super(),e){for(var t of e)super.add(t);this.#n.v=super.size}Ta||this.#a()}#i(e){return In===this.#r?R(e):Dt(e)}#a(){Ta=!0;var t=e.prototype,n=Set.prototype;for(let e of Ca)t[e]=function(...t){return q(this.#t),n[e].apply(this,t)};for(let r of wa)t[r]=function(...t){return q(this.#t),new e(n[r].apply(this,t))}}has(e){var t=super.has(e),n=this.#e,r=n.get(e);if(r===void 0){if(!t)return q(this.#t),!1;r=this.#i(!0),n.set(e,r)}return q(r),t}add(e){return super.has(e)||(super.add(e),z(this.#n,super.size),jt(this.#t)),this}delete(e){var t=super.delete(e),n=this.#e,r=n.get(e);return r!==void 0&&(n.delete(e),z(r,!1)),t&&(z(this.#n,super.size),jt(this.#t)),t}clear(){if(super.size!==0){super.clear();var e=this.#e;for(var t of e.values())z(t,!1);e.clear(),z(this.#n,0),jt(this.#t)}}keys(){return this.values()}values(){return q(this.#t),super.values()}entries(){return q(this.#t),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return q(this.#n)}},Da=class extends Map{#e=new Map;#t=R(0);#n=R(0);#r=In||-1;constructor(e){if(super(),e){for(var[t,n]of e)super.set(t,n);this.#n.v=super.size}}#i(e){return In===this.#r?R(e):Dt(e)}has(e){var t=this.#e,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#i(0),t.set(e,n);else return q(this.#t),!1;return q(n),!0}forEach(e,t){this.#a(),super.forEach(e,t)}get(e){var t=this.#e,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#i(0),t.set(e,n);else{q(this.#t);return}return q(n),super.get(e)}set(e,t){var n=this.#e,r=n.get(e),i=super.get(e),a=super.set(e,t),o=this.#t;if(r===void 0)r=this.#i(0),n.set(e,r),z(this.#n,super.size),jt(o);else if(i!==t){jt(r);var s=o.reactions===null?null:new Set(o.reactions);(s===null||!r.reactions?.every(e=>s.has(e)))&&jt(o)}return a}delete(e){var t=this.#e,n=t.get(e),r=super.delete(e);return n!==void 0&&(t.delete(e),z(this.#n,super.size),z(n,-1),jt(this.#t)),r}clear(){if(super.size!==0){super.clear();var e=this.#e;z(this.#n,0);for(var t of e.values())z(t,-1);jt(this.#t),e.clear()}}#a(){q(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var n=this.#i(0);e.set(t,n)}}for([,n]of this.#e)q(n)}keys(){return q(this.#t),super.keys()}values(){return this.#a(),super.values()}entries(){return this.#a(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return q(this.#n),super.size}};URLSearchParams,Symbol.iterator;const Oa=2e3,ka=[`0.3.x`,`1.x.x`],Aa=new RegExp(ka.map(e=>`^(${e.replace(`x`,`\\d+`)}-?.*)`).join(`|`));function ja(e){let t=e.match(/^(Element|Intermediate|Compound)\s+(\d+)$/);if(t==null)return null;let[,n,r]=t;switch(n){case`Element`:return{id:Number(r),kind:Q.INPUT};case`Intermediate`:return{id:Number(r),kind:Q.INTERMEDIATE};case`Compound`:return{id:Number(r),kind:Q.OUTPUT}}return null}function Ma(e){switch(e.kind){case Q.INPUT:return`Element `+e.id;case Q.INTERMEDIATE:return`Intermediate `+e.id;case Q.OUTPUT:return`Compound `+e.id}}function Na(e){switch(e.kind){case Q.INPUT:throw`Not a valid location`;case Q.INTERMEDIATE:return Oa+e.id;case Q.OUTPUT:return e.id}}hi(null);var Pa=e(((e,t)=>{t.exports={}})),Fa=e(((e,t)=>{(function(){var e=`input is invalid type`,n=`finalize already called`,r=typeof window==`object`,i=r?window:{};i.JS_MD5_NO_WINDOW&&(r=!1);var a=!r&&typeof self==`object`,o=!i.JS_MD5_NO_NODE_JS&&typeof process==`object`&&process.versions&&process.versions.node;o?i=global:a&&(i=self);var s=!i.JS_MD5_NO_COMMON_JS&&typeof t==`object`&&t.exports,c=typeof define==`function`&&define.amd,l=!i.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<`u`,u=`0123456789abcdef`.split(``),d=[128,32768,8388608,-2147483648],f=[0,8,16,24],p=[`hex`,`array`,`digest`,`buffer`,`arrayBuffer`,`base64`],m=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`.split(``),h=[],g;if(l){var _=new ArrayBuffer(68);g=new Uint8Array(_),h=new Uint32Array(_)}var v=Array.isArray;(i.JS_MD5_NO_NODE_JS||!v)&&(v=function(e){return Object.prototype.toString.call(e)===`[object Array]`});var y=ArrayBuffer.isView;l&&(i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!y)&&(y=function(e){return typeof e==`object`&&e.buffer&&e.buffer.constructor===ArrayBuffer});var b=function(t){var n=typeof t;if(n===`string`)return[t,!0];if(n!==`object`||t===null)throw Error(e);if(l&&t.constructor===ArrayBuffer)return[new Uint8Array(t),!1];if(!v(t)&&!y(t))throw Error(e);return[t,!1]},x=function(e){return function(t){return new E(!0).update(t)[e]()}},S=function(){var e=x(`hex`);o&&(e=C(e)),e.create=function(){return new E},e.update=function(t){return e.create().update(t)};for(var t=0;t<p.length;++t){var n=p[t];e[n]=x(n)}return e},C=function(t){var n=Pa(),r=Pa().Buffer,a=r.from&&!i.JS_MD5_NO_BUFFER_FROM?r.from:function(e){return new r(e)};return function(i){if(typeof i==`string`)return n.createHash(`md5`).update(i,`utf8`).digest(`hex`);if(i==null)throw Error(e);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),v(i)||y(i)||i.constructor===r?n.createHash(`md5`).update(a(i)).digest(`hex`):t(i)}},w=function(e){return function(t,n){return new ee(t,!0).update(n)[e]()}},T=function(){var e=w(`hex`);e.create=function(e){return new ee(e)},e.update=function(t,n){return e.create(t).update(n)};for(var t=0;t<p.length;++t){var n=p[t];e[n]=w(n)}return e};function E(e){if(e)h[0]=h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0,this.blocks=h,this.buffer8=g;else if(l){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}E.prototype.update=function(e){if(this.finalized)throw Error(n);var t=b(e);e=t[0];for(var r=t[1],i,a=0,o,s=e.length,c=this.blocks,u=this.buffer8;a<s;){if(this.hashed&&(this.hashed=!1,c[0]=c[16],c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),r)if(l)for(o=this.start;a<s&&o<64;++a)i=e.charCodeAt(a),i<128?u[o++]=i:i<2048?(u[o++]=192|i>>>6,u[o++]=128|i&63):i<55296||i>=57344?(u[o++]=224|i>>>12,u[o++]=128|i>>>6&63,u[o++]=128|i&63):(i=65536+((i&1023)<<10|e.charCodeAt(++a)&1023),u[o++]=240|i>>>18,u[o++]=128|i>>>12&63,u[o++]=128|i>>>6&63,u[o++]=128|i&63);else for(o=this.start;a<s&&o<64;++a)i=e.charCodeAt(a),i<128?c[o>>>2]|=i<<f[o++&3]:i<2048?(c[o>>>2]|=(192|i>>>6)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<f[o++&3],c[o>>>2]|=(128|i>>>6&63)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]):(i=65536+((i&1023)<<10|e.charCodeAt(++a)&1023),c[o>>>2]|=(240|i>>>18)<<f[o++&3],c[o>>>2]|=(128|i>>>12&63)<<f[o++&3],c[o>>>2]|=(128|i>>>6&63)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]);else if(l)for(o=this.start;a<s&&o<64;++a)u[o++]=e[a];else for(o=this.start;a<s&&o<64;++a)c[o>>>2]|=e[a]<<f[o++&3];this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>>2]|=d[t&3],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},E.prototype.hash=function(){var e,t,n,r,i,a,o=this.blocks;this.first?(e=o[0]-680876937,e=(e<<7|e>>>25)-271733879<<0,r=(-1732584194^e&2004318071)+o[1]-117830708,r=(r<<12|r>>>20)+e<<0,n=(-271733879^r&(e^-271733879))+o[2]-1126478375,n=(n<<17|n>>>15)+r<<0,t=(e^n&(r^e))+o[3]-1316259209,t=(t<<22|t>>>10)+n<<0):(e=this.h0,t=this.h1,n=this.h2,r=this.h3,e+=(r^t&(n^r))+o[0]-680876936,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[1]-389564586,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[2]+606105819,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[3]-1044525330,t=(t<<22|t>>>10)+n<<0),e+=(r^t&(n^r))+o[4]-176418897,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[5]+1200080426,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[6]-1473231341,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[7]-45705983,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+o[8]+1770035416,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[9]-1958414417,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[10]-42063,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[11]-1990404162,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+o[12]+1804603682,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[13]-40341101,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[14]-1502002290,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[15]+1236535329,t=(t<<22|t>>>10)+n<<0,e+=(n^r&(t^n))+o[1]-165796510,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[6]-1069501632,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[11]+643717713,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[0]-373897302,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[5]-701558691,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[10]+38016083,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[15]-660478335,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[4]-405537848,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[9]+568446438,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[14]-1019803690,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[3]-187363961,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[8]+1163531501,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[13]-1444681467,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[2]-51403784,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[7]+1735328473,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[12]-1926607734,t=(t<<20|t>>>12)+n<<0,i=t^n,e+=(i^r)+o[5]-378558,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[8]-2022574463,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[11]+1839030562,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[14]-35309556,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[1]-1530992060,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[4]+1272893353,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[7]-155497632,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[10]-1094730640,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[13]+681279174,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[0]-358537222,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[3]-722521979,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[6]+76029189,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[9]-640364487,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[12]-421815835,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[15]+530742520,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[2]-995338651,t=(t<<23|t>>>9)+n<<0,e+=(n^(t|~r))+o[0]-198630844,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[7]+1126891415,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[14]-1416354905,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[5]-57434055,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[12]+1700485571,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[3]-1894986606,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[10]-1051523,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[1]-2054922799,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[8]+1873313359,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[15]-30611744,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[6]-1560198380,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[13]+1309151649,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[4]-145523070,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[11]-1120210379,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[2]+718787259,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[9]-343485551,t=(t<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},E.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return u[e>>>4&15]+u[e&15]+u[e>>>12&15]+u[e>>>8&15]+u[e>>>20&15]+u[e>>>16&15]+u[e>>>28&15]+u[e>>>24&15]+u[t>>>4&15]+u[t&15]+u[t>>>12&15]+u[t>>>8&15]+u[t>>>20&15]+u[t>>>16&15]+u[t>>>28&15]+u[t>>>24&15]+u[n>>>4&15]+u[n&15]+u[n>>>12&15]+u[n>>>8&15]+u[n>>>20&15]+u[n>>>16&15]+u[n>>>28&15]+u[n>>>24&15]+u[r>>>4&15]+u[r&15]+u[r>>>12&15]+u[r>>>8&15]+u[r>>>20&15]+u[r>>>16&15]+u[r>>>28&15]+u[r>>>24&15]},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[e&255,e>>>8&255,e>>>16&255,e>>>24&255,t&255,t>>>8&255,t>>>16&255,t>>>24&255,n&255,n>>>8&255,n>>>16&255,n>>>24&255,r&255,r>>>8&255,r>>>16&255,r>>>24&255]},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.base64=function(){for(var e,t,n,r=``,i=this.array(),a=0;a<15;)e=i[a++],t=i[a++],n=i[a++],r+=m[e>>>2]+m[(e<<4|t>>>4)&63]+m[(t<<2|n>>>6)&63]+m[n&63];return e=i[a],r+=m[e>>>2]+m[e<<4&63]+`==`,r};function ee(e,t){var n,r=b(e);if(e=r[0],r[1]){var i=[],a=e.length,o=0,s;for(n=0;n<a;++n)s=e.charCodeAt(n),s<128?i[o++]=s:s<2048?(i[o++]=192|s>>>6,i[o++]=128|s&63):s<55296||s>=57344?(i[o++]=224|s>>>12,i[o++]=128|s>>>6&63,i[o++]=128|s&63):(s=65536+((s&1023)<<10|e.charCodeAt(++n)&1023),i[o++]=240|s>>>18,i[o++]=128|s>>>12&63,i[o++]=128|s>>>6&63,i[o++]=128|s&63);e=i}e.length>64&&(e=new E(!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var u=e[n]||0;c[n]=92^u,l[n]=54^u}E.call(this,t),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=t}ee.prototype=new E,ee.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();E.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(e),E.prototype.finalize.call(this)}};var D=S();D.md5=D,D.md5.hmac=T(),s?t.exports=D:(i.md5=D,c&&define(function(){return D}))})()})),Ia=Fa();function La(e,t){return za(`[game=${e}] ${t}`)}function Ra(e,t){return za(`[game=${e}] ${t}`)}function za(e){let t=`apple.armor.ball.berry.boat.book.boots.bow.car.chest.coin.egg.element.emerald.fire.gun.hammer.hat.heart.hourglass.house.ice.key.leaf.magic.map.marker.metal.money.music.piece.potion.quest.ring.rock.sand.sign.skull.spear.sword.tree.upgrade.void.wand.water`.split(`.`),n=new Uint32Array(Ia.md5.arrayBuffer(e));return t[n[n.length-1]%t.length]}var Ba=Fa(),Va=new Set,Ha,Ua=`Fool's ?.Powdered ?.King's ?.Pure ?.Impure ?.Glass of ?.Regulus of ?.Resin of ?.Spirit of ?.Butter of ?.Oil of ?.Salt of ?.? salt.? cornu.? vitriol.Lunar ?.Sugar of ?.Flowers of ?.? caustic.Caustic ?.? gum.? spirit.? of sulfur.? alkali.Oriental ?.? essence.Dried ?.Alchemical ?.Crystalline ?`.split(`.`),Wa=`Nigredo.Albedo.Citrinitas.Rubedo.Stibnium.Cuprum.Aurum.Ferrum.Plumbum.Hydragyrum.Argentum.Stannum.Bluestone.Cadmia.Calamine.Calomel.Calx.Calcanthum.Chalk.Chrome green.Chrome orange.Chrome red.Chrome yellow.Cinnabar.Cuprite.Galena.Antimony.Gypsum.Argentum.Lapis Solaris.Quicklime.Marcasite.Massicot.Litharge.Minium.Mercurius Praecipitatus.Orpiment.Nix Alba.Plumbago.Algaroth.Realgar.Potash.Vitriol.Alkahest.Azoth.Aqua`.split(`.`);function Ga(e){Ha=new Uint32Array(Ba.md5.arrayBuffer(``+e))}function Ka(){let e;do{Ha=new Uint32Array(Ba.md5.arrayBuffer(Ha));let t=Wa[Ha[Ha.length-1]%Wa.length];e=Ua[Ha[0]%Ua.length].replace(`?`,t)}while(Va.has(e));return Va.add(e),e}const qa=hi([]);hi(!1);function Ja(e){e.length>0&&qa.update(t=>(t.push(Xa(e)),t))}function Ya(e,t){qa.update(n=>{for(let r in e){let i=t[r]-e[r];i!=0&&n.push(Qa(r,i))}return n})}function Xa(e){let t=ro().get(e[0].name),n=t.icon;return{title:`New elements available!`,description:`${t.location}${e.length>1?` + ${e.length-1} more`:``}`,image:n}}var Za={field_size:`Progressive Item Limit`,progressive_filter:`Progressive Filter`};function Qa(e,t){return{title:`Upgrade received!`,description:`${Za[e]} (x${t})`,image:`/sprites/elements/upgrade.png`}}const $a=hi(new Sa),eo=hi(null),to=hi(null);var no=new Da;function ro(){return no}var io=new Ea,ao=new Ea,oo=R(Nt(new Set));function so(){return q(oo)}var co=new Ea;const lo=new Da,uo=new Da;function fo(e){return co.has(e)}var po=new Ea;function mo(e){return po.has(e)}var ho=new Ea;const go=Nt({progressive_filter:0,field_size:10});function _o(e){let t=ja(e);return{icon:`/sprites/elements/void.png`,alt:`void`,name:e,elem_id:t,location:e,player:t.kind===Q.INTERMEDIATE?Z($a).players.self.alias:`Unknown`,game:t.kind===Q.INTERMEDIATE?Z($a).players.self.game:`Unknown`}}function vo(e){let t=Z($a);for(let n of e)ho.delete(t.package.lookupLocationName(`Elementipelago`,n));ho.size==0&&t.goal()}function yo(){let e=Z(to);if(e!=null){Z(eo).compounds_are_ingredients?z(oo,io.union(ao),!0):z(oo,io,!0),co.clear(),po.clear(),q(oo).forEach(e=>po.add(e));for(let[[t,n],r]of e.recipes.entries()){let e=Ma(t),i=Ma(n),a=q(oo).has(e)&&q(oo).has(i);for(let t of r)ao.has(Ma(t))||(a&&(co.add(e),co.add(i)),po.delete(e),po.delete(i))}uo.clear(),lo.entries().map(([e,t])=>[e,{ingredient_1:no.get(t.ingredient_1)??_o(t.ingredient_1),ingredient_2:no.get(t.ingredient_2)??_o(t.ingredient_2),product:no.get(t.result)??_o(t.result),found:t.found}]).forEach(([e,t])=>uo.set(e,t))}}async function bo(){let e=Z($a),t=e.scout(e.room.allLocations.filter(e=>e<=Oa),0);Ga(Z(eo).graph_seed),So(e.items.received),Co(e.room.checkedLocations);for(let t of e.room.missingLocations)t<=2e3||t>3e3||ho.add(e.package.lookupLocationName(`Elementipelago`,t));for(let e of await t)if(!no.has(e.locationName)){let t=ja(e.locationName),n=t.kind===Q.INTERMEDIATE?Ka():e.name,r=La(e.game,n);no.set(e.locationName,{elem_id:t,name:e.locationName,icon:`/sprites/elements/`+r+`.png`,alt:r,location:n,player:e.receiver.alias,game:e.receiver.game})}e.items.hints.forEach(e=>xo(e)),yo(),vo([]),e.items.on(`hintsInitialized`,e=>{e.forEach(e=>xo(e)),yo()}),e.items.on(`hintReceived`,e=>{xo(e),yo()}),e.items.on(`hintFound`,e=>{lo.has(e.item.locationName)&&(lo.get(e.item.locationName).found=!0),yo()}),e.items.on(`itemsReceived`,So),e.items.on(`itemsReceived`,yo),e.room.on(`locationsChecked`,Co),e.room.on(`locationsChecked`,yo),e.room.on(`locationsChecked`,vo)}function xo(e){let t=e.item.locationName;if(lo.has(t))return;let n=Z(to);if(n==null)return;let r=0;for(let[[i,a],o]of n.recipes.entries())for(let n of o)if(Ma(n)==t){let n=Ma(i),o=Ma(a);lo.set(t+` `+r,{found:e.found,ingredient_1:n,ingredient_2:o,result:t}),r+=1}}function So(e){let t=Z($a).room.seedName+`_`+Z($a).name,n=JSON.parse(localStorage.getItem(`ap.slotData`))??{};if(!n.hasOwnProperty(t)){n[t]={receivedItems:[],upgrades:go,date:new Date};let e=Object.entries(n);if(e.length>100){let[t,r]=e.map(([e,t])=>[e,t.date]).reduce(([e,t],[n,r])=>t>r?[n,r]:[e,t]);delete n[t]}}let r=n[t].receivedItems,i=[...r];for(let t of e){if(t.id<100){t.name==`Progressive Filter`&&(go.progressive_filter+=1),t.name==`Progressive Item Limit`&&(go.field_size+=1);continue}i.includes(t.name)||i.push(t.name);let e=ja(t.name),n=e.kind===Q.INTERMEDIATE||t.locationGame===`Archipelago`?Ka():t.locationName,r=Ra(t.game,n);io.add(t.name),!no.has(t.name)&&no.set(t.name,{elem_id:e,name:t.name,icon:`/sprites/elements/`+r+`.png`,alt:r,location:n,player:t.sender.alias,game:t.sender.game})}let a=n[t].upgrades;n[t].upgrades=go,n[t].receivedItems=i,localStorage.setItem(`ap.slotData`,JSON.stringify(n)),Ja(e.filter(e=>e.id>=100&&!r.includes(e.name))),Ya(a,go)}function Co(e){let t=Z($a);for(let n of e)ao.add(t.package.lookupLocationName(`Elementipelago`,n))}var wo=18446744073709551615n;const Q={INPUT:1,INTERMEDIATE:2,OUTPUT:3};function To(){let e=Z(eo);to.set(Oo(BigInt(e.graph_seed),e.element_amount,e.compound_amount,e.intermediate_amount,4,e.compounds_are_ingredients))}var Eo=class{constructor(e){this.seed_x=e&wo,this.seed_y=e<<1n&wo}get_random(){let e=this.seed_x,t=this.seed_y;return this.seed_x=this.seed_y,e^=e<<23n&wo,e^=e>>17n,e^=t,this.seed_y=e+t&wo,e}};function Do(e,t){return[...Array(t-e)].map((t,n)=>e+n)}function Oo(e,t,n,r,i,a){let o=[],s=[],c=new zi.DeepSet,l=new Eo(e),u=Do(1,t+1),d=Do(1,r+1),f=Do(1,n+1);for(let e=1;e<=i;e++)o.push([-1,-1,e,Q.INPUT]),u.splice(0,1);let p=0,m=0,h=u.length+d.length+f.length;for(;h>0;){let e=o.length,t=[],n=Math.min(Math.floor(e*e/2)-c.size-1,h-1),r=1;n>0&&(r=Number(l.get_random()%BigInt(n))+1);for(let n=0;n<r;n++){let n=-1;for(;n==-1;){let e=Number(l.get_random()%3n)+1;e==Q.INPUT&&m>p&&u.length>0?(n=Q.INPUT,p+=1):e==Q.INTERMEDIATE&&d.length>0?n=Q.INTERMEDIATE:e==Q.OUTPUT&&f.length>0&&(n=Q.OUTPUT,m+=1)}let r=0,i=0;do r=Number(l.get_random()%BigInt(e)),i=Number(l.get_random()%BigInt(e)),r>i&&([r,i]=[i,r]);while(c.has([r,i]));c.add([r,i]);let o;if(n==Q.INPUT){let e=Number(l.get_random()%BigInt(u.length));o=u.splice(e,1)[0]}else if(n==Q.INTERMEDIATE){let e=Number(l.get_random()%BigInt(d.length));o=d.splice(e,1)[0]}else if(n==Q.OUTPUT){let e=Number(l.get_random()%BigInt(f.length));o=f.splice(e,1)[0]}a||n!=Q.OUTPUT?t.push([r,i,o,n]):s.push([r,i,o,n])}h=u.length+d.length+f.length,o.push(...t)}o.push(...s);let g=new zi.DeepMap;for(let e of o){let[t,n,r,i]=e;if(i==Q.INPUT||t<0&&n<0)continue;let a=[{id:o[t][2],kind:o[t][3]},{id:o[n][2],kind:o[n][3]}],s={id:r,kind:i};g.has(a)?g.get(a).push(s):g.set(a,[s])}let _=Do(1,t+1).map(e=>Object({id:e,kind:Q.INPUT})).concat(Do(1,r+1).map(e=>Object({id:e,kind:Q.INTERMEDIATE})));return a&&_.concat(Do(1,n+1).map(e=>Object({id:e,kind:Q.OUTPUT}))),{recipes:g,ingredients:_}}var ko=J(`<div><img draggable="false"/> <div class="svelte-hdeu4a"><h1 class="svelte-hdeu4a"> </h1> <p class="svelte-hdeu4a"> </p> <p class="svelte-hdeu4a"> </p></div></div>`);function Ao(e,t){Ne(t,!0);let n=vi(t,`x`,7),r=vi(t,`y`,7),i=vi(t,`offsetx`,7),a=vi(t,`offsety`,7);function o(){return q(x).elem_id}let s,c=R(0),l=R(0),u=L(()=>(q(c)-q(l))/2),d=L(()=>n()-i()-q(u)),f=L(()=>r()-a()),p=R(1e4),m=R(!1);function h(){return q(p)}function g(e){z(p,e,!0)}function _(){return s.getBoundingClientRect?.()}yi(()=>{t.attach&&xi.set({index:t.index,mfunc:(e,t)=>{n(e),r(t)}})}),xi.subscribe(e=>{z(m,e!=null&&e.index===t.index,!0)});function v(e){window.getSelection().removeAllRanges(),Oi.drag_start(),z(u,0),z(p,1e4),i(e.layerX),a(e.layerY),n(e.x),r(e.y),xi.set({index:t.index,mfunc:(e,t)=>{n(e),r(t)}})}let y=ro(),b=L(()=>Ma(t.elem_id)),x=L(()=>y.get(q(b))??{icon:`/sprites/elements/void.png`,alt:`void`,location:`Loading...`,player:`Loading...`,elem_id:t.elem_id,name:q(b)});var S={get_elem_id:o,get_z_index:h,set_z_index:g,get_rect:_},C=ko(),w=B(C);w.__pointerdown=v,ui(w,e=>s=e,()=>s);var T=V(w,2),E=B(T),ee=B(E,!0);N(E);var D=V(E,2),te=B(D);N(D);var ne=V(D,2),re=B(ne,!0);return N(ne),N(T),N(C),cn(()=>{qr(C,1,`${q(m)?`dragged`:``} wrapper`,`svelte-hdeu4a`),Yr(C,`left: ${q(d)??``}px; top: ${q(f)??``}px; z-index: ${q(p)??``};`),$r(w,`src`,q(x).icon),$r(w,`alt`,q(x).alt),qr(w,1,`
            ${q(m)?`dragged`:``}
            ${q(x).elem_id.kind===Q.OUTPUT?`compound`:``}
        `,`svelte-hdeu4a`),X(ee,q(x).location),X(te,`${q(x).elem_id.kind===Q.OUTPUT?`to`:`from`}
            ${q(x).player??``}`),X(re,q(x).name)}),ci(w,`clientWidth`,e=>z(l,e)),Ir(3,C,()=>Ti,()=>({duration:100})),ci(C,`clientWidth`,e=>z(c,e)),Y(e,C),Pe(S)}rr([`pointerdown`]);const jo=hi({x:0,y:0});var Mo=J(`<img src="/sprites/ui/check.png" alt="exhausted" class="svelte-r0t3vv"/>`),No=J(`<img src="/sprites/ui/burger.png" alt="BK" class="svelte-r0t3vv"/>`),Po=J(`<li><img draggable="false" class="svelte-r0t3vv"/> <span class="info svelte-r0t3vv"><h1 class="svelte-r0t3vv"> </h1> <p class="svelte-r0t3vv"> </p> <p class="svelte-r0t3vv"> </p></span> <span class="icon svelte-r0t3vv"><!></span></li>`);function Fo(e,t){Ne(t,!0);let n;function r(e){window.getSelection().removeAllRanges(),Oi.drag_start(),jo.set({x:e.clientX,y:e.clientY});let{x:r,y:i}=Z(jo),a=n.getBoundingClientRect();t.mount_func(r,i,t.elem_data.elem_id,r-a.left,i-a.top,!0)}let i=L(()=>!fo(t.elem_data.name)&&go.progressive_filter>1),a=L(()=>mo(t.elem_data.name)&&go.progressive_filter>0);var o=Po(),s=B(o);s.__pointerdown=r;var c=V(s,2),l=B(c),u=B(l,!0);N(l);var d=V(l,2),f=B(d);N(d);var p=V(d,2),m=B(p,!0);N(p),N(c);var h=V(c,2),g=B(h),_=e=>{Y(e,Mo())},v=e=>{var t=cr(),n=Ht(t),r=e=>{Y(e,No())};_r(n,e=>{q(i)&&e(r)},!0),Y(e,t)};_r(g,e=>{q(a)?e(_):e(v,!1)}),N(h),N(o),ui(o,e=>n=e,()=>n),cn(()=>{qr(o,1,`element ${q(i)||q(a)?`disabled`:``}`,`svelte-r0t3vv`),$r(s,`src`,t.elem_data.icon),$r(s,`alt`,t.elem_data.alt),X(u,t.elem_data.location),X(f,`from ${t.elem_data.player??``}`),X(m,t.elem_data.name)}),Y(e,o),Pe()}rr([`pointerdown`]);function Io(e){return Array.isArray?Array.isArray(e):qo(e)===`[object Array]`}var Lo=1/0;function Ro(e){if(typeof e==`string`)return e;let t=e+``;return t==`0`&&1/e==-Lo?`-0`:t}function zo(e){return e==null?``:Ro(e)}function Bo(e){return typeof e==`string`}function Vo(e){return typeof e==`number`}function Ho(e){return e===!0||e===!1||Wo(e)&&qo(e)==`[object Boolean]`}function Uo(e){return typeof e==`object`}function Wo(e){return Uo(e)&&e!==null}function Go(e){return e!=null}function Ko(e){return!e.trim().length}function qo(e){return e==null?e===void 0?`[object Undefined]`:`[object Null]`:Object.prototype.toString.call(e)}var Jo=`Incorrect 'index' type`,Yo=e=>`Invalid value for key ${e}`,Xo=e=>`Pattern length exceeds max of ${e}.`,Zo=e=>`Missing ${e} property in key`,Qo=e=>`Property 'weight' in key '${e}' must be a positive integer`,$o=Object.prototype.hasOwnProperty,es=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=ts(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function ts(e){let t=null,n=null,r=null,i=1,a=null;if(Bo(e)||Io(e))r=e,t=ns(e),n=rs(e);else{if(!$o.call(e,`name`))throw Error(Zo(`name`));let o=e.name;if(r=o,$o.call(e,`weight`)&&(i=e.weight,i<=0))throw Error(Qo(o));t=ns(o),n=rs(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function ns(e){return Io(e)?e:e.split(`.`)}function rs(e){return Io(e)?e.join(`.`):e}function is(e,t){let n=[],r=!1,i=(e,t,a)=>{if(Go(e))if(!t[a])n.push(e);else{let o=e[t[a]];if(!Go(o))return;if(a===t.length-1&&(Bo(o)||Vo(o)||Ho(o)))n.push(zo(o));else if(Io(o)){r=!0;for(let e=0,n=o.length;e<n;e+=1)i(o[e],t,a+1)}else t.length&&i(o,t,a+1)}};return i(e,Bo(t)?t.split(`.`):t,0),r?n:n[0]}var as={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},os={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},ss={location:0,threshold:.6,distance:100},cs={useExtendedSearch:!1,getFn:is,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},$={...os,...as,...ss,...cs},ls=/[^ ]+/g;function us(e=1,t=3){let n=new Map,r=10**t;return{get(t){let i=t.match(ls).length;if(n.has(i))return n.get(i);let a=1/i**(.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear(){n.clear()}}}var ds=class{constructor({getFn:e=$.getFn,fieldNormWeight:t=$.fieldNormWeight}={}){this.norm=us(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Bo(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();Bo(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)--this.records[t].i}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Go(e)||Ko(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Go(i)){if(Io(i)){let e=[],t=[{nestedArrIndex:-1,value:i}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(Go(r))if(Bo(r)&&!Ko(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else Io(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(Bo(i)&&!Ko(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function fs(e,t,{getFn:n=$.getFn,fieldNormWeight:r=$.fieldNormWeight}={}){let i=new ds({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(ts)),i.setSources(t),i.create(),i}function ps(e,{getFn:t=$.getFn,fieldNormWeight:n=$.fieldNormWeight}={}){let{keys:r,records:i}=e,a=new ds({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function ms(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=$.distance,ignoreLocation:a=$.ignoreLocation}={}){let o=t/e.length;if(a)return o;let s=Math.abs(r-n);return i?o+s/i:s?1:o}function hs(e=[],t=$.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=e.length;a<o;a+=1){let o=e[a];o&&r===-1?r=a:!o&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var gs=32;function _s(e,t,n,{location:r=$.location,distance:i=$.distance,threshold:a=$.threshold,findAllMatches:o=$.findAllMatches,minMatchCharLength:s=$.minMatchCharLength,includeMatches:c=$.includeMatches,ignoreLocation:l=$.ignoreLocation}={}){if(t.length>gs)throw Error(Xo(gs));let u=t.length,d=e.length,f=Math.max(0,Math.min(r,d)),p=a,m=f,h=s>1||c,g=h?Array(d):[],_;for(;(_=e.indexOf(t,m))>-1;){let e=ms(t,{currentLocation:_,expectedLocation:f,distance:i,ignoreLocation:l});if(p=Math.min(e,p),m=_+u,h){let e=0;for(;e<u;)g[_+e]=1,e+=1}}m=-1;let v=[],y=1,b=u+d,x=1<<u-1;for(let r=0;r<u;r+=1){let a=0,s=b;for(;a<s;)ms(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=p?a=s:b=s,s=Math.floor((b-a)/2+a);b=s;let c=Math.max(1,f-s+1),_=o?d:Math.min(f+s,d)+u,S=Array(_+2);S[_+1]=(1<<r)-1;for(let a=_;a>=c;--a){let o=a-1,s=n[e.charAt(o)];if(h&&(g[o]=+!!s),S[a]=(S[a+1]<<1|1)&s,r&&(S[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),S[a]&x&&(y=ms(t,{errors:r,currentLocation:o,expectedLocation:f,distance:i,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=f)break;c=Math.max(1,2*f-m)}}if(ms(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>p)break;v=S}let S={isMatch:m>=0,score:Math.max(.001,y)};if(h){let e=hs(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function vs(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var ys=String.prototype.normalize?(e=>e.normalize(`NFD`).replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,``)):(e=>e),bs=class{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l},e=s?e:e.toLowerCase(),e=c?ys(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let u=(e,t)=>{this.chunks.push({pattern:e,alphabet:vs(e),startIndex:t})},d=this.pattern.length;if(d>gs){let e=0,t=d%gs,n=d-t;for(;e<n;)u(this.pattern.substr(e,gs),e),e+=gs;if(t){let e=d-gs;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?ys(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}let{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options,u=[],d=0,f=!1;this.chunks.forEach(({pattern:t,alphabet:n,startIndex:p})=>{let{isMatch:m,score:h,indices:g}=_s(e,t,n,{location:i+p,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});m&&(f=!0),d+=h,m&&g&&(u=[...u,...g])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(p.indices=u),p}},xs=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Ss(e,this.multiRegex)}static isSingleMatch(e){return Ss(e,this.singleRegex)}search(){}};function Ss(e,t){let n=e.match(t);return n?n[1]:null}var Cs=class extends xs{constructor(e){super(e)}static get type(){return`exact`}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ws=class extends xs{constructor(e){super(e)}static get type(){return`inverse-exact`}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Ts=class extends xs{constructor(e){super(e)}static get type(){return`prefix-exact`}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Es=class extends xs{constructor(e){super(e)}static get type(){return`inverse-prefix-exact`}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Ds=class extends xs{constructor(e){super(e)}static get type(){return`suffix-exact`}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},Os=class extends xs{constructor(e){super(e)}static get type(){return`inverse-suffix-exact`}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},ks=class extends xs{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){super(e),this._bitapSearch=new bs(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return`fuzzy`}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},As=class extends xs{constructor(e){super(e)}static get type(){return`include`}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n,r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);let a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}},js=[Cs,As,Ts,Es,Os,Ds,ws,ks],Ms=js.length,Ns=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ps=`|`;function Fs(e,t={}){return e.split(Ps).map(e=>{let n=e.trim().split(Ns).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],a=!1,o=-1;for(;!a&&++o<Ms;){let e=js[o],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),a=!0)}if(!a)for(o=-1;++o<Ms;){let e=js[o],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}var Is=new Set([ks.type,As.type]),Ls=class{constructor(e,{isCaseSensitive:t=$.isCaseSensitive,ignoreDiacritics:n=$.ignoreDiacritics,includeMatches:r=$.includeMatches,minMatchCharLength:i=$.minMatchCharLength,ignoreLocation:a=$.ignoreLocation,findAllMatches:o=$.findAllMatches,location:s=$.location,threshold:c=$.threshold,distance:l=$.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?ys(e):e,this.pattern=e,this.query=Fs(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?ys(e):e;let a=0,o=[],s=0;for(let r=0,i=t.length;r<i;r+=1){let i=t[r];o.length=0,a=0;for(let t=0,r=i.length;t<r;t+=1){let r=i[t],{isMatch:c,indices:l,score:u}=r.search(e);if(c){if(a+=1,s+=u,n){let e=r.constructor.type;Is.has(e)?o=[...o,...l]:o.push(l)}}else{s=0,a=0,o.length=0;break}}if(a){let e={isMatch:!0,score:s/a};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}},Rs=[];function zs(...e){Rs.push(...e)}function Bs(e,t){for(let n=0,r=Rs.length;n<r;n+=1){let r=Rs[n];if(r.condition(e,t))return new r(e,t)}return new bs(e,t)}var Vs={AND:`$and`,OR:`$or`},Hs={PATH:`$path`,PATTERN:`$val`},Us=e=>!!(e[Vs.AND]||e[Vs.OR]),Ws=e=>!!e[Hs.PATH],Gs=e=>!Io(e)&&Uo(e)&&!Us(e),Ks=e=>({[Vs.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function qs(e,t,{auto:n=!0}={}){let r=e=>{let i=Object.keys(e),a=Ws(e);if(!a&&i.length>1&&!Us(e))return r(Ks(e));if(Gs(e)){let r=a?e[Hs.PATH]:i[0],o=a?e[Hs.PATTERN]:e[r];if(!Bo(o))throw Error(Yo(r));let s={keyId:rs(r),pattern:o};return n&&(s.searcher=Bs(o,t)),s}let o={children:[],operator:i[0]};return i.forEach(t=>{let n=e[t];Io(n)&&n.forEach(e=>{o.children.push(r(e))})}),o};return Us(e)||(e=Ks(e)),r(e)}function Js(e,{ignoreFieldNorm:t=$.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let a=e?e.weight:null;n*=(i===0&&a?2**-52:i)**+((a||1)*(t?1:r))}),e.score=n})}function Ys(e,t){let n=e.matches;t.matches=[],Go(n)&&n.forEach(e=>{if(!Go(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Xs(e,t){t.score=e.score}function Zs(e,t,{includeMatches:n=$.includeMatches,includeScore:r=$.includeScore}={}){let i=[];return n&&i.push(Ys),r&&i.push(Xs),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}var Qs=class{constructor(e,t={},n){this.options={...$,...t},this.options.useExtendedSearch,this._keyStore=new es(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ds))throw Error(Jo);this._myIndex=t||fs(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Go(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),--n,--r,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:o}=this.options,s=Bo(e)?Bo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Js(s,{ignoreFieldNorm:o}),i&&s.sort(a),Vo(t)&&t>-1&&(s=s.slice(0,t)),Zs(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=Bs(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!Go(e))return;let{isMatch:a,score:o,indices:s}=t.searchIn(e);a&&r.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=qs(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,a=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return a&&a.length?[{idx:r,item:t,matches:a}]:[]}let i=[];for(let a=0,o=e.children.length;a<o;a+=1){let o=e.children[a],s=n(o,t,r);if(s.length)i.push(...s);else if(e.operator===Vs.AND)return[]}return i},r=this._myIndex.records,i={},a=[];return r.forEach(({$:e,i:r})=>{if(Go(e)){let o=n(t,e,r);o.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},a.push(i[r])),o.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),a}_searchObjectList(e){let t=Bs(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!Go(e))return;let a=[];n.forEach((n,r)=>{a.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),a.length&&i.push({idx:r,item:e,matches:a})}),i}_findMatches({key:e,value:t,searcher:n}){if(!Go(t))return[];let r=[];if(Io(t))t.forEach(({v:t,i,n:a})=>{if(!Go(t))return;let{isMatch:o,score:s,indices:c}=n.searchIn(t);o&&r.push({score:s,key:e,value:t,idx:i,norm:a,indices:c})});else{let{v:i,n:a}=t,{isMatch:o,score:s,indices:c}=n.searchIn(i);o&&r.push({score:s,key:e,value:i,norm:a,indices:c})}return r}};Qs.version=`7.1.0`,Qs.createIndex=fs,Qs.parseIndex=ps,Qs.config=$,Qs.parseQuery=qs,zs(Ls);var $s=J(`<div id="drawer-parent" class="svelte-1tpva5q"><input class="svelte-1tpva5q"/> <ul id="drawer" class="svelte-1tpva5q"></ul> <span></span></div>`);function ec(e,t){Ne(t,!0);let n=R(``),r=R(!1),i=L(()=>{let e=ro(),t=Array.from(so().values().map(t=>e.get(t)).filter(e=>e.elem_id!=null)).sort((e,t)=>{let n=0;return go.progressive_filter>1&&(n||=fo(t.name)-fo(e.name)),go.progressive_filter>0&&(n||=mo(e.name)-mo(t.name)),n||e.elem_id.kind-t.elem_id.kind||e.elem_id.id-t.elem_id.id});return q(n)===``?t:new Qs(t,{keys:[{name:`location`,weight:1},{name:`player`,weight:.5},{name:`name`,weight:.5}],threshold:.3}).search(q(n)).sort((e,t)=>t.score-e.score).map(e=>e.item)});xi.subscribe(e=>{z(r,e!==null)});var a=$s(),o=B(a);Qr(o);var s=V(o,2);Sr(s,21,()=>q(i),vr,(e,n)=>{Fo(e,{get elem_data(){return q(n)},get mount_func(){return t.mount_func}})}),N(s);var c=V(s,2);N(a),cn(()=>qr(c,1,Vr(q(r)?`show-discard`:t.mounted_elements.size>=go.field_size?`show-blocking`:``),`svelte-1tpva5q`)),ri(o,()=>q(n),e=>z(n,e)),Y(e,a),Pe()}je();var tc=J(`<div class="login svelte-3z0wmw"><h1 class="svelte-3z0wmw">elementipelago</h1> <label class="svelte-3z0wmw">Host <input placeholder="archipelago.gg:38281"/></label> <label class="svelte-3z0wmw">Slot / Player name <input placeholder="MySlotName"/></label> <label class="svelte-3z0wmw">Password (optional) <input type="password"/></label> <button class="svelte-3z0wmw"> </button> <div class="error svelte-3z0wmw"> </div></div> <div class="download svelte-3z0wmw"><a href="https://github.com/peppidesu/elementipelago/releases" class="svelte-3z0wmw"><img src="/sprites/ui/download.png" class="svelte-3z0wmw"/></a>Download AP world here</div>`,1);function nc(e,t){Ne(t,!1);let n=vi(t,`onSubmit`,8),r=Ot(localStorage.getItem(`ap.host`)??`archipelago.gg:38281`),i=Ot(localStorage.getItem(`ap.slot`)??``),a=Ot(localStorage.getItem(`ap.password`)??``),o=Ot(!1),s=Ot(``);async function c(){z(s,``);try{z(o,!0),localStorage.setItem(`ap.host`,q(r)),localStorage.setItem(`ap.slot`,q(i)),localStorage.setItem(`ap.password`,q(a));let e=await Z($a).login(q(r),q(i),`Elementipelago`,q(a)==``?{}:{password:q(a)});if(!Aa.test(e.version))throw Error(`AP world version '${e.version}' is not supported.\n Supported versions include: ${ka}`);eo.set(e),n()()}catch(e){e.name===`SecurityError`&&!q(r).startsWith(`ws://`)?z(s,`Failed to connect to Archipelago server.`):z(s,e.message)}finally{z(o,!1)}}di();var l=tc(),u=Ht(l),d=V(B(u),2),f=V(B(d));Qr(f),N(d);var p=V(d,2),m=V(B(p));Qr(m),N(p);var h=V(p,2),g=V(B(h));Qr(g),N(h);var _=V(h,2),v=B(_,!0);N(_);var y=V(_,2),b=B(y,!0);N(y),N(u),Se(2),cn(()=>{_.disabled=q(o)||!q(r)||!q(i),X(v,q(o)?`Connecting...`:`Connect to multiworld`),X(b,q(s))}),ri(f,()=>q(r),e=>z(r,e)),ri(m,()=>q(i),e=>z(i,e)),ri(g,()=>q(a),e=>z(a,e)),nr(`click`,_,c),Y(e,l),Pe()}var rc=J(`<div id="playfield" class="svelte-1okr8q1"></div>`);function ic(e,t){Ne(t,!1);function n(e){Array.from(e).toSorted(([e,t],[n,r])=>Number(t.get_z_index())-Number(r.get_z_index())).forEach(([e,t],n)=>t.set_z_index(String(n+1)))}var r={handle_dropped:n};return di(),Y(e,rc()),oi(t,`handle_dropped`,n),Pe(r)}var ac=J(`<div class="svelte-1q6vvua"><h1 class="svelte-1q6vvua"> </h1> <p class="svelte-1q6vvua"> </p> <img class="svelte-1q6vvua"/></div>`);function oc(e,t){Ne(t,!0);let n=R(null),r=R(!1),i=R(0);qa.subscribe(o),en(o);function a(){clearTimeout(q(i)),s()}function o(){!q(r)&&Z(qa).length>0&&q(n)==null&&(qa.update(e=>(z(n,e.splice(0,1)[0],!0),e)),z(r,!0),Oi.toast(),z(i,setTimeout(s,5e3),!0))}function s(){z(n,null),setTimeout(()=>z(r,!1),200)}var c=cr(),l=Ht(c),u=e=>{var t=ac();t.__pointerup=a;var r=B(t),i=B(r,!0);N(r);var o=V(r,2),s=B(o,!0);N(o);var c=V(o,2);N(t),cn(()=>{X(i,q(n).title),X(s,q(n).description),$r(c,`src`,q(n).image)}),Ir(3,t,()=>wi,()=>({duration:200,x:`100%`,y:0})),Y(e,t)};_r(l,e=>{q(n)!=null&&e(u)}),Y(e,c),Pe()}rr([`pointerup`]);function sc(e){return e}var cc=J(`<div class="bg svelte-sraem3"><div class="window-wrapper svelte-sraem3"><!> <button class="svelte-sraem3">X</button></div></div>`);function lc(e,t){function n(e,t){return{delay:t.delay||0,duration:t.duration||300,easing:t.easing||sc,css:(e,n)=>`backdrop-filter: blur(${e*(t.blur||5)}px)`}}var r=cr(),i=Ht(r),a=e=>{var r=cc(),i=B(r),a=B(i);Dr(a,()=>t.children);var o=V(a,2);o.__click=function(...e){t.onClose?.apply(this,e)},N(i),N(r),Ir(3,i,()=>wi,()=>({duration:300,y:`-30%`})),Ir(3,r,()=>n),Y(e,r)};_r(i,e=>{t.show&&e(a)}),Y(e,r)}rr([`click`]);var uc=J(`<li class="svelte-1roe1v9"><span></span> <pre class="svelte-1roe1v9"> </pre></li>`),dc=J(`<div class="svelte-1roe1v9"><ul class="svelte-1roe1v9"></ul> <input class="svelte-1roe1v9"/> <h1 class="svelte-1roe1v9">Chat</h1></div>`);function fc(e,t){Ne(t,!0);let n=Nt([]),r=R(``);Z($a).messages.on(`message`,(e,t)=>{n.push(e)});let i=e=>{e.scrollIntoView({behavior:`smooth`,block:`end`})};lc(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var a=dc(),o=B(a);Sr(o,21,()=>n,vr,(e,t)=>{var n=uc(),r=B(n);r.textContent=`>>`;var a=V(r,2),o=B(a,!0);N(a),N(n),Rr(n,()=>i),cn(()=>X(o,q(t))),Y(e,n)}),N(o);var s=V(o,2);Qr(s),s.__keydown=e=>{e.key===`Enter`&&(e.preventDefault(),Z($a).messages.say(q(r)),z(r,``))},Se(2),N(a),ri(s,()=>q(r),e=>z(r,e)),Y(e,a)},$$slots:{default:!0}}),Pe()}rr([`keydown`]);var pc=J(`<button class="svelte-obe3w3"><img class="svelte-obe3w3"/></button>`),mc=J(`<div id="tray" class="svelte-obe3w3"></div>`);function hc(e,t){Ne(t,!0);let n=[{id:`settings`,icon:`settings`},{id:`chat`,icon:`chat`},{id:`hints`,icon:`hint2`}];var r=mc();Sr(r,21,()=>t.connected?n:[n[0]],vr,(e,n)=>{var r=pc();r.__click=()=>t.handler(q(n).id);var i=B(r);N(r),cn(()=>$r(i,`src`,`/sprites/ui/${q(n).icon??``}.png`)),Y(e,r)}),N(r),Y(e,r),Pe()}rr([`click`]);var gc=J(`<li class="svelte-lqmuci"> </li>`),_c=J(`<li class="svelte-lqmuci"> </li>`),vc=J(`<h3 class="svelte-lqmuci"> </h3> <ul class="svelte-lqmuci"></ul>`,1),yc=J(`<div class="svelte-lqmuci"><h1 class="svelte-lqmuci">Settings</h1> <ul class="svelte-lqmuci"><h2 class="svelte-lqmuci">Audio</h2> <div class="svelte-lqmuci">Music <input type="range" min="0" max="1" step="0.01" class="svelte-lqmuci"/></div> <div class="svelte-lqmuci">SFX <input type="range" min="0" max="1" step="0.01" class="svelte-lqmuci"/></div> <div style="border-bottom: 3px solid #c0c0c0; padding-block: 10px" class="svelte-lqmuci"></div> <h2 class="svelte-lqmuci">Credits</h2> <h1 style="justify-self: center; font-size: 3em" class="svelte-lqmuci">elementipelago</h1> <p class="svelte-lqmuci">a game made for Archipelago</p> <!> <div style="border-bottom: 3px solid #c0c0c0; padding-block: 10px" class="svelte-lqmuci"></div> <h2 class="svelte-lqmuci">License</h2> <p class="svelte-lqmuci">Elementipelago is a free and open-source project licensed under the <a href="https://github.com/peppidesu/elementipelago/blob/main/LICENSE" target="_blank">AGPL-3.0 license</a>.</p> <p class="svelte-lqmuci">All sprites are &copy; 2026 by Pepijn Bakker &amp; Noa Aarts and licensed under CC
                BY-NC 4.0. To view a copy of this license, visit <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">https://creativecommons.org/licenses/by-nc/4.0/</a>.</p> <h2 class="svelte-lqmuci">Links</h2> <p style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px" class="svelte-lqmuci"><a class="button" target="_blank" href="https://github.com/peppidesu/elementipelago">Github</a> <a class="button" target="_blank" href="https://archipelago.gg">Archipelago</a> <a class="button" target="_blank" href="https://discord.com/channels/731205301247803413/1397584087493115934">Discord channel</a></p></ul></div>`);function bc(e,t){Ne(t,!0);let n=R(Nt(parseFloat(localStorage.getItem(`settings.music_volume`)??`1.0`))),r=R(Nt(parseFloat(localStorage.getItem(`settings.sfx_volume`)??`1.0`)));function i(){localStorage.setItem(`settings.music_volume`,q(n).toString())}function a(){localStorage.setItem(`settings.sfx_volume`,q(r).toString()),Oi.bubble()}var o,s,c=gt([async()=>o=await(await fetch(`/discord-users.json`)).json(),()=>s=[{label:`Development & artwork`,users:[`382561799742160896`,`235482863250702336`]},{label:`Audio samples from freesound.org`,lines:[`'Doorbell Pull with pull Store Bell 05.wav' by maisonsonique (CC BY 4.0)`,`'Door, Front, Opening, A.wav' by InspectorJ (CC BY 4.0)`]},{label:`Playtesting`,users:[`1429874676590575907`,`317342307705683968`]},{label:`Feedback & support`,users:[`138378536497971200`,`329656222213079053`,`110878826136907776`,`1296648831370268756`,`86612976529838080`,`353959847189938196`],columns:2}]]);lc(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var l=yc(),u=V(B(l),2),d=V(B(u),2),f=V(B(d));Qr(f),f.__change=i,N(d);var p=V(d,2),m=V(B(p));Qr(m),m.__pointerup=a,N(p),hr(V(p,10),[c[1]],[()=>s],(e,t)=>{Sr(e,17,()=>q(t),vr,(e,t)=>{var n=vc(),r=Ht(n),i=B(r,!0);N(r);var a=V(r,2);Sr(a,21,()=>q(t).users,vr,(e,n,r)=>{var i=gc(),a=B(i);N(i),cn(()=>{Yr(i,q(t).users.length%2==1&&r===q(t).users.length-1?`grid-column: 1 / -1`:``),X(a,`${o[q(n)].display??o[q(n)].username??``} (@${o[q(n)].username??``})`)},void 0,void 0,[c[0]]),Y(e,i)},e=>{var n=cr();Sr(Ht(n),17,()=>q(t).lines,vr,(e,t)=>{var n=_c(),r=B(n,!0);N(n),cn(()=>X(r,q(t))),Y(e,n)}),Y(e,n)}),N(a),cn(()=>{X(i,q(t).label),Yr(a,`display: grid; grid-template-columns: repeat(${q(t).columns??1??``}, 1fr); justify-self: stretch; align-items: center;`)}),Y(e,n)})}),Se(12),N(u),N(l),ri(f,()=>q(n),e=>z(n,e)),ri(m,()=>q(r),e=>z(r,e)),Y(e,l)},$$slots:{default:!0}}),Pe()}rr([`change`,`pointerup`]);var xc=J(`<div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div> <span class="svelte-25hqkx">+</span> <div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div> <span class="svelte-25hqkx">=</span> <div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div>`,1),Sc=J(`<div class="holder svelte-25hqkx"><h1 class="svelte-25hqkx">Hinted Items</h1> <div class="hint-list svelte-25hqkx"></div></div>`);function Cc(e,t){lc(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var n=Sc(),r=V(B(n),2);Sr(r,21,()=>uo,vr,(e,t)=>{var n=L(()=>_(q(t),2));let r=()=>q(n)[1],i=L(()=>r().ingredient_1),a=L(()=>r().ingredient_2),o=L(()=>r().product);var s=xc(),c=Ht(s),l=B(c),u=V(l,2),d=B(u),f=B(d,!0);N(d);var p=V(d,2),m=B(p);N(p);var h=V(p,2),g=B(h,!0);N(h),N(u),N(c);var v=V(c,4),y=B(v),b=V(y,2),x=B(b),S=B(x,!0);N(x);var C=V(x,2),w=B(C);N(C);var T=V(C,2),E=B(T,!0);N(T),N(b),N(v);var ee=V(v,4),D=B(ee),te=V(D,2),ne=B(te),re=B(ne,!0);N(ne);var ie=V(ne,2),ae=B(ie);N(ie);var oe=V(ie,2),se=B(oe,!0);N(oe),N(te),N(ee),cn(()=>{qr(c,1,Vr(r().found?`disabled`:``),`svelte-25hqkx`),$r(l,`src`,q(i).icon),$r(l,`alt`,q(i).alt),X(f,q(i).location),X(m,`from ${q(i).player??``}`),X(g,q(i).name),qr(v,1,Vr(r().found?`disabled`:``),`svelte-25hqkx`),$r(y,`src`,q(a).icon),$r(y,`alt`,q(a).alt),X(S,q(a).location),X(w,`from ${q(a).player??``}`),X(E,q(a).name),qr(ee,1,Vr(r().found?`disabled`:``),`svelte-25hqkx`),$r(D,`src`,q(o).icon),$r(D,`alt`,q(o).alt),X(re,q(o).location),X(ae,`from ${q(o).player??``}`),X(se,q(o).name)}),Y(e,s)}),N(r),N(n),Y(e,n)},$$slots:{default:!0}})}var wc=J(`<div class="game svelte-1n46o8q"><!> <!></div> <!> <!> <!>`,1),Tc=J(`<!> <!> <!>`,1);function Ec(e,t){Ne(t,!0);let n=new Da,r=R(``);function i(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function a(e){jo.set({x:e.clientX,y:e.clientY}),Z(xi)?.mfunc(e.clientX,e.clientY)}let o;function s(e){let t=Z(xi);if(t==null)return;let r=t.index,a=n.get(r),s=a.get_rect();if(xi.set(null),i(s,document.getElementById(`drawer`).getBoundingClientRect())){Oi.trash(),mr(a,{outro:!0}),n.delete(r);return}Oi.drag_end();let c=Z(to),l={...a.get_elem_id()};for(let[e,t]of n){if(t==a)continue;let o=t.get_rect();if(i(s,o)){let i=t.get_elem_id(),u=c.recipes.get([l,i])||c.recipes.get([i,l]);if(u==null)continue;let f=u.map(e=>Na(e));Z($a).check(...f);for(let e of u)d((s.x+o.x)/2,(s.y+o.y)/2,e);setTimeout(()=>Oi.bubble(),100),mr(a,{outro:!0}),mr(t,{outro:!0}),n.delete(e),n.delete(r);break}}o(n)}let c=R(!1);async function l(){z(c,!0),To(),await bo()}let u=0;function d(e,t,r,i=0,a=0,o=!1){let s=ur(Ao,{target:document.getElementById(`playfield`),props:{x:e,y:t,elem_id:r,offsetx:i,offsety:a,attach:o,index:u}});n.set(u,s),u+=1}var f={mountElem:d},p=Tc();nr(`pointermove`,Pt,a),nr(`pointerup`,Pt,s);var m=Ht(p),h=e=>{nc(e,{onSubmit:l})},g=e=>{var t=wc(),i=Ht(t),a=B(i);ec(a,{mount_func:d,get mounted_elements(){return n}}),ic(V(a,2),{get handle_dropped(){return o},set handle_dropped(e){o=e}}),N(i);var s=V(i,2);oc(s,{});var c=V(s,2);{let e=L(()=>q(r)==`chat`);fc(c,{get show(){return q(e)},onClose:()=>z(r,``)})}var l=V(c,2);{let e=L(()=>q(r)==`hints`);Cc(l,{get show(){return q(e)},onClose:()=>z(r,``)})}Y(e,t)};_r(m,e=>{q(c)?e(g,!1):e(h)});var _=V(m,2);hc(_,{handler:e=>{z(r,e,!0)},get connected(){return q(c)}});var v=V(_,2);{let e=L(()=>q(r)==`settings`);bc(v,{get show(){return q(e)},onClose:()=>z(r,``)})}return Y(e,p),Pe(f)}ur(Ec,{target:document.getElementById(`app`)});