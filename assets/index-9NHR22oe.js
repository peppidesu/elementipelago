var e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),t=(e=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(e,{get:(e,t)=>(typeof require<`u`?require:e)[t]}):e)(function(e){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+e+"\" in an environment that doesn't expose the `require` function.")});(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var n=Array.isArray,r=Array.prototype.indexOf,i=Array.from;Object.keys;var a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,c=Object.prototype,l=Array.prototype,u=Object.getPrototypeOf,d=Object.isExtensible;function f(e){return typeof e==`function`}const p=()=>{};function m(e){return e()}function h(e){for(var t=0;t<e.length;t++)e[t]()}function g(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function _(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);let n=[];for(let r of e)if(n.push(r),n.length===t)break;return n}const v=1024,y=2048,b=4096,x=8192,S=65536,C=1<<19,w=1<<20,ee=1<<25,T=32768,E=1<<21,D=1<<23,te=Symbol(`$state`),ne=Symbol(`legacy props`),re=Symbol(``),ie=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ae(e){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function oe(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function se(e){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function ce(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function le(e){throw Error(`https://svelte.dev/e/effect_orphan`)}function ue(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function de(e){throw Error(`https://svelte.dev/e/props_invalid_value`)}function O(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function fe(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function pe(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function me(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}const he={},k=Symbol();function ge(e){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function _e(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let A=!1;function ve(e){A=e}let j;function ye(e){if(e===null)throw ge(),he;return j=e}function be(){return ye(It(j))}function M(e){if(A){if(It(j)!==null)throw ge(),he;j=e}}function xe(e=1){if(A){for(var t=e,n=j;t--;)n=It(n);j=n}}function Se(e=!0){for(var t=0,n=j;;){if(n.nodeType===8){var r=n.data;if(r===`]`){if(t===0)return n;--t}else (r===`[`||r===`[!`)&&(t+=1)}var i=It(n);e&&n.remove(),n=i}}function Ce(e){if(!e||e.nodeType!==8)throw ge(),he;return e.data}function we(e){return e===this.v}function Te(e,t){return e==e?e!==t||typeof e==`object`&&!!e||typeof e==`function`:t==t}function Ee(e){return!Te(e,this.v)}let De=!1;function Oe(){De=!0}let N=null;function ke(e){N=e}function Ae(e,t=!1,n){N={p:N,i:!1,c:null,e:null,s:e,x:null,l:De&&!t?{s:null,u:null,$:[]}:null}}function je(e){var t=N,n=t.e;if(n!==null){t.e=null;for(var r of n)Xt(r)}return e!==void 0&&(t.x=e),t.i=!0,N=t.p,e??{}}function Me(){return!De||N!==null&&N.l===null}var Ne=[];function Pe(){var e=Ne;Ne=[],h(e)}function Fe(e){if(Ne.length===0&&!Ye){var t=Ne;queueMicrotask(()=>{t===Ne&&Pe()})}Ne.push(e)}function Ie(){for(;Ne.length>0;)Pe()}function Le(e){var t=W;if(t===null)return H.f|=D,e;if(t.f&32768)Re(e,t);else{if(!(t.f&128))throw e;t.b.error(e)}}function Re(e,t){for(;t!==null;){if(t.f&128)try{t.b.error(e);return}catch(t){e=t}t=t.parent}throw e}var ze=~(b|3072);function P(e,t){e.f=e.f&ze|t}function Be(e){e.f&512||e.deps===null?P(e,v):P(e,b)}function Ve(e){if(e!==null)for(let t of e)!(t.f&2)||!(t.f&32768)||(t.f^=T,Ve(t.deps))}function He(e,t,n){e.f&2048?t.add(e):e.f&4096&&n.add(e),Ve(e.deps),P(e,v)}var Ue=new Set;let F=null,We=null,Ge=null;var Ke=[],qe=null,Je=!1;let Ye=!1;var Xe=class e{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#i=null;#a=new Set;#o=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(e){Ke=[],We=null,this.apply();var t=[],n=[];for(let r of e)this.#s(r,t,n);this.is_fork||this.#l(),this.is_deferred()?(this.#c(n),this.#c(t)):(We=this,F=null,tt(n),tt(t),We=null,this.#i?.resolve()),Ge=null}#s(e,t,n){e.f^=v;for(var r=e.first,i=null;r!==null;){var a=r.f,o=(a&96)!=0;if(!(o&&a&1024||a&8192||this.skipped_effects.has(r))&&r.fn!==null){o?r.f^=v:i!==null&&a&16777228?i.b.defer_effect(r):a&4?t.push(r):Nn(r)&&(a&16&&this.#a.add(r),Rn(r));var s=r.first;if(s!==null){r=s;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===i&&(i=null),r=c.next,c=c.parent}}#c(e){for(var t=0;t<e.length;t+=1)He(e[t],this.#a,this.#o)}capture(e,t){t!==k&&!this.previous.has(e)&&this.previous.set(e,t),e.f&8388608||(this.current.set(e,e.v),Ge?.set(e,e.v))}activate(){F=this,this.apply()}deactivate(){F===this&&(F=null,Ge=null)}flush(){if(this.activate(),Ke.length>0){if(Qe(),F!==null&&F!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(let e of this.#t)e(this);this.#t.clear()}#l(){if(this.#r===0){for(let e of this.#e)e();this.#e.clear()}this.#n===0&&this.#u()}#u(){if(Ue.size>1){this.previous.clear();var e=Ge,t=!0;for(let e of Ue){if(e===this){t=!1;continue}let r=[];for(let[n,i]of this.current){if(e.current.has(n))if(t&&i!==e.current.get(n))e.current.set(n,i);else continue;r.push(n)}if(r.length===0)continue;let i=[...e.current.keys()].filter(e=>!this.current.has(e));if(i.length>0){var n=Ke;Ke=[];let t=new Set,a=new Map;for(let e of r)nt(e,i,t,a);if(Ke.length>0){F=e,e.apply();for(let t of Ke)e.#s(t,[],[]);e.deactivate()}Ke=n}}F=null,Ge=e}this.committed=!0,Ue.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){--this.#n,e&&--this.#r,this.revive()}revive(){for(let e of this.#a)this.#o.delete(e),P(e,y),it(e);for(let e of this.#o)P(e,b),it(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#i??=g()).promise}static ensure(){if(F===null){let t=F=new e;Ue.add(F),Ye||e.enqueue(()=>{F===t&&t.flush()})}return F}static enqueue(e){Fe(e)}apply(){}};function Ze(e){var t=Ye;Ye=!0;try{var n;for(e&&(F!==null&&Qe(),n=e());;){if(Ie(),Ke.length===0&&(F?.flush(),Ke.length===0))return qe=null,n;Qe()}}finally{Ye=t}}function Qe(){var e=_n;Je=!0;try{var t=0;for(vn(!0);Ke.length>0;){var n=Xe.ensure();t++>1e3&&$e(),n.process(Ke),bt.clear()}}finally{Je=!1,vn(e),qe=null}}function $e(){try{ue()}catch(e){Re(e,qe)}}let et=null;function tt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&24576)&&Nn(r)&&(et=new Set,Rn(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?dn(r):r.fn=null),et?.size>0)){bt.clear();for(let e of et){if(e.f&24576)continue;let t=[e],n=e.parent;for(;n!==null;)et.has(n)&&(et.delete(n),t.push(n)),n=n.parent;for(let e=t.length-1;e>=0;e--){let n=t[e];n.f&24576||Rn(n)}}et.clear()}}et=null}}function nt(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let i of e.reactions){let e=i.f;e&2?nt(i,t,n,r):e&4194320&&!(e&2048)&&rt(i,t,r)&&(P(i,y),it(i))}}function rt(e,t,n){let r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(let r of e.deps){if(t.includes(r))return!0;if(r.f&2&&rt(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function it(e){for(var t=qe=e;t.parent!==null;){t=t.parent;var n=t.f;if(Je&&t===W&&n&16&&!(n&262144))return;if(n&96){if(!(n&1024))return;t.f^=v}}Ke.push(t)}function at(e){let t=0,n=St(0),r;return()=>{qt()&&(K(n),tn(()=>(t===0&&(r=Hn(()=>e(()=>Et(n)))),t+=1,()=>{Fe(()=>{--t,t===0&&(r?.(),r=void 0,Et(n))})})))}}var ot=C|65664;function st(e,t,n){new ct(e,t,n)}var ct=class{parent;is_pending=!1;#e;#t=A?j:null;#n;#r;#i;#a=null;#o=null;#s=null;#c=null;#l=null;#u=0;#d=0;#f=!1;#p=new Set;#m=new Set;#h=null;#g=at(()=>(this.#h=St(this.#u),()=>{this.#h=null}));constructor(e,t,n){this.#e=e,this.#n=t,this.#r=n,this.parent=W.b,this.is_pending=!!this.#n.pending,this.#i=rn(()=>{if(W.b=this,A){let e=this.#t;be(),e.nodeType===8&&e.data===`[!`?this.#v():(this.#_(),this.#d===0&&(this.is_pending=!1))}else{var e=this.#y();try{this.#a=on(()=>n(e))}catch(e){this.error(e)}this.#d>0?this.#x():this.is_pending=!1}return()=>{this.#l?.remove()}},ot),A&&(this.#e=j)}#_(){try{this.#a=on(()=>this.#r(this.#e))}catch(e){this.error(e)}}#v(){let e=this.#n.pending;e&&(this.#o=on(()=>e(this.#e)),Xe.enqueue(()=>{var e=this.#y();this.#a=this.#b(()=>(Xe.ensure(),on(()=>this.#r(e)))),this.#d>0?this.#x():(fn(this.#o,()=>{this.#o=null}),this.is_pending=!1)}))}#y(){var e=this.#e;return this.is_pending&&(this.#l=Pt(),this.#e.before(this.#l),e=this.#l),e}defer_effect(e){He(e,this.#p,this.#m)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#b(e){var t=W,n=H,r=N;Sn(this.#i),U(this.#i),ke(this.#i.ctx);try{return e()}catch(e){return Le(e),null}finally{Sn(t),U(n),ke(r)}}#x(){let e=this.#n.pending;this.#a!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#l),gn(this.#a,this.#c)),this.#o===null&&(this.#o=on(()=>e(this.#e)))}#S(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#S(e);return}if(this.#d+=e,this.#d===0){this.is_pending=!1;for(let e of this.#p)P(e,y),it(e);for(let e of this.#m)P(e,b),it(e);this.#p.clear(),this.#m.clear(),this.#o&&fn(this.#o,()=>{this.#o=null}),this.#c&&=(this.#e.before(this.#c),null)}}update_pending_count(e){this.#S(e),this.#u+=e,this.#h&&wt(this.#h,this.#u)}get_effect_pending(){return this.#g(),K(this.#h)}error(e){var t=this.#n.onerror;let n=this.#n.failed;if(this.#f||!t&&!n)throw e;this.#a&&=(V(this.#a),null),this.#o&&=(V(this.#o),null),this.#s&&=(V(this.#s),null),A&&(ye(this.#t),xe(),ye(Se()));var r=!1,i=!1;let a=()=>{if(r){_e();return}r=!0,i&&me(),Xe.ensure(),this.#u=0,this.#s!==null&&fn(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#a=this.#b(()=>(this.#f=!1,on(()=>this.#r(this.#e)))),this.#d>0?this.#x():this.is_pending=!1};var o=H;try{U(null),i=!0,t?.(e,a),i=!1}catch(e){Re(e,this.#i&&this.#i.parent)}finally{U(o)}n&&Fe(()=>{this.#s=this.#b(()=>{Xe.ensure(),this.#f=!0;try{return on(()=>{n(this.#e,()=>e,()=>a)})}catch(e){return Re(e,this.#i.parent),null}finally{this.#f=!1}})})}};function lt(e,t,n,r){let i=Me()?ft:mt;if(n.length===0&&e.length===0){r(t.map(i));return}var a=F,o=W,s=ut();function c(){Promise.all(n.map(e=>pt(e))).then(e=>{s();try{r([...t.map(i),...e])}catch(e){o.f&16384||Re(e,o)}a?.deactivate(),dt()}).catch(e=>{Re(e,o)})}e.length>0?Promise.all(e).then(()=>{s();try{return c()}finally{a?.deactivate(),dt()}}):c()}function ut(){var e=W,t=H,n=N,r=F;return function(i=!0){Sn(e),U(t),ke(n),i&&r?.activate()}}function dt(){Sn(null),U(null),ke(null)}function ft(e){var t=2|y,n=H!==null&&H.f&2?H:null;return W!==null&&(W.f|=C),{ctx:N,deps:null,effects:null,equals:we,f:t,fn:e,reactions:null,rv:0,v:k,wv:0,parent:n??W,ac:null}}function pt(e,t,n){let r=W;r===null&&oe();var i=r.b,a=void 0,o=St(k),s=!H,c=new Map;return en(()=>{var t=g();a=t.promise;try{Promise.resolve(e()).then(t.resolve,t.reject).then(()=>{n===F&&n.committed&&n.deactivate(),dt()})}catch(e){t.reject(e),dt()}var n=F;if(s){var r=i.is_rendered();i.update_pending_count(1),n.increment(r),c.get(n)?.reject(ie),c.delete(n),c.set(n,t)}let l=(e,t=void 0)=>{if(n.activate(),t)t!==ie&&(o.f|=D,wt(o,t));else{o.f&8388608&&(o.f^=D),wt(o,e);for(let[e,t]of c){if(c.delete(e),e===n)break;t.reject(ie)}}s&&(i.update_pending_count(-1),n.decrement(r))};t.promise.then(l,e=>l(null,e||`unknown`))}),Jt(()=>{for(let e of c.values())e.reject(ie)}),new Promise(e=>{function t(n){function r(){n===a?e(o):t(a)}n.then(r,r)}t(a)})}function I(e){let t=ft(e);return wn(t),t}function mt(e){let t=ft(e);return t.equals=Ee,t}function ht(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)V(t[n])}}function gt(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t.f&16384?null:t;t=t.parent}return null}function _t(e){var t,n=W;Sn(gt(e));try{e.f&=~T,ht(e),t=Fn(e)}finally{Sn(n)}return t}function vt(e){var t=_t(e);if(!e.equals(t)&&(e.wv=Mn(),(!F?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){P(e,v);return}yn||(Ge===null?Be(e):(qt()||F?.is_fork)&&Ge.set(e,t))}let yt=new Set;const bt=new Map;var xt=!1;function St(e,t){return{f:0,v:e,reactions:null,equals:we,rv:0,wv:0}}function L(e,t){let n=St(e,t);return wn(n),n}function Ct(e,t=!1,n=!0){let r=St(e);return t||(r.equals=Ee),De&&n&&N!==null&&N.l!==null&&(N.l.s??=[]).push(r),r}function R(e,t,n=!1){return H!==null&&(!xn||H.f&131072)&&Me()&&H.f&4325394&&!Cn?.includes(e)&&pe(),wt(e,n?Ot(t):t)}function wt(e,t){if(!e.equals(t)){var n=e.v;yn?bt.set(e,t):bt.set(e,n),e.v=t;var r=Xe.ensure();if(r.capture(e,n),e.f&2){let t=e;e.f&2048&&_t(t),Be(t)}e.wv=Mn(),Dt(e,y),Me()&&W!==null&&W.f&1024&&!(W.f&96)&&(En===null?Dn([e]):En.push(e)),!r.is_fork&&yt.size>0&&!xt&&Tt()}return t}function Tt(){xt=!1;var e=_n;vn(!0);let t=Array.from(yt);try{for(let e of t)e.f&1024&&P(e,b),Nn(e)&&Rn(e)}finally{vn(e)}yt.clear()}function Et(e){R(e,e.v+1)}function Dt(e,t){var n=e.reactions;if(n!==null)for(var r=Me(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;if(!(!r&&o===W)){var c=(s&y)===0;if(c&&P(o,t),s&2){var l=o;Ge?.delete(l),s&32768||(s&512&&(o.f|=T),Dt(l,b))}else c&&(s&16&&et!==null&&et.add(o),it(o))}}}function Ot(e){if(typeof e!=`object`||!e||te in e)return e;let t=u(e);if(t!==c&&t!==l)return e;var r=new Map,i=n(e),a=L(0),s=null,d=An,f=e=>{if(An===d)return e();var t=H,n=An;U(null),jn(d);var r=e();return U(t),jn(n),r};return i&&r.set(`length`,L(e.length,s)),new Proxy(e,{defineProperty(e,t,n){(!(`value`in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&O();var i=r.get(t);return i===void 0?i=f(()=>{var e=L(n.value,s);return r.set(t,e),e}):R(i,n.value,!0),!0},deleteProperty(e,t){var n=r.get(t);if(n===void 0){if(t in e){let e=f(()=>L(k,s));r.set(t,e),Et(a)}}else R(n,k),Et(a);return!0},get(t,n,i){if(n===te)return e;var a=r.get(n),c=n in t;if(a===void 0&&(!c||o(t,n)?.writable)&&(a=f(()=>L(Ot(c?t[n]:k),s)),r.set(n,a)),a!==void 0){var l=K(a);return l===k?void 0:l}return Reflect.get(t,n,i)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&`value`in n){var i=r.get(t);i&&(n.value=K(i))}else if(n===void 0){var a=r.get(t),o=a?.v;if(a!==void 0&&o!==k)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return n},has(e,t){if(t===te)return!0;var n=r.get(t),i=n!==void 0&&n.v!==k||Reflect.has(e,t);return(n!==void 0||W!==null&&(!i||o(e,t)?.writable))&&(n===void 0&&(n=f(()=>L(i?Ot(e[t]):k,s)),r.set(t,n)),K(n)===k)?!1:i},set(e,t,n,c){var l=r.get(t),u=t in e;if(i&&t===`length`)for(var d=n;d<l.v;d+=1){var p=r.get(d+``);p===void 0?d in e&&(p=f(()=>L(k,s)),r.set(d+``,p)):R(p,k)}if(l===void 0)(!u||o(e,t)?.writable)&&(l=f(()=>L(void 0,s)),R(l,Ot(n)),r.set(t,l));else{u=l.v!==k;var m=f(()=>Ot(n));R(l,m)}var h=Reflect.getOwnPropertyDescriptor(e,t);if(h?.set&&h.set.call(c,n),!u){if(i&&typeof t==`string`){var g=r.get(`length`),_=Number(t);Number.isInteger(_)&&_>=g.v&&R(g,_+1)}Et(a)}return!0},ownKeys(e){K(a);var t=Reflect.ownKeys(e).filter(e=>{var t=r.get(e);return t===void 0||t.v!==k});for(var[n,i]of r)i.v!==k&&!(n in e)&&t.push(n);return t},setPrototypeOf(){fe()}})}var kt,At,jt,Mt;function Nt(){if(kt===void 0){kt=window,document,At=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;jt=o(t,`firstChild`).get,Mt=o(t,`nextSibling`).get,d(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),d(n)&&(n.__t=void 0)}}function Pt(e=``){return document.createTextNode(e)}function Ft(e){return jt.call(e)}function It(e){return Mt.call(e)}function z(e,t){if(!A)return Ft(e);var n=Ft(j);if(n===null)n=j.appendChild(Pt());else if(t&&n.nodeType!==3){var r=Pt();return n?.before(r),ye(r),r}return ye(n),n}function Lt(e,t=!1){if(!A){var n=Ft(e);return n instanceof Comment&&n.data===``?It(n):n}if(t&&j?.nodeType!==3){var r=Pt();return j?.before(r),ye(r),r}return j}function B(e,t=1,n=!1){let r=A?j:e;for(var i;t--;)i=r,r=It(r);if(!A)return r;if(n&&r?.nodeType!==3){var a=Pt();return r===null?i?.after(a):r.before(a),ye(a),a}return ye(r),r}function Rt(e){e.textContent=``}function zt(){return!1}var Bt=!1;function Vt(){Bt||(Bt=!0,document.addEventListener(`reset`,e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ht(e){var t=H,n=W;U(null),Sn(null);try{return e()}finally{U(t),Sn(n)}}function Ut(e,t,n,r=n){e.addEventListener(t,()=>Ht(n));let i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Vt()}function Wt(e){W===null&&(H===null&&le(e),ce()),yn&&se(e)}function Gt(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Kt(e,t,n){var r=W;r!==null&&r.f&8192&&(e|=x);var i={ctx:N,deps:null,nodes:null,f:e|2560,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Rn(i),i.f|=32768}catch(e){throw V(i),e}else t!==null&&it(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&!(a.f&524288)&&(a=a.first,e&16&&e&65536&&a!==null&&(a.f|=S)),a!==null&&(a.parent=r,r!==null&&Gt(a,r),H!==null&&H.f&2&&!(e&64))){var o=H;(o.effects??=[]).push(a)}return i}function qt(){return H!==null&&!xn}function Jt(e){let t=Kt(8,null,!1);return P(t,v),t.teardown=e,t}function Yt(e){Wt(`$effect`);var t=W.f;if(!H&&t&32&&!(t&32768)){var n=N;(n.e??=[]).push(e)}else return Xt(e)}function Xt(e){return Kt(4|w,e,!1)}function Zt(e){return Wt(`$effect.pre`),Kt(8|w,e,!0)}function Qt(e){Xe.ensure();let t=Kt(64|C,e,!0);return(e={})=>new Promise(n=>{e.outro?fn(t,()=>{V(t),n(void 0)}):(V(t),n(void 0))})}function $t(e){return Kt(4,e,!1)}function en(e){return Kt(4194304|C,e,!0)}function tn(e,t=0){return Kt(8|t,e,!0)}function nn(e,t=[],n=[],r=[]){lt(r,t,n,t=>{Kt(8,()=>e(...t.map(K)),!0)})}function rn(e,t=0){return Kt(16|t,e,!0)}function an(e,t=0){return Kt(16777216|t,e,!0)}function on(e){return Kt(32|C,e,!0)}function sn(e){var t=e.teardown;if(t!==null){let e=yn,n=H;bn(!0),U(null);try{t.call(null)}finally{bn(e),U(n)}}}function cn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let e=n.ac;e!==null&&Ht(()=>{e.abort(ie)});var r=n.next;n.f&64?n.parent=null:V(n,t),n=r}}function ln(e){for(var t=e.first;t!==null;){var n=t.next;t.f&32||V(t),t=n}}function V(e,t=!0){var n=!1;(t||e.f&262144)&&e.nodes!==null&&e.nodes.end!==null&&(un(e.nodes.start,e.nodes.end),n=!0),cn(e,t&&!n),Ln(e,0),P(e,16384);var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)e.stop();sn(e);var i=e.parent;i!==null&&i.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function un(e,t){for(;e!==null;){var n=e===t?null:It(e);e.remove(),e=n}}function dn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function fn(e,t,n=!0){var r=[];pn(e,r,!0);var i=()=>{n&&V(e),t&&t()},a=r.length;if(a>0){var o=()=>--a||i();for(var s of r)s.out(o)}else i()}function pn(e,t,n){if(!(e.f&8192)){e.f^=x;var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)(e.is_global||n)&&t.push(e);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&65536)!=0||(i.f&32)!=0&&(e.f&16)!=0;pn(i,t,o?n:!1),i=a}}}function mn(e){hn(e,!0)}function hn(e,t){if(e.f&8192){e.f^=x,e.f&1024||(P(e,y),it(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&65536)!=0||(n.f&32)!=0;hn(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(let e of a)(e.is_global||t)&&e.in()}}function gn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:It(n);t.append(n),n=i}}let _n=!1;function vn(e){_n=e}let yn=!1;function bn(e){yn=e}let H=null,xn=!1;function U(e){H=e}let W=null;function Sn(e){W=e}let Cn=null;function wn(e){H!==null&&(Cn===null?Cn=[e]:Cn.push(e))}var G=null,Tn=0;let En=null;function Dn(e){En=e}let On=1;var kn=0;let An=kn;function jn(e){An=e}function Mn(){return++On}function Nn(e){var t=e.f;if(t&2048)return!0;if(t&2&&(e.f&=~T),t&4096){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(Nn(a)&&vt(a),a.wv>e.wv)return!0}t&512&&Ge===null&&P(e,v)}return!1}function Pn(e,t,n=!0){var r=e.reactions;if(r!==null&&!Cn?.includes(e))for(var i=0;i<r.length;i++){var a=r[i];a.f&2?Pn(a,t,!1):t===a&&(n?P(a,y):a.f&1024&&P(a,b),it(a))}}function Fn(e){var t=G,n=Tn,r=En,i=H,a=Cn,o=N,s=xn,c=An,l=e.f;G=null,Tn=0,En=null,H=l&96?null:e,Cn=null,ke(e.ctx),xn=!1,An=++kn,e.ac!==null&&(Ht(()=>{e.ac.abort(ie)}),e.ac=null);try{e.f|=E;var u=e.fn,d=u(),f=e.deps;if(G!==null){var p;if(Ln(e,Tn),f!==null&&Tn>0)for(f.length=Tn+G.length,p=0;p<G.length;p++)f[Tn+p]=G[p];else e.deps=f=G;if(qt()&&e.f&512)for(p=Tn;p<f.length;p++)(f[p].reactions??=[]).push(e)}else f!==null&&Tn<f.length&&(Ln(e,Tn),f.length=Tn);if(Me()&&En!==null&&!xn&&f!==null&&!(e.f&6146))for(p=0;p<En.length;p++)Pn(En[p],e);if(i!==null&&i!==e){if(kn++,i.deps!==null)for(let e=0;e<n;e+=1)i.deps[e].rv=kn;if(t!==null)for(let e of t)e.rv=kn;En!==null&&(r===null?r=En:r.push(...En))}return e.f&8388608&&(e.f^=D),d}catch(e){return Le(e)}finally{e.f^=E,G=t,Tn=n,En=r,H=i,Cn=a,ke(o),xn=s,An=c}}function In(e,t){let n=t.reactions;if(n!==null){var i=r.call(n,e);if(i!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[i]=n[a],n.pop())}}if(n===null&&t.f&2&&(G===null||!G.includes(t))){var o=t;o.f&512&&(o.f^=512,o.f&=~T),Be(o),ht(o),Ln(o,0)}}function Ln(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)In(e,n[r])}function Rn(e){var t=e.f;if(!(t&16384)){P(e,v);var n=W,r=_n;W=e,_n=!0;try{t&16777232?ln(e):cn(e),sn(e);var i=Fn(e);e.teardown=typeof i==`function`?i:null,e.wv=On}finally{_n=r,W=n}}}async function zn(){await Promise.resolve(),Ze()}function K(e){var t=(e.f&2)!=0;if(null?.add(e),H!==null&&!xn&&!(W!==null&&W.f&16384)&&!Cn?.includes(e)){var n=H.deps;if(H.f&2097152)e.rv<kn&&(e.rv=kn,G===null&&n!==null&&n[Tn]===e?Tn++:G===null?G=[e]:G.push(e));else{(H.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[H]:r.includes(H)||r.push(H)}}if(yn&&bt.has(e))return bt.get(e);if(t){var i=e;if(yn){var a=i.v;return(!(i.f&1024)&&i.reactions!==null||Vn(i))&&(a=_t(i)),bt.set(i,a),a}var o=(i.f&512)==0&&!xn&&H!==null&&(_n||(H.f&512)!=0),s=i.deps===null;Nn(i)&&(o&&(i.f|=512),vt(i)),o&&!s&&Bn(i)}if(Ge?.has(e))return Ge.get(e);if(e.f&8388608)throw e.v;return e.v}function Bn(e){if(e.deps!==null){e.f|=512;for(let t of e.deps)(t.reactions??=[]).push(e),t.f&2&&!(t.f&512)&&Bn(t)}}function Vn(e){if(e.v===k)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(bt.has(t)||t.f&2&&Vn(t))return!0;return!1}function Hn(e){var t=xn;try{return xn=!0,e()}finally{xn=t}}function Un(e){if(!(typeof e!=`object`||!e||e instanceof EventTarget)){if(te in e)Wn(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n==`object`&&n&&te in n&&Wn(n)}}}function Wn(e,t=new Set){if(typeof e==`object`&&e&&!(e instanceof EventTarget)&&!t.has(e)){for(let n in t.add(e),e instanceof Date&&e.getTime(),e)try{Wn(e[n],t)}catch{}let n=u(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let t=s(n);for(let n in t){let r=t[n].get;if(r)try{r.call(e)}catch{}}}}}[...`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`)];var Gn=[`touchstart`,`touchmove`];function Kn(e){return Gn.includes(e)}const qn=new Set,Jn=new Set;function Yn(e,t,n,r={}){function i(e){if(r.capture||$n.call(t,e),!e.cancelBubble)return Ht(()=>n?.call(this,e))}return e.startsWith(`pointer`)||e.startsWith(`touch`)||e===`wheel`?Fe(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Xn(e,t,n,r,i){var a={capture:r,passive:i},o=Yn(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Jt(()=>{t.removeEventListener(e,o,a)})}function Zn(e){for(var t=0;t<e.length;t++)qn.add(e[t]);for(var n of Jn)n(e)}var Qn=null;function $n(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],o=i[0]||e.target;Qn=e;var s=0,c=Qn===e&&e.__root;if(c){var l=i.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;l<=u&&(s=l)}if(o=i[s]||e.target,o!==t){a(e,`currentTarget`,{configurable:!0,get(){return o||n}});var d=H,f=W;U(null),Sn(null);try{for(var p,m=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var g=o[`__`+r];g!=null&&(!o.disabled||e.target===o)&&g.call(o,e)}catch(e){p?m.push(e):p=e}if(e.cancelBubble||h===t||h===null)break;o=h}if(p){for(let e of m)queueMicrotask(()=>{throw e});throw p}}finally{e.__root=t,delete e.currentTarget,U(d),Sn(f)}}}function er(e){var t=document.createElement(`template`);return t.innerHTML=e.replaceAll(`<!>`,`<!---->`),t.content}function tr(e,t){var n=W;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function q(e,t){var n=(t&1)!=0,r=(t&2)!=0,i,a=!e.startsWith(`<!>`);return()=>{if(A)return tr(j,null),j;i===void 0&&(i=er(a?e:`<!>`+e),n||(i=Ft(i)));var t=r||At?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Ft(t),s=t.lastChild;tr(o,s)}else tr(t,t);return t}}function nr(){if(A)return tr(j,null),j;var e=document.createDocumentFragment(),t=document.createComment(``),n=Pt();return e.append(t,n),tr(t,n),e}function J(e,t){if(A){var n=W;(!(n.f&32768)||n.nodes.end===null)&&(n.nodes.end=j),be();return}e!==null&&e.before(t)}let rr=!0;function Y(e,t){var n=t==null?``:typeof t==`object`?t+``:t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+``)}function ir(e,t){return or(e,t)}var ar=new Map;function or(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Nt();var c=new Set,l=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!c.has(r)){c.add(r);var i=Kn(r);t.addEventListener(r,$n,{passive:i});var a=ar.get(r);a===void 0?(document.addEventListener(r,$n,{passive:i}),ar.set(r,1)):ar.set(r,a+1)}}};l(i(qn)),Jn.add(l);var u=void 0,d=Qt(()=>{var i=n??t.appendChild(Pt());return st(i,{pending:()=>{}},t=>{if(o){Ae({});var n=N;n.c=o}if(a&&(r.$$events=a),A&&tr(t,null),rr=s,u=e(t,r)||{},rr=!0,A&&(W.nodes.end=j,j===null||j.nodeType!==8||j.data!==`]`))throw ge(),he;o&&je()}),()=>{for(var e of c){t.removeEventListener(e,$n);var r=ar.get(e);--r===0?(document.removeEventListener(e,$n),ar.delete(e)):ar.set(e,r)}Jn.delete(l),i!==n&&i.parentNode?.removeChild(i)}});return sr.set(u,d),u}var sr=new WeakMap;function cr(e,t){let n=sr.get(e);return n?(sr.delete(e),n(t)):Promise.resolve()}var lr=class{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#i=!0;constructor(e,t=!0){this.anchor=e,this.#i=t}#a=()=>{var e=F;if(this.#e.has(e)){var t=this.#e.get(e),n=this.#t.get(t);if(n)mn(n),this.#r.delete(t);else{var r=this.#n.get(t);r&&(this.#t.set(t,r.effect),this.#n.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(let[t,n]of this.#e){if(this.#e.delete(t),t===e)break;let r=this.#n.get(n);r&&(V(r.effect),this.#n.delete(n))}for(let[e,r]of this.#t){if(e===t||this.#r.has(e))continue;let i=()=>{if(Array.from(this.#e.values()).includes(e)){var t=document.createDocumentFragment();gn(r,t),t.append(Pt()),this.#n.set(e,{effect:r,fragment:t})}else V(r);this.#r.delete(e),this.#t.delete(e)};this.#i||!n?(this.#r.add(e),fn(r,i,!1)):i()}}};#o=e=>{this.#e.delete(e);let t=Array.from(this.#e.values());for(let[e,n]of this.#n)t.includes(e)||(V(n.effect),this.#n.delete(e))};ensure(e,t){var n=F,r=zt();if(t&&!this.#t.has(e)&&!this.#n.has(e))if(r){var i=document.createDocumentFragment(),a=Pt();i.append(a),this.#n.set(e,{effect:on(()=>t(a)),fragment:i})}else this.#t.set(e,on(()=>t(this.anchor)));if(this.#e.set(n,e),r){for(let[t,r]of this.#t)t===e?n.skipped_effects.delete(r):n.skipped_effects.add(r);for(let[t,r]of this.#n)t===e?n.skipped_effects.delete(r.effect):n.skipped_effects.add(r.effect);n.oncommit(this.#a),n.ondiscard(this.#o)}else A&&(this.anchor=j),this.#a()}};function ur(e,t,n=!1){A&&be();var r=new lr(e),i=n?S:0;function a(t,n){if(A&&t===(Ce(e)===`[!`)){var i=Se();ye(i),r.anchor=i,ve(!1),r.ensure(t,n),ve(!0);return}r.ensure(t,n)}rn(()=>{var e=!1;t((t,n=!0)=>{e=!0,a(n,t)}),e||a(!1,null)},i)}function dr(e,t){return t}function fr(e,t,n){for(var r=[],a=t.length,o,s=t.length,c=0;c<a;c++){let n=t[c];fn(n,()=>{if(o){if(o.pending.delete(n),o.done.add(n),o.pending.size===0){var t=e.outrogroups;pr(i(o.done)),t.delete(o),t.size===0&&(e.outrogroups=null)}}else --s},!1)}if(s===0){var l=r.length===0&&n!==null;if(l){var u=n,d=u.parentNode;Rt(d),d.append(u),e.items.clear()}pr(t,!l)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function pr(e,t=!0){for(var n=0;n<e.length;n++)V(e[n],t)}var mr;function hr(e,t,r,a,o,s=null){var c=e,l=new Map;if(t&4){var u=e;c=A?ye(Ft(u)):u.appendChild(Pt())}A&&be();var d=null,f=mt(()=>{var e=r();return n(e)?e:e==null?[]:i(e)}),p,m=!0;function h(){g.fallback=d,gr(g,p,c,t,a),d!==null&&(p.length===0?d.f&33554432?(d.f^=ee,vr(d,null,c)):mn(d):fn(d,()=>{d=null}))}var g={effect:rn(()=>{p=K(f);var e=p.length;let n=!1;A&&Ce(c)===`[!`!=(e===0)&&(c=Se(),ye(c),ve(!1),n=!0);for(var i=new Set,u=F,g=zt(),_=0;_<e;_+=1){A&&j.nodeType===8&&j.data===`]`&&(c=j,n=!0,ve(!1));var v=p[_],y=a(v,_),b=m?null:l.get(y);b?(b.v&&wt(b.v,v),b.i&&wt(b.i,_),g&&u.skipped_effects.delete(b.e)):(b=_r(l,m?c:mr??=Pt(),v,y,_,o,t,r),m||(b.e.f|=ee),l.set(y,b)),i.add(y)}if(e===0&&s&&!d&&(m?d=on(()=>s(c)):(d=on(()=>s(mr??=Pt())),d.f|=ee)),A&&e>0&&ye(Se()),!m)if(g){for(let[e,t]of l)i.has(e)||u.skipped_effects.add(t.e);u.oncommit(h),u.ondiscard(()=>{})}else h();n&&ve(!0),K(f)}),flags:t,items:l,outrogroups:null,fallback:d};m=!1,A&&(c=j)}function gr(e,t,n,r,a){var o=(r&8)!=0,s=t.length,c=e.items,l=e.effect.first,u,d=null,f,p=[],m=[],h,g,_,v;if(o)for(v=0;v<s;v+=1)h=t[v],g=a(h,v),_=c.get(g).e,_.f&33554432||(_.nodes?.a?.measure(),(f??=new Set).add(_));for(v=0;v<s;v+=1){if(h=t[v],g=a(h,v),_=c.get(g).e,e.outrogroups!==null)for(let t of e.outrogroups)t.pending.delete(_),t.done.delete(_);if(_.f&33554432)if(_.f^=ee,_===l)vr(_,null,n);else{var y=d?d.next:l;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),yr(e,d,_),yr(e,_,y),vr(_,y,n),d=_,p=[],m=[],l=d.next;continue}if(_.f&8192&&(mn(_),o&&(_.nodes?.a?.unfix(),(f??=new Set).delete(_))),_!==l){if(u!==void 0&&u.has(_)){if(p.length<m.length){var b=m[0],x;d=b.prev;var S=p[0],C=p[p.length-1];for(x=0;x<p.length;x+=1)vr(p[x],b,n);for(x=0;x<m.length;x+=1)u.delete(m[x]);yr(e,S.prev,C.next),yr(e,d,S),yr(e,C,b),l=b,d=C,--v,p=[],m=[]}else u.delete(_),vr(_,l,n),yr(e,_.prev,_.next),yr(e,_,d===null?e.effect.first:d.next),yr(e,d,_),d=_;continue}for(p=[],m=[];l!==null&&l!==_;)(u??=new Set).add(l),m.push(l),l=l.next;if(l===null)continue}_.f&33554432||p.push(_),d=_,l=_.next}if(e.outrogroups!==null){for(let t of e.outrogroups)t.pending.size===0&&(pr(i(t.done)),e.outrogroups?.delete(t));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var w=[];if(u!==void 0)for(_ of u)_.f&8192||w.push(_);for(;l!==null;)!(l.f&8192)&&l!==e.fallback&&w.push(l),l=l.next;var T=w.length;if(T>0){var E=r&4&&s===0?n:null;if(o){for(v=0;v<T;v+=1)w[v].nodes?.a?.measure();for(v=0;v<T;v+=1)w[v].nodes?.a?.fix()}fr(e,w,E)}}o&&Fe(()=>{if(f!==void 0)for(_ of f)_.nodes?.a?.apply()})}function _r(e,t,n,r,i,a,o,s){var c=o&1?o&16?St(n):Ct(n,!1,!1):null,l=o&2?St(i):null;return{v:c,i:l,e:on(()=>(a(t,c??n,l??i,s),()=>{e.delete(r)}))}}function vr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&!(t.f&33554432)?t.nodes.start:n;r!==null;){var o=It(r);if(a.before(r),r===i)return;r=o}}function yr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function br(e,t,...n){var r=new lr(e);rn(()=>{let e=t()??null;r.ensure(e,e&&(t=>e(t,...n)))},S)}var xr=()=>performance.now();const Sr={tick:e=>requestAnimationFrame(e),now:()=>xr(),tasks:new Set};function Cr(){let e=Sr.now();Sr.tasks.forEach(t=>{t.c(e)||(Sr.tasks.delete(t),t.f())}),Sr.tasks.size!==0&&Sr.tick(Cr)}function wr(e){let t;return Sr.tasks.size===0&&Sr.tick(Cr),{promise:new Promise(n=>{Sr.tasks.add(t={c:e,f:n})}),abort(){Sr.tasks.delete(t)}}}function Tr(e,t){Ht(()=>{e.dispatchEvent(new CustomEvent(t))})}function Er(e){if(e===`float`)return`cssFloat`;if(e===`offset`)return`cssOffset`;if(e.startsWith(`--`))return e;let t=e.split(`-`);return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join(``)}function Dr(e){let t={},n=e.split(`;`);for(let e of n){let[n,r]=e.split(`:`);if(!n||r===void 0)break;let i=Er(n.trim());t[i]=r.trim()}return t}var Or=e=>e;function kr(e,t,n,r){var i=(e&1)!=0,a=(e&2)!=0,o=i&&a,s=(e&4)!=0,c=o?`both`:i?`in`:`out`,l,u=t.inert,d=t.style.overflow,f,p;function m(){return Ht(()=>l??=n()(t,r?.()??{},{direction:c}))}var h={is_global:s,in(){if(t.inert=u,!i){p?.abort(),p?.reset?.();return}a||f?.abort(),Tr(t,`introstart`),f=Ar(t,m(),p,1,()=>{Tr(t,`introend`),f?.abort(),f=l=void 0,t.style.overflow=d})},out(e){if(!a){e?.(),l=void 0;return}t.inert=!0,Tr(t,`outrostart`),p=Ar(t,m(),f,0,()=>{Tr(t,`outroend`),e?.()})},stop:()=>{f?.abort(),p?.abort()}},g=W;if((g.nodes.t??=[]).push(h),i&&rr){var _=s;if(!_){for(var v=g.parent;v&&v.f&65536;)for(;(v=v.parent)&&!(v.f&16););_=!v||(v.f&32768)!=0}_&&$t(()=>{Hn(()=>h.in())})}}function Ar(e,t,n,r,i){var a=r===1;if(f(t)){var o,s=!1;return Fe(()=>{s||(o=Ar(e,t({direction:a?`in`:`out`}),n,r,i))}),{abort:()=>{s=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return i(),{abort:p,deactivate:p,reset:p,t:()=>r};let{delay:c=0,css:l,tick:u,easing:d=Or}=t;var m=[];if(a&&n===void 0&&(u&&u(0,1),l)){var h=Dr(l(0,1));m.push(h,h)}var g=()=>1-r,_=e.animate(m,{duration:c,fill:`forwards`});return _.onfinish=()=>{_.cancel();var a=n?.t()??1-r;n?.abort();var o=r-a,s=t.duration*Math.abs(o),c=[];if(s>0){var f=!1;if(l)for(var p=Math.ceil(s/(1e3/60)),m=0;m<=p;m+=1){var h=a+o*d(m/p),v=Dr(l(h,1-h));c.push(v),f||=v.overflow===`hidden`}f&&(e.style.overflow=`hidden`),g=()=>{var e=_.currentTime;return a+o*d(e/s)},u&&wr(()=>{if(_.playState!==`running`)return!1;var e=g();return u(e,1-e),!0})}_=e.animate(c,{duration:s,fill:`forwards`}),_.onfinish=()=>{g=()=>r,u?.(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=p)},deactivate:()=>{i=p},reset:()=>{r===0&&u?.(1,0)},t:()=>g()}}function jr(e,t){var n=void 0,r;an(()=>{n!==(n=t())&&(r&&=(V(r),null),n&&(r=on(()=>{$t(()=>n(e))})))})}function Mr(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Mr(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Nr(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Mr(e))&&(r&&(r+=` `),r+=t);return r}function Pr(e){return typeof e==`object`?Nr(e):e??``}var Fr=[...` 	
\r\f\xA0\vï»¿`];function Ir(e,t,n){var r=e==null?``:``+e;if(t&&(r=r?r+` `+t:t),n){for(var i in n)if(n[i])r=r?r+` `+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var s=o+a;(o===0||Fr.includes(r[o-1]))&&(s===r.length||Fr.includes(r[s]))?r=(o===0?``:r.substring(0,o))+r.substring(s+1):o=s}}return r===``?null:r}function Lr(e,t=!1){var n=t?` !important;`:`;`,r=``;for(var i in e){var a=e[i];a!=null&&a!==``&&(r+=` `+i+`: `+a+n)}return r}function Rr(e){return e[0]!==`-`||e[1]!==`-`?e.toLowerCase():e}function zr(e,t){if(t){var n=``,r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var a=!1,o=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(Rr)),i&&c.push(...Object.keys(i).map(Rr));var l=0,u=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(s?f===`/`&&e[d-1]===`*`&&(s=!1):a?a===f&&(a=!1):f===`/`&&e[d+1]===`*`?s=!0:f===`"`||f===`'`?a=f:f===`(`?o++:f===`)`&&o--,!s&&a===!1&&o===0){if(f===`:`&&u===-1)u=d;else if(f===`;`||d===t-1){if(u!==-1){var p=Rr(e.substring(l,u).trim());if(!c.includes(p)){f!==`;`&&d++;var m=e.substring(l,d).trim();n+=` `+m+`;`}}l=d+1,u=-1}}}}return r&&(n+=Lr(r)),i&&(n+=Lr(i,!0)),n=n.trim(),n===``?null:n}return e==null?null:String(e)}function Br(e,t,n,r,i,a){var o=e.__className;if(A||o!==n||o===void 0){var s=Ir(n,r,a);(!A||s!==e.getAttribute(`class`))&&(s==null?e.removeAttribute(`class`):t?e.className=s:e.setAttribute(`class`,s)),e.__className=n}else if(a&&i!==a)for(var c in a){var l=!!a[c];(i==null||l!==!!i[c])&&e.classList.toggle(c,l)}return a}function Vr(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function Hr(e,t,n,r){var i=e.__style;if(A||i!==t){var a=zr(t,r);(!A||a!==e.getAttribute(`style`))&&(a==null?e.removeAttribute(`style`):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(Vr(e,n?.[0],r[0]),Vr(e,n?.[1],r[1],`important`)):Vr(e,n,r));return r}var Ur=Symbol(`is custom element`),Wr=Symbol(`is html`);function Gr(e){if(A){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute(`value`)){var n=e.value;X(e,`value`,null),e.value=n}if(e.hasAttribute(`checked`)){var r=e.checked;X(e,`checked`,null),e.checked=r}}};e.__on_r=n,Fe(n),Vt()}}function X(e,t,n,r){var i=Kr(e);A&&(i[t]=e.getAttribute(t),t===`src`||t===`srcset`||t===`href`&&e.nodeName===`LINK`)||i[t]!==(i[t]=n)&&(t===`loading`&&(e[re]=n),n==null?e.removeAttribute(t):typeof n!=`string`&&Jr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Kr(e){return e.__attributes??={[Ur]:e.nodeName.includes(`-`),[Wr]:e.namespaceURI===`http://www.w3.org/1999/xhtml`}}var qr=new Map;function Jr(e){var t=e.getAttribute(`is`)||e.nodeName,n=qr.get(t);if(n)return n;qr.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){for(var o in r=s(i),r)r[o].set&&n.push(o);i=u(i)}return n}function Yr(e,t,n=t){var r=new WeakSet;Ut(e,`input`,async i=>{var a=i?e.defaultValue:e.value;if(a=Xr(e)?Zr(a):a,n(a),F!==null&&r.add(F),await zn(),a!==(a=t())){var o=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=a??``,s!==null){var l=e.value.length;o===s&&s===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(s,l))}}}),(A&&e.defaultValue!==e.value||Hn(t)==null&&e.value)&&(n(Xr(e)?Zr(e.value):e.value),F!==null&&r.add(F)),tn(()=>{var n=t();if(e===document.activeElement){var i=We??F;if(r.has(i))return}Xr(e)&&n===Zr(e.value)||e.type===`date`&&!n&&!e.value||n!==e.value&&(e.value=n??``)})}function Xr(e){var t=e.type;return t===`number`||t===`range`}function Zr(e){return e===``?null:+e}function Qr(e,t,n){var r=o(e,t);r&&r.set&&(e[t]=n,Jt(()=>{e[t]=null}))}var $r=new class e{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,t){var n=this.#e.get(e)||new Set;return n.add(t),this.#e.set(e,n),this.#r().observe(e,this.#n),()=>{var n=this.#e.get(e);n.delete(t),n.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??=new ResizeObserver(t=>{for(var n of t){e.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}})}}({box:`border-box`});function ei(e,t,n){var r=$r.observe(e,()=>n(e[t]));$t(()=>(Hn(()=>n(e[t])),r))}function ti(e,t){return e===t||e?.[te]===t}function ni(e={},t,n,r){return $t(()=>{var i,a;return tn(()=>{i=a,a=r?.()||[],Hn(()=>{e!==n(...a)&&(t(e,...a),i&&ti(n(...i),e)&&t(null,...i))})}),()=>{Fe(()=>{a&&ti(n(...a),e)&&t(null,...a)})}}),e}function ri(e=!1){let t=N,n=t.l.u;if(!n)return;let r=()=>Un(t.s);if(e){let e=0,n={},i=ft(()=>{let r=!1,i=t.s;for(let e in i)i[e]!==n[e]&&(n[e]=i[e],r=!0);return r&&e++,e});r=()=>K(i)}n.b.length&&Zt(()=>{ii(t,r),h(n.b)}),Yt(()=>{let e=Hn(()=>n.m.map(m));return()=>{for(let t of e)typeof t==`function`&&t()}}),n.a.length&&Yt(()=>{ii(t,r),h(n.a)})}function ii(e,t){if(e.l.s)for(let t of e.l.s)K(t);t()}function ai(e,t,n){if(e==null)return t(void 0),n&&n(void 0),p;let r=Hn(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}var oi=[];function si(e,t=p){let n=null,r=new Set;function i(t){if(Te(e,t)&&(e=t,n)){let t=!oi.length;for(let t of r)t[1](),oi.push(t,e);if(t){for(let e=0;e<oi.length;e+=2)oi[e][0](oi[e+1]);oi.length=0}}}function a(t){i(t(e))}function o(o,s=p){let c=[o,s];return r.add(c),r.size===1&&(n=t(i,a)||p),o(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}function Z(e){let t;return ai(e,e=>t=e)(),t}var ci=!1;function li(e){var t=ci;try{return ci=!1,[e(),ci]}finally{ci=t}}function ui(e,t,n,r){var i=!De||(n&2)!=0,a=(n&8)!=0,s=(n&16)!=0,c=r,l=!0,u=()=>(l&&(l=!1,c=s?Hn(r):r),c),d;if(a){var f=te in e||ne in e;d=o(e,t)?.set??(f&&t in e?n=>e[t]=n:void 0)}var p,m=!1;a?[p,m]=li(()=>e[t]):p=e[t],p===void 0&&r!==void 0&&(p=u(),d&&(i&&de(t),d(p)));var h=i?()=>{var n=e[t];return n===void 0?u():(l=!0,n)}:()=>{var n=e[t];return n!==void 0&&(c=void 0),n===void 0?c:n};if(i&&!(n&4))return h;if(d){var g=e.$$legacy;return(function(e,t){return arguments.length>0?((!i||!t||g||m)&&d(t?h():e),e):h()})}var _=!1,v=(n&1?ft:mt)(()=>(_=!1,h()));a&&K(v);var y=W;return(function(e,t){if(arguments.length>0){let n=t?K(v):i&&a?Ot(e):e;return R(v,n),_=!0,c!==void 0&&(c=n),e}return yn&&_||y.f&16384?v.v:K(v)})}function di(e){N===null&&ae(`onMount`),De&&N.l!==null?fi(N).m.push(e):Yt(()=>{let t=Hn(e);if(typeof t==`function`)return t})}function fi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`);const pi=si(null);function mi(e){let t=e-1;return t*t*t+1}function hi(e){let t=typeof e==`string`&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||`px`]:[e,`px`]}function gi(e,{delay:t=0,duration:n=400,easing:r=mi,x:i=0,y:a=0,opacity:o=0}={}){let s=getComputedStyle(e),c=+s.opacity,l=s.transform===`none`?``:s.transform,u=c*(1-o),[d,f]=hi(i),[p,m]=hi(a);return{delay:t,duration:n,easing:r,css:(e,t)=>`
			transform: ${l} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});
			opacity: ${c-u*t}`}}function _i(e,{delay:t=0,duration:n=400,easing:r=mi,start:i=0,opacity:a=0}={}){let o=getComputedStyle(e),s=+o.opacity,c=o.transform===`none`?``:o.transform,l=1-i,u=s*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`
			transform: ${c} scale(${1-l*t});
			opacity: ${s-u*t}
		`}}var vi={drag_start:new Audio(`/audio/drag-start.wav`),drag_end:new Audio(`/audio/drag-end.wav`),trash:new Audio(`/audio/trash.wav`),bubble:new Audio(`/audio/bubble.wav`),toast:new Audio(`/audio/received-item.wav`)};function yi(){let e=parseFloat(localStorage.getItem(`settings.sfx_volume`)??`1.0`),t=1/10**2,n=Math.log(1/t),r=t*Math.exp(n*e);return e<.01&&(r=e*10*t*Math.exp(n*.1)),r}const bi={drag_start:()=>{let e=vi.drag_start.cloneNode();e.volume=.3*yi(),e.play()},drag_end:()=>{let e=vi.drag_end.cloneNode();e.volume=.4*yi(),e.play()},trash:()=>{let e=vi.trash.cloneNode();e.volume=.6*yi(),e.play()},bubble:()=>{let e=vi.bubble.cloneNode();e.volume=yi()*.99,e.play()},toast:()=>{let e=vi.toast.cloneNode();e.volume=yi()*.99,e.play()}};var xi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepEqualityDataStructuresError=void 0,e.DeepEqualityDataStructuresError=class extends Error{}})),Si=e(((e,n)=>{(function(t){var r;typeof e==`object`?n.exports=t():typeof define==`function`&&define.amd?define(t):(typeof window<`u`?r=window:typeof global<`u`?r=global:typeof self<`u`&&(r=self),r.objectHash=t())})(function(){return function e(n,r,i){function a(s,c){if(!r[s]){if(!n[s]){var l=typeof t==`function`&&t;if(!c&&l)return l(s,!0);if(o)return o(s,!0);throw Error(`Cannot find module '`+s+`'`)}c=r[s]={exports:{}},n[s][0].call(c.exports,function(e){var t=n[s][1][e];return a(t||e)},c,c.exports,e,n,r,i)}return r[s].exports}for(var o=typeof t==`function`&&t,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){(function(r,i,a,o,s,c,l,u,d){var f=e(`crypto`);function p(e,t){t=g(e,t);var n;return(n=t.algorithm===`passthrough`?new y:f.createHash(t.algorithm)).write===void 0&&(n.write=n.update,n.end=n.update),v(t,n).dispatch(e),n.update||n.end(``),n.digest?n.digest(t.encoding===`buffer`?void 0:t.encoding):(e=n.read(),t.encoding===`buffer`?e:e.toString(t.encoding))}(n=t.exports=p).sha1=function(e){return p(e)},n.keys=function(e){return p(e,{excludeValues:!0,algorithm:`sha1`,encoding:`hex`})},n.MD5=function(e){return p(e,{algorithm:`md5`,encoding:`hex`})},n.keysMD5=function(e){return p(e,{algorithm:`md5`,encoding:`hex`,excludeValues:!0})};var m=f.getHashes?f.getHashes().slice():[`sha1`,`md5`],h=(m.push(`passthrough`),[`buffer`,`hex`,`binary`,`base64`]);function g(e,t){var n={};if(n.algorithm=(t||={}).algorithm||`sha1`,n.encoding=t.encoding||`hex`,n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,e===void 0)throw Error(`Object argument required.`);for(var r=0;r<m.length;++r)m[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=m[r]);if(m.indexOf(n.algorithm)===-1)throw Error(`Algorithm "`+n.algorithm+`"  not supported. supported values: `+m.join(`, `));if(h.indexOf(n.encoding)===-1&&n.algorithm!==`passthrough`)throw Error(`Encoding "`+n.encoding+`"  not supported. supported values: `+h.join(`, `));return n}function _(e){if(typeof e==`function`)return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!=null}function v(e,t,n){n||=[];function r(e){return t.update?t.update(e,`utf8`):t.write(e,`utf8`)}return{dispatch:function(t){return this[`_`+((t=e.replacer?e.replacer(t):t)===null?`null`:typeof t)](t)},_object:function(t){var i,o=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(o);if(s=(s=s?s[1]:`unknown:[`+o+`]`).toLowerCase(),0<=(o=n.indexOf(t)))return this.dispatch(`[CIRCULAR:`+o+`]`);if(n.push(t),a!==void 0&&a.isBuffer&&a.isBuffer(t))return r(`buffer:`),r(t);if(s===`object`||s===`function`||s===`asyncfunction`)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||_(t)||o.splice(0,0,`prototype`,`__proto__`,`constructor`),e.excludeKeys&&(o=o.filter(function(t){return!e.excludeKeys(t)})),r(`object:`+o.length+`:`),i=this,o.forEach(function(n){i.dispatch(n),r(`:`),e.excludeValues||i.dispatch(t[n]),r(`,`)});if(!this[`_`+s]){if(e.ignoreUnknown)return r(`[`+s+`]`);throw Error(`Unknown object type "`+s+`"`)}this[`_`+s](t)},_array:function(t,i){i=i===void 0?!1!==e.unorderedArrays:i;var a=this;if(r(`array:`+t.length+`:`),!i||t.length<=1)return t.forEach(function(e){return a.dispatch(e)});var o=[],i=t.map(function(t){var r=new y,i=n.slice();return v(e,r,i).dispatch(t),o=o.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(o),i.sort(),this._array(i,!1)},_date:function(e){return r(`date:`+e.toJSON())},_symbol:function(e){return r(`symbol:`+e.toString())},_error:function(e){return r(`error:`+e.toString())},_boolean:function(e){return r(`bool:`+e.toString())},_string:function(e){r(`string:`+e.length+`:`),r(e.toString())},_function:function(t){r(`fn:`),_(t)?this.dispatch(`[native]`):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch(`function-name:`+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r(`number:`+e.toString())},_xml:function(e){return r(`xml:`+e.toString())},_null:function(){return r(`Null`)},_undefined:function(){return r(`Undefined`)},_regexp:function(e){return r(`regex:`+e.toString())},_uint8array:function(e){return r(`uint8array:`),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r(`uint8clampedarray:`),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r(`int8array:`),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r(`uint16array:`),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r(`int16array:`),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r(`uint32array:`),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r(`int32array:`),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r(`float32array:`),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r(`float64array:`),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r(`arraybuffer:`),this.dispatch(new Uint8Array(e))},_url:function(e){return r(`url:`+e.toString())},_map:function(t){return r(`map:`),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r(`set:`),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r(`file:`),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r(`[blob]`);throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return r(`domwindow`)},_bigint:function(e){return r(`bigint:`+e.toString())},_process:function(){return r(`process`)},_timer:function(){return r(`timer`)},_pipe:function(){return r(`pipe`)},_tcp:function(){return r(`tcp`)},_udp:function(){return r(`udp`)},_tty:function(){return r(`tty`)},_statwatcher:function(){return r(`statwatcher`)},_securecontext:function(){return r(`securecontext`)},_connection:function(){return r(`connection`)},_zlib:function(){return r(`zlib`)},_context:function(){return r(`context`)},_nodescript:function(){return r(`nodescript`)},_httpparser:function(){return r(`httpparser`)},_dataview:function(){return r(`dataview`)},_signal:function(){return r(`signal`)},_fsevent:function(){return r(`fsevent`)},_tlswrap:function(){return r(`tlswrap`)}}}function y(){return{buf:``,write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return n===void 0&&(n=t,t={}),v(t=g(e,t),n).dispatch(e)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/fake_9a5aa49d.js`,`/`)},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,a,o,s,c,l){(function(e){var t=typeof Uint8Array<`u`?Uint8Array:Array,n=43,r=47,i=48,a=97,o=65,s=45,c=95;function l(e){return e=e.charCodeAt(0),e===n||e===s?62:e===r||e===c?63:e<i?-1:e<i+10?e-i+26+26:e<o+26?e-o:e<a+26?e-a+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw Error(`Invalid string. Length must be a multiple of 4`);var i=e.length,i=e.charAt(i-2)===`=`?2:e.charAt(i-1)===`=`?1:0,a=new t(3*e.length/4-i),o=0<i?e.length-4:e.length,s=0;function c(e){a[s++]=e}for(n=0;n<o;n+=4)c((16711680&(r=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3))))>>16),c((65280&r)>>8),c(255&r);return i==2?c(255&(r=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4)):i==1&&(c((r=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2)>>8&255),c(255&r)),a},e.fromByteArray=function(e){var t,n,r,i,a=e.length%3,o=``;function s(e){return`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`.charAt(e)}for(t=0,r=e.length-a;t<r;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],o+=s((i=n)>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(a){case 1:o=(o+=s((n=e[e.length-1])>>2))+s(n<<4&63)+`==`;break;case 2:o=(o=(o+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+`=`}return o}})(n===void 0?this.base64js={}:n)}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js`,`/node_modules/gulp-browserify/node_modules/base64-js/lib`)},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,a,o,s,c,l,u){var d=e(`base64-js`),f=e(`ieee754`);function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,a,o,s,c=typeof e;if(t===`base64`&&c==`string`)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,``);e.length%4!=0;)e+=`=`;if(c==`number`)r=ne(e);else if(c==`string`)r=i.byteLength(e,t);else{if(c!=`object`)throw Error(`First argument needs to be a number, array or string.`);r=ne(e.length)}if(i._useTypedArrays?a=i._augment(new Uint8Array(r)):((a=this).length=r,a._isBuffer=!0),i._useTypedArrays&&typeof e.byteLength==`number`)a._set(e);else if(re(s=e)||i.isBuffer(s)||s&&typeof s==`object`&&typeof s.length==`number`)for(o=0;o<r;o++)i.isBuffer(e)?a[o]=e.readUInt8(o):a[o]=e[o];else if(c==`string`)a.write(e,0,t);else if(c==`number`&&!i._useTypedArrays&&!n)for(o=0;o<r;o++)a[o]=0;return a}function p(e,t,n,r){return i._charsWritten=se(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return i._charsWritten=se(function(e){for(var t,n,r=[],i=0;i<e.length;i++)n=e.charCodeAt(i),t=n>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function h(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function g(e,t,n,r){r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+1<e.length,`Trying to read beyond buffer length`));var i,r=e.length;if(!(r<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function _(e,t,n,r){r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+3<e.length,`Trying to read beyond buffer length`));var i,r=e.length;if(!(r<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function v(e,t,n,r){if(r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+1<e.length,`Trying to read beyond buffer length`)),!(e.length<=t))return r=g(e,t,n,!0),32768&r?-1*(65535-r+1):r}function y(e,t,n,r){if(r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t!=null,`missing offset`),O(t+3<e.length,`Trying to read beyond buffer length`)),!(e.length<=t))return r=_(e,t,n,!0),2147483648&r?-1*(4294967295-r+1):r}function b(e,t,n,r){return r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t+3<e.length,`Trying to read beyond buffer length`)),f.read(e,t,n,23,4)}function x(e,t,n,r){return r||(O(typeof n==`boolean`,`missing or invalid endian`),O(t+7<e.length,`Trying to read beyond buffer length`)),f.read(e,t,n,52,8)}function S(e,t,n,r,i){if(i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+1<e.length,`trying to write beyond buffer length`),le(t,65535)),i=e.length,!(i<=n))for(var a=0,o=Math.min(i-n,2);a<o;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function C(e,t,n,r,i){if(i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`trying to write beyond buffer length`),le(t,4294967295)),i=e.length,!(i<=n))for(var a=0,o=Math.min(i-n,4);a<o;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function w(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+1<e.length,`Trying to write beyond buffer length`),ue(t,32767,-32768)),e.length<=n||S(e,0<=t?t:65535+t+1,n,r,i)}function ee(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`Trying to write beyond buffer length`),ue(t,2147483647,-2147483648)),e.length<=n||C(e,0<=t?t:4294967295+t+1,n,r,i)}function T(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+3<e.length,`Trying to write beyond buffer length`),de(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function E(e,t,n,r,i){i||(O(t!=null,`missing value`),O(typeof r==`boolean`,`missing or invalid endian`),O(n!=null,`missing offset`),O(n+7<e.length,`Trying to write beyond buffer length`),de(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},t.foo()===42&&typeof t.subarray==`function`}catch{return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`binary`:case`base64`:case`raw`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},i.isBuffer=function(e){return!(e==null||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+=``,t||`utf8`){case`hex`:n=e.length/2;break;case`utf8`:case`utf-8`:n=ae(e).length;break;case`ascii`:case`binary`:case`raw`:n=e.length;break;case`base64`:n=oe(e).length;break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:n=2*e.length;break;default:throw Error(`Unknown encoding`)}return n},i.concat=function(e,t){if(O(re(e),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),e.length===0)return new i(0);if(e.length===1)return e[0];if(typeof t!=`number`)for(a=t=0;a<e.length;a++)t+=e[a].length;for(var n=new i(t),r=0,a=0;a<e.length;a++){var o=e[a];o.copy(n,r),r+=o.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(l=r,r=t,t=n,n=l),t=Number(t)||0;var a,o,s,c,l=this.length-t;switch((!n||l<(n=Number(n)))&&(n=l),r=String(r||`utf8`).toLowerCase()){case`hex`:a=function(e,t,n,r){n=Number(n)||0;var a=e.length-n;(!r||a<(r=Number(r)))&&(r=a),O((a=t.length)%2==0,`Invalid hex string`),a/2<r&&(r=a/2);for(var o=0;o<r;o++){var s=parseInt(t.substr(2*o,2),16);O(!isNaN(s),`Invalid hex string`),e[n+o]=s}return i._charsWritten=2*o,o}(this,e,t,n);break;case`utf8`:case`utf-8`:o=this,s=t,c=n,a=i._charsWritten=se(ae(e),o,s,c);break;case`ascii`:case`binary`:a=p(this,e,t,n);break;case`base64`:o=this,s=t,c=n,a=i._charsWritten=se(oe(e),o,s,c);break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:a=m(this,e,t,n);break;default:throw Error(`Unknown encoding`)}return a},i.prototype.toString=function(e,t,n){var r,i,a,o,s=this;if(e=String(e||`utf8`).toLowerCase(),t=Number(t)||0,(n=n===void 0?s.length:Number(n))===t)return``;switch(e){case`hex`:r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i=``,a=t;a<n;a++)i+=ie(e[a]);return i}(s,t,n);break;case`utf8`:case`utf-8`:r=function(e,t,n){var r=``,i=``;n=Math.min(e.length,n);for(var a=t;a<n;a++)e[a]<=127?(r+=ce(i)+String.fromCharCode(e[a]),i=``):i+=`%`+e[a].toString(16);return r+ce(i)}(s,t,n);break;case`ascii`:case`binary`:r=h(s,t,n);break;case`base64`:i=s,o=n,r=(a=t)===0&&o===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(a,o));break;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:r=function(e,t,n){for(var r=e.slice(t,n),i=``,a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(s,t,n);break;default:throw Error(`Unknown encoding`)}return r},i.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t||=0,(r=r||r===0?r:this.length)!==(n||=0)&&e.length!==0&&this.length!==0){O(n<=r,`sourceEnd < sourceStart`),O(0<=t&&t<e.length,`targetStart out of bounds`),O(0<=n&&n<this.length,`sourceStart out of bounds`),O(0<=r&&r<=this.length,`sourceEnd out of bounds`),r>this.length&&(r=this.length);var a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(a<100||!i._useTypedArrays)for(var o=0;o<a;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=te(e,n,0),t=te(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,a=new i(r,void 0,!0),o=0;o<r;o++)a[o]=this[o+e];return a},i.prototype.get=function(e){return console.log(`.get() is deprecated. Access using array indexes instead.`),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(`.set() is deprecated. Access using array indexes instead.`),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(O(e!=null,`missing offset`),O(e<this.length,`Trying to read beyond buffer length`)),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return _(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return _(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(O(e!=null,`missing offset`),O(e<this.length,`Trying to read beyond buffer length`)),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return x(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return x(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(O(e!=null,`missing value`),O(t!=null,`missing offset`),O(t<this.length,`trying to write beyond buffer length`),le(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(O(e!=null,`missing value`),O(t!=null,`missing offset`),O(t<this.length,`Trying to write beyond buffer length`),ue(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){ee(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){ee(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){T(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){T(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t||=0,n||=this.length,O(typeof(e=typeof(e||=0)==`string`?e.charCodeAt(0):e)==`number`&&!isNaN(e),`value is not a number`),O(t<=n,`end < start`),n!==t&&this.length!==0){O(0<=t&&t<this.length,`start out of bounds`),O(0<=n&&n<=this.length,`end out of bounds`);for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=ie(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]=`...`;break}return`<Buffer `+e.join(` `)+`>`},i.prototype.toArrayBuffer=function(){if(typeof Uint8Array>`u`)throw Error(`Buffer.toArrayBuffer not supported in this browser`);if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var D=i.prototype;function te(e,t,n){return typeof e==`number`?t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0:n}function ne(e){return(e=~~Math.ceil(+e))<0?0:e}function re(e){return(Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`})(e)}function ie(e){return e<16?`0`+e.toString(16):e.toString(16)}function ae(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,a=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split(`%`)),o=0;o<a.length;o++)t.push(parseInt(a[o],16))}return t}function oe(e){return d.toByteArray(e)}function se(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function ce(e){try{return decodeURIComponent(e)}catch{return`ï¿½`}}function le(e,t){O(typeof e==`number`,`cannot write a non-number as a number`),O(0<=e,`specified a negative value for writing an unsigned value`),O(e<=t,`value is larger than maximum value for type`),O(Math.floor(e)===e,`value has a fractional component`)}function ue(e,t,n){O(typeof e==`number`,`cannot write a non-number as a number`),O(e<=t,`value larger than maximum allowed value`),O(n<=e,`value smaller than minimum allowed value`),O(Math.floor(e)===e,`value has a fractional component`)}function de(e,t,n){O(typeof e==`number`,`cannot write a non-number as a number`),O(e<=t,`value larger than maximum allowed value`),O(n<=e,`value smaller than minimum allowed value`)}function O(e,t){if(!e)throw Error(t||`Failed assertion`)}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=D.get,e.set=D.set,e.write=D.write,e.toString=D.toString,e.toLocaleString=D.toString,e.toJSON=D.toJSON,e.copy=D.copy,e.slice=D.slice,e.readUInt8=D.readUInt8,e.readUInt16LE=D.readUInt16LE,e.readUInt16BE=D.readUInt16BE,e.readUInt32LE=D.readUInt32LE,e.readUInt32BE=D.readUInt32BE,e.readInt8=D.readInt8,e.readInt16LE=D.readInt16LE,e.readInt16BE=D.readInt16BE,e.readInt32LE=D.readInt32LE,e.readInt32BE=D.readInt32BE,e.readFloatLE=D.readFloatLE,e.readFloatBE=D.readFloatBE,e.readDoubleLE=D.readDoubleLE,e.readDoubleBE=D.readDoubleBE,e.writeUInt8=D.writeUInt8,e.writeUInt16LE=D.writeUInt16LE,e.writeUInt16BE=D.writeUInt16BE,e.writeUInt32LE=D.writeUInt32LE,e.writeUInt32BE=D.writeUInt32BE,e.writeInt8=D.writeInt8,e.writeInt16LE=D.writeInt16LE,e.writeInt16BE=D.writeInt16BE,e.writeInt32LE=D.writeInt32LE,e.writeInt32BE=D.writeInt32BE,e.writeFloatLE=D.writeFloatLE,e.writeFloatBE=D.writeFloatBE,e.writeDoubleLE=D.writeDoubleLE,e.writeDoubleBE=D.writeDoubleBE,e.fill=D.fill,e.inspect=D.inspect,e.toArrayBuffer=D.toArrayBuffer,e}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/buffer/index.js`,`/node_modules/gulp-browserify/node_modules/buffer`)},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var i=e(`buffer`).Buffer,d=4,f=new i(d);f.fill(0),t.exports={hash:function(e,t,n,r){for(var a=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,f],n));for(var n,r=[],a=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=d)r.push(a.call(e,o));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),t=r,o=new i(n),s=t?o.writeInt32BE:o.writeInt32LE,c=0;c<a.length;c++)s.call(o,a[c],4*c,!0);return o}}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,a,o,s,c,l,u){var i=e(`buffer`).Buffer,d=e(`./sha`),f=e(`./sha256`),p=e(`./rng`),m={sha1:d,sha256:f,md5:e(`./md5`)},h=64,g=new i(h);function _(e,t){var n=m[e||=`sha1`],r=[];return n||v(`algorithm:`,e,`is not yet supported`),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var a=i.concat(r),a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>h?t=e(t):t.length<h&&(t=i.concat([t,g],h));for(var r=new i(h),a=new i(h),o=0;o<h;o++)r[o]=54^t[o],a[o]=92^t[o];return n=e(i.concat([r,n])),e(i.concat([a,n]))}(n,t,a):n(a);return r=null,e?a.toString(e):a}}}function v(){var e=[].slice.call(arguments).join(` `);throw Error([e,`we accept pull requests`,`http://github.com/dominictarr/crypto-browserify`].join(`
`))}g.fill(0),n.createHash=function(e){return _(e)},n.createHmac=_,n.randomBytes=function(e,t){if(!t||!t.call)return new i(p(e));try{t.call(this,void 0,new i(p(e)))}catch(e){t(e)}};var y,b=[`createCredentials`,`createCipher`,`createCipheriv`,`createDecipher`,`createDecipheriv`,`createSign`,`createVerify`,`createDiffieHellman`,`pbkdf2`],x=function(e){n[e]=function(){v(`sorry,`,e,`is not implemented yet`)}};for(y in b)x(b[y],y)}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var d=e(`./helpers`);function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,c=r,l=i,u=a,n=m(n,r,i,a,e[o+0],7,-680876936),a=m(a,n,r,i,e[o+1],12,-389564586),i=m(i,a,n,r,e[o+2],17,606105819),r=m(r,i,a,n,e[o+3],22,-1044525330);n=m(n,r,i,a,e[o+4],7,-176418897),a=m(a,n,r,i,e[o+5],12,1200080426),i=m(i,a,n,r,e[o+6],17,-1473231341),r=m(r,i,a,n,e[o+7],22,-45705983),n=m(n,r,i,a,e[o+8],7,1770035416),a=m(a,n,r,i,e[o+9],12,-1958414417),i=m(i,a,n,r,e[o+10],17,-42063),r=m(r,i,a,n,e[o+11],22,-1990404162),n=m(n,r,i,a,e[o+12],7,1804603682),a=m(a,n,r,i,e[o+13],12,-40341101),i=m(i,a,n,r,e[o+14],17,-1502002290),n=h(n,r=m(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=h(a,n,r,i,e[o+6],9,-1069501632),i=h(i,a,n,r,e[o+11],14,643717713),r=h(r,i,a,n,e[o+0],20,-373897302),n=h(n,r,i,a,e[o+5],5,-701558691),a=h(a,n,r,i,e[o+10],9,38016083),i=h(i,a,n,r,e[o+15],14,-660478335),r=h(r,i,a,n,e[o+4],20,-405537848),n=h(n,r,i,a,e[o+9],5,568446438),a=h(a,n,r,i,e[o+14],9,-1019803690),i=h(i,a,n,r,e[o+3],14,-187363961),r=h(r,i,a,n,e[o+8],20,1163531501),n=h(n,r,i,a,e[o+13],5,-1444681467),a=h(a,n,r,i,e[o+2],9,-51403784),i=h(i,a,n,r,e[o+7],14,1735328473),n=g(n,r=h(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=g(a,n,r,i,e[o+8],11,-2022574463),i=g(i,a,n,r,e[o+11],16,1839030562),r=g(r,i,a,n,e[o+14],23,-35309556),n=g(n,r,i,a,e[o+1],4,-1530992060),a=g(a,n,r,i,e[o+4],11,1272893353),i=g(i,a,n,r,e[o+7],16,-155497632),r=g(r,i,a,n,e[o+10],23,-1094730640),n=g(n,r,i,a,e[o+13],4,681279174),a=g(a,n,r,i,e[o+0],11,-358537222),i=g(i,a,n,r,e[o+3],16,-722521979),r=g(r,i,a,n,e[o+6],23,76029189),n=g(n,r,i,a,e[o+9],4,-640364487),a=g(a,n,r,i,e[o+12],11,-421815835),i=g(i,a,n,r,e[o+15],16,530742520),n=_(n,r=g(r,i,a,n,e[o+2],23,-995338651),i,a,e[o+0],6,-198630844),a=_(a,n,r,i,e[o+7],10,1126891415),i=_(i,a,n,r,e[o+14],15,-1416354905),r=_(r,i,a,n,e[o+5],21,-57434055),n=_(n,r,i,a,e[o+12],6,1700485571),a=_(a,n,r,i,e[o+3],10,-1894986606),i=_(i,a,n,r,e[o+10],15,-1051523),r=_(r,i,a,n,e[o+1],21,-2054922799),n=_(n,r,i,a,e[o+8],6,1873313359),a=_(a,n,r,i,e[o+15],10,-30611744),i=_(i,a,n,r,e[o+6],15,-1560198380),r=_(r,i,a,n,e[o+13],21,1309151649),n=_(n,r,i,a,e[o+4],6,-145523070),a=_(a,n,r,i,e[o+11],10,-1120210379),i=_(i,a,n,r,e[o+2],15,718787259),r=_(r,i,a,n,e[o+9],21,-343485551),n=v(n,s),r=v(r,c),i=v(i,l),a=v(a,u)}return[n,r,i,a]}function p(e,t,n,r,i,a){return v((t=v(v(t,e),v(r,a)))<<i|t>>>32-i,n)}function m(e,t,n,r,i,a,o){return p(t&n|~t&r,e,t,i,a,o)}function h(e,t,n,r,i,a,o){return p(t&r|n&~r,e,t,i,a,o)}function g(e,t,n,r,i,a,o){return p(t^n^r,e,t,i,a,o)}function _(e,t,n,r,i,a,o){return p(n^(t|~r),e,t,i,a,o)}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,a,o,s,c,l){var u;t.exports=u||function(e){for(var t,n=Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){var d=e(`./helpers`);function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,a=Array(80),o=1732584193,s=-271733879,c=-1732584194,l=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var f=o,h=s,g=c,_=l,v=u,y=0;y<80;y++){a[y]=y<16?e[d+y]:m(a[y-3]^a[y-8]^a[y-14]^a[y-16],1);var b=p(p(m(o,5),(b=s,r=c,i=l,(n=y)<20?b&r|~b&i:!(n<40)&&n<60?b&r|b&i|r&i:b^r^i)),p(p(u,a[y]),(n=y)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514)),u=l,l=c,c=m(s,30),s=o,o=b}o=p(o,f),s=p(s,h),c=p(c,g),l=p(l,_),u=p(u,v)}return[o,s,c,l,u]}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,a,o,s,c,l,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){var n,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,s,c=0;c<e.length;c+=16){for(var l=i[0],u=i[1],f=i[2],p=i[3],g=i[4],_=i[5],v=i[6],y=i[7],b=0;b<64;b++)a[b]=b<16?e[b+c]:d(d(d((s=a[b-2],m(s,17)^m(s,19)^h(s,10)),a[b-7]),(s=a[b-15],m(s,7)^m(s,18)^h(s,3))),a[b-16]),n=d(d(d(d(y,m(s=g,6)^m(s,11)^m(s,25)),g&_^~g&v),r[b]),a[b]),o=d(m(o=l,2)^m(o,13)^m(o,22),l&u^l&f^u&f),y=v,v=_,_=g,g=d(p,n),p=f,f=u,u=l,l=d(n,o);i[0]=d(l,i[0]),i[1]=d(u,i[1]),i[2]=d(f,i[2]),i[3]=d(p,i[3]),i[4]=d(g,i[4]),i[5]=d(_,i[5]),i[6]=d(v,i[6]),i[7]=d(y,i[7])}return i}var p=e(`./helpers`),m=function(e,t){return e>>>t|e<<32-t},h=function(e,t){return e>>>t};t.exports=function(e){return p.hash(e,f,32,!0)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js`,`/node_modules/gulp-browserify/node_modules/crypto-browserify`)},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,a,o,s,c,l){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,i=e[t+d];for(d+=f,a=i&(1<<-u)-1,i>>=-u,u+=s;0<u;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;0<u;o=256*o+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:1/0*(i?-1:1);o+=2**r,a-=l}return(i?-1:1)*o*2**(a-r)},n.write=function(e,t,n,r,i,a){var o,s,c=8*a-i-1,l=(1<<c)-1,u=l>>1,d=i===23?2**-24-2**-77:0,f=r?0:a-1,p=r?1:-1,a=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(r=2**-o)<1&&(o--,r*=2),2<=(t+=1<=o+u?d/r:d*2**(1-u))*r&&(o++,r/=2),l<=o+u?(s=0,o=l):1<=o+u?(s=(t*r-1)*2**i,o+=u):(s=t*2**(u-1)*2**i,o=0));8<=i;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;0<c;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*a}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/ieee754/index.js`,`/node_modules/gulp-browserify/node_modules/ieee754`)},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,a,o,s,c,l){var u,d,f;function p(){}(e=t.exports={}).nextTick=(d=typeof window<`u`&&window.setImmediate,f=typeof window<`u`&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:f?(u=[],window.addEventListener(`message`,function(e){var t=e.source;t!==window&&t!==null||e.data!==`process-tick`||(e.stopPropagation(),0<u.length&&u.shift()())},!0),function(e){u.push(e),window.postMessage(`process-tick`,`*`)}):function(e){setTimeout(e,0)}),e.title=`browser`,e.browser=!0,e.env={},e.argv=[],e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.binding=function(e){throw Error(`process.binding is not supported`)},e.cwd=function(){return`/`},e.chdir=function(e){throw Error(`process.chdir is not supported`)}}).call(this,e(`lYpoI2`),typeof self<`u`?self:typeof window<`u`?window:{},e(`buffer`).Buffer,arguments[3],arguments[4],arguments[5],arguments[6],`/node_modules/gulp-browserify/node_modules/process/browser.js`,`/node_modules/gulp-browserify/node_modules/process`)},{buffer:3,lYpoI2:11}]},{},[1])(1)})})),Ci=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.Transformers=void 0,e.Transformers=class{static identity(e){return e}static jsonSerializeDeserialize(e){return JSON.parse(JSON.stringify(e))}}})),wi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.getOptionsWithDefaults=n;var t=Ci();function n(e){return Object.assign({algorithm:`md5`,transformer:t.Transformers.identity,mapValueTransformer:t.Transformers.identity,useToJsonTransform:!1,caseInsensitive:!1},e)}})),Ti=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.stringify=t,e.chain=n;function t(e){return typeof e==`object`&&e?`toString`in e&&![Object.prototype.toString,Array.prototype.toString].includes(e.toString)?e.toString():JSON.stringify(e):String(e)}function n(e){let[t,...n]=e;return(...e)=>n.reduce((e,t)=>t(e),t(...e))}})),Ei=e((e=>{var t=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,`__esModule`,{value:!0}),e.Normalizer=void 0;var r=n(Si()),i=wi(),a=Ci(),o=Ti();e.Normalizer=class e{constructor(e={}){this.optionsChecksum=(0,r.default)(e);let n=(0,i.getOptionsWithDefaults)(e),{transformer:s,mapValueTransformer:c,useToJsonTransform:l,caseInsensitive:u}=n;if(this.objectHashOptions=t(n,[`transformer`,`mapValueTransformer`,`useToJsonTransform`,`caseInsensitive`]),this.caseInsensitive=u,this.keyTransformer=l?(0,o.chain)([a.Transformers.jsonSerializeDeserialize,s]):s,this.valueTransformer=l?(0,o.chain)([a.Transformers.jsonSerializeDeserialize,c]):c,u){let e=e=>typeof e==`string`?e.toLowerCase():e,{replacer:t}=this.objectHashOptions;this.objectHashOptions.replacer=t?(0,o.chain)([e,t]):e}}getOptionsChecksum(){return this.optionsChecksum}normalizeKey(e){return this.normalizeHelper(this.keyTransformer(e))}normalizeValue(e){return this.normalizeHelper(this.valueTransformer(e))}normalizeHelper(t){return e.isObject(t)?(0,r.default)(t,this.objectHashOptions):this.caseInsensitive&&typeof t==`string`?t.toLowerCase():t}static isObject(e){return typeof e==`object`&&!!e}}})),Di=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepMap=void 0;var t=xi(),n=Ei();e.DeepMap=class e extends Map{constructor(e,t={}){super(),this.options=t,this.normalizer=new n.Normalizer(t);let r=e?e.map(([e,t])=>[this.normalizeKey(e),{key:e,val:t}]):null;this.map=new Map(r)}get size(){return this.map.size}has(e){return this.map.has(this.normalizeKey(e))}set(e,t){return this.map.set(this.normalizeKey(e),{key:e,val:t}),this}get(e){return this.map.get(this.normalizeKey(e))?.val}delete(e){return this.map.delete(this.normalizeKey(e))}clear(){this.map.clear()}forEach(e){this.map.forEach((t,n,r)=>{e(t.val,t.key,this)})}*[Symbol.iterator](){for(let[e,t]of this.map[Symbol.iterator]())yield[t.key,t.val]}*entries(){for(let e of this[Symbol.iterator]())yield e}*keys(){for(let[e,t]of this[Symbol.iterator]())yield e}*values(){for(let[e,t]of this[Symbol.iterator]())yield t}equals(e){return this.validateUsingSameOptionsAs(e),this.size===e.size&&this.contains(e)}contains(e){return this.validateUsingSameOptionsAs(e),[...e.entries()].every(([e,t])=>this.keyValuePairIsPresentIn(e,t,this))}union(t){return this.validateUsingSameOptionsAs(t),new e([...t.entries(),...this.entries()],this.options)}intersection(t){return this.validateUsingSameOptionsAs(t),new e([...this.entries()].filter(([e,n])=>this.keyValuePairIsPresentIn(e,n,t)),this.options)}difference(t){return this.validateUsingSameOptionsAs(t),new e([...this.entries()].filter(([e,n])=>!this.keyValuePairIsPresentIn(e,n,t)),this.options)}normalizeKey(e){return this.normalizer.normalizeKey(e)}normalizeValue(e){return this.normalizer.normalizeValue(e)}validateUsingSameOptionsAs(e){if(this.normalizer.getOptionsChecksum()!==e.normalizer.getOptionsChecksum())throw new t.DeepEqualityDataStructuresError(`Structures must use same options for Comparable interface operations`)}keyValuePairIsPresentIn(e,t,n){let r=n.get(e);return r!==void 0&&this.normalizeValue(r)===this.normalizeValue(t)}}})),Oi=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.DeepSet=void 0;var t=Di();e.DeepSet=class e extends Set{constructor(e,n){super(),this.options=n;let r=e?e.map(e=>[e,null]):null;this.map=new t.DeepMap(r,n)}get size(){return this.map.size}has(e){return this.map.has(e)}add(e){return this.map.set(e,null),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}forEach(e){this.map.forEach((t,n,r)=>{e(n,n,this)})}*[Symbol.iterator](){for(let[e,t]of this.map[Symbol.iterator]())yield e}*entries(){for(let e of this[Symbol.iterator]())yield[e,e]}*keys(){for(let e of this[Symbol.iterator]())yield e}*values(){yield*this.keys()}equals(e){return this.map.equals(e.map)}contains(e){return this.map.contains(e.map)}union(e){return this.getSetFromMapKeys(this.map.union(e.map))}intersection(e){return this.getSetFromMapKeys(this.map.intersection(e.map))}difference(e){return this.getSetFromMapKeys(this.map.difference(e.map))}getSetFromMapKeys(t){return new e([...t.keys()],this.options)}}})),ki=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.BiDirectionalDeepMap=void 0;var t=xi(),n=Di(),r=Ti();e.BiDirectionalDeepMap=class extends n.DeepMap{constructor(e,t){super(e,t);let n=e?e.map(([e,t])=>[this.normalizeValue(t),e]):null;this.valueMap=new Map(n)}set(e,n){let i=this.getKeyByValue(n);if(i!==void 0&&this.normalizeKey(i)!==this.normalizeKey(e))throw new t.DeepEqualityDataStructuresError(`Could not set key='${(0,r.stringify)(e)}': The value='${(0,r.stringify)(n)}' is already associated with key='${(0,r.stringify)(i)}'`);return this.valueMap.set(this.normalizeValue(n),e),super.set(e,n)}delete(e){let t=this.get(e);return t&&this.valueMap.delete(this.normalizeValue(t)),super.delete(e)}clear(){this.valueMap.clear(),super.clear()}hasValue(e){return this.valueMap.has(this.normalizeValue(e))}getKeyByValue(e){return this.valueMap.get(this.normalizeValue(e))}deleteByValue(e){let t=this.getKeyByValue(e);return t?this.delete(t):!1}}})),Ai=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.areEqual=r;var t=xi(),n=Oi();function r(e,r){if(e.length===0)throw new t.DeepEqualityDataStructuresError(`Empty values list passed to areEqual function`);return new n.DeepSet(e,r).size===1}})),ji=e((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.areEqual=e.BiDirectionalDeepMap=e.DeepMap=e.DeepSet=void 0;var t=Oi();Object.defineProperty(e,`DeepSet`,{enumerable:!0,get:function(){return t.DeepSet}});var n=Di();Object.defineProperty(e,`DeepMap`,{enumerable:!0,get:function(){return n.DeepMap}});var r=ki();Object.defineProperty(e,`BiDirectionalDeepMap`,{enumerable:!0,get:function(){return r.BiDirectionalDeepMap}});var i=Ai();Object.defineProperty(e,`areEqual`,{enumerable:!0,get:function(){return i.areEqual}})}))(),Mi=Object.defineProperty;((e,t)=>{for(var n in t)Mi(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})})({},{slotTypes:()=>Li,permissions:()=>Ii,itemsHandlingFlags:()=>Fi,itemClassifications:()=>Pi,clientStatuses:()=>Ni});var Ni={disconnected:0,connected:5,ready:10,playing:20,goal:30},Pi={progression:1,useful:2,trap:4,none:0},Fi={minimal:0,others:1,own:2,starting:4,all:7},Ii={disabled:0,enabled:1,goal:2,auto:6,autoEnabled:7},Li={spectator:0,player:1,group:2},Ri=class extends Error{},zi=class extends Error{argumentName;value;constructor(e,t,n){super(e),this.argumentName=t,this.value=structuredClone(n)}},Bi=class extends Error{errors=[];constructor(e,t){super(e),this.errors=t}},Vi=class extends Error{},Hi={timeout:1e4,autoFetchDataPackage:!0,maximumMessages:1e3,debugLogVersions:!0},Ui={major:0,minor:5,build:1},Wi=`2.0.4`;function Gi(){let e=[];for(let t=0;t<36;t++)e.push(Math.floor(Math.random()*16));return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]=`-`,e.map(e=>e.toString(16)).join(``)}var Ki={password:``,uuid:Gi(),tags:[],version:Ui,items:Fi.all,slotData:!0},qi=class{#e;#t;#n;#r;constructor(e,t,n,r){this.#e=e,this.#t=t,this.#n=n,this.#r=r}toString(){return this.name}get receiver(){return this.#r}get sender(){return this.#n}get name(){return this.#e.package.lookupItemName(this.game,this.#t.item,!0)}get id(){return this.#t.item}get locationName(){return this.#e.package.lookupLocationName(this.sender.game,this.#t.location,!0)}get locationId(){return this.#t.location}get locationGame(){return this.sender.game}get game(){return this.receiver.game}get progression(){return(this.flags&Pi.progression)===Pi.progression}get useful(){return(this.flags&Pi.useful)===Pi.useful}get trap(){return(this.flags&Pi.trap)===Pi.trap}get filler(){return this.flags===Pi.none}get flags(){return this.#t.flags}},Ji=class{game;checksum;itemTable;locationTable;reverseItemTable;reverseLocationTable;constructor(e,t){this.game=e,this.checksum=t.checksum,this.itemTable=Object.freeze(t.item_name_to_id),this.locationTable=Object.freeze(t.location_name_to_id),this.reverseItemTable=Object.freeze(Object.fromEntries(Object.entries(this.itemTable).map(([e,t])=>[t,e]))),this.reverseLocationTable=Object.freeze(Object.fromEntries(Object.entries(this.locationTable).map(([e,t])=>[t,e])))}exportPackage(){return{checksum:this.checksum,item_name_to_id:{...this.itemTable},location_name_to_id:{...this.locationTable}}}},Yi=class{#e;#t=new Map;#n=new Map;#r=new Set;constructor(e){this.#e=e,this.#e.socket.on(`roomInfo`,e=>{for(let t in this.#t.clear(),this.#n.clear(),this.#r.clear(),this.#t.set(`Archipelago`,this.#i()),e.datapackage_checksums)this.#n.set(t,e.datapackage_checksums[t]),this.#r.add(t)})}findPackage(e){return this.#t.get(e)??null}async fetchPackage(e=[],t=!0){e.length===0&&(e=Array.from(this.#r)),e=e.filter(e=>this.#r.has(e)?this.#t.get(e)?.checksum!==this.#n.get(e):!1);let n={games:{}};for(let t of e){let e={cmd:`GetDataPackage`,games:[t]},[r]=await this.#e.socket.send(e).wait(`dataPackage`);n.games[t]=r.data.games[t]}return t&&this.importPackage(n),n}importPackage(e){for(let t in e.games)this.#t.set(t,new Ji(t,e.games[t])),this.#n.set(t,e.games[t].checksum)}exportPackage(){return{games:this.#t.entries().reduce((e,[t,n])=>(e[t]=n.exportPackage(),e),{})}}lookupItemName(e,t,n=!0){let r=`Unknown Item ${t}`,i=this.findPackage(e);if(!i)return n?r:void 0;let a=i.reverseItemTable[t];return n&&a===void 0?r:a}lookupLocationName(e,t,n=!0){let r=`Unknown Location ${t}`,i=this.findPackage(e);if(!i)return n?r:void 0;let a=i.reverseLocationTable[t];return n&&a===void 0?r:a}#i(){return new Ji(`Archipelago`,{checksum:`ac9141e9ad0318df2fa27da5f20c50a842afeecb`,item_name_to_id:{Nothing:-1},location_name_to_id:{"Cheat Console":-1,Server:-2}})}},Xi=class{#e;#t=[];#n;#r;constructor(e,t,n){this.#e=e,this.#n=t,this.#r=n}replace(e){return this.#t.push({operation:`replace`,value:e}),this}default(){return this.#t.push({operation:`default`,value:null}),this}add(e){return this.#t.push({operation:`add`,value:e}),this}multiply(e){return this.#t.push({operation:`mul`,value:e}),this}power(e){return this.#t.push({operation:`pow`,value:e}),this}remainder(e){return this.#t.push({operation:`mod`,value:e}),this}floor(){return this.#t.push({operation:`floor`,value:null}),this}ceiling(){return this.#t.push({operation:`ceil`,value:null}),this}max(e){return this.#t.push({operation:`max`,value:e}),this}min(e){return this.#t.push({operation:`min`,value:e}),this}and(e){return this.#t.push({operation:`and`,value:e}),this}or(e){return this.#t.push({operation:`or`,value:e}),this}xor(e){return this.#t.push({operation:`xor`,value:e}),this}leftShift(e){return this.#t.push({operation:`left_shift`,value:e}),this}rightShift(e){return this.#t.push({operation:`right_shift`,value:e}),this}remove(e){return this.#t.push({operation:`remove`,value:e}),this}pop(e){return this.#t.push({operation:`pop`,value:e}),this}update(e){return this.#t.push({operation:`update`,value:e}),this}async commit(e=!1){let t=Gi(),n={cmd:`Set`,default:this.#r,key:this.#n,operations:this.#t,want_reply:e,uuid:t};if(this.#e.socket.send(n),!e)return;let[r]=await this.#e.socket.wait(`setReply`,e=>e.uuid===t);return r.value}},Zi=class{#e;#t={};#n={};constructor(e){this.#e=e,this.#e.socket.on(`disconnected`,()=>{this.#t={},this.#n={}}).on(`setReply`,e=>{this.#t[e.key]=e.value;let t=this.#n[e.key];t&&t.forEach(t=>t(e.key,e.value,e.original_value))}).on(`connected`,()=>{if(this.#e.options.debugLogVersions){let e=`${this.#e.game}:${Wi}:${navigator?.userAgent}`;this.prepare(`archipelago.js__runtimes`,{}).default().update({[e]:!0}).commit(!1)}})}get store(){return structuredClone(this.#t)}async fetch(e,t=!1){let n=typeof e==`string`?[e]:e;if(t){let e=n.filter(e=>this.#t[e]===void 0);e.length>0&&this.#e.socket.send({cmd:`SetNotify`,keys:e})}let r={};if(n=n.filter(e=>{let t=structuredClone(this.#t[e]),n=t!==void 0;return n&&(r[e]=t),!n}),n.length>0){let e=await this.#r(n);r={...r,...e}}return t&&(this.#t={...this.#t,...r}),typeof e==`string`?r[e]:r}async notify(e,t){return e.forEach(e=>{this.#n[e]??=[],this.#n[e].push(t)}),this.fetch(e,!0)}prepare(e,t){if(e.startsWith(`_read_`))throw TypeError(`Cannot manipulate read only keys.`);return new Xi(this.#e,e,t)}async fetchItemNameGroups(e){return await this.fetch([`_read_item_name_groups_${e}`],!0)}async fetchLocationNameGroups(e){return await this.fetch([`_read_location_name_groups_${e}`],!0)}async#r(e){let t=Gi(),[n]=await this.#e.socket.send({cmd:`Get`,keys:e,uuid:t}).wait(`retrieved`,e=>e.uuid===t);return n.keys}},Qi=class{#e={};addEventListener(e,t,n=!1){this.#e[e]??=[],this.#e[e].push([t,n])}removeEventListener(e,t){let n=this.#e[e];n&&n.length>0&&(this.#e[e]=n.filter(([e])=>e!==t))}dispatchEvent(e,t){let n=this.#e[e]??[];for(let[r,i]of n)r(...t),i&&this.removeEventListener(e,r)}},$i=class{#e=new Qi;on(e,t){return this.#e.addEventListener(e,t),this}off(e,t){return this.#e.removeEventListener(e,t),this}async wait(e,t=()=>!0){return new Promise(n=>{let r=(...i)=>{t(...i)&&(this.#e.removeEventListener(e,r),n(i))};this.#e.addEventListener(e,r)})}emit(e,t){this.#e.dispatchEvent(e,t)}},ea=class extends $i{#e;#t=-(2**53-1);constructor(e){super(),this.#e=e,this.#e.socket.on(`bounced`,e=>{if(e.tags?.includes(`DeathLink`)&&e.data.time&&e.data.source){let t=e.data;if(t.time===this.#t)return;this.#t=t.time,this.emit(`deathReceived`,[t.source,t.time*1e3,t.cause])}})}get enabled(){return this.#e.arguments.tags.includes(`DeathLink`)}enableDeathLink(){this.#e.arguments.tags.includes(`DeathLink`)||this.#e.updateTags([...this.#e.arguments.tags,`DeathLink`])}disableDeathLink(){this.#e.arguments.tags.includes(`DeathLink`)&&this.#e.updateTags(this.#e.arguments.tags.filter(e=>e!==`DeathLink`))}sendDeathLink(e,t){if(!this.#e.authenticated)throw new Vi(`Cannot send death links before connecting and authenticating.`);if(!this.enabled)return;this.#t=Math.ceil(Date.now()/1e3);let n={source:e,cause:t,time:this.#t};this.#e.bounce({tags:[`DeathLink`]},n)}},ta=class{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=t,this.#n=new qi(this.#e,{item:t.item,location:t.location,player:t.finding_player,flags:t.item_flags},this.#e.players.findPlayer(t.finding_player),this.#e.players.findPlayer(t.receiving_player))}get item(){return this.#n}get found(){return this.#t.found}get entrance(){return this.#t.entrance||`Vanilla`}},na=class extends $i{#e;#t=[];#n=[];constructor(e){super(),this.#e=e,this.#e.socket.on(`receivedItems`,e=>{let t=e.index,n=e.items.length,r=[...e.items];for(;r.length>0;){let e=r.shift();this.#t[t++]=new qi(this.#e,e,this.#e.players.findPlayer(e.player),this.#e.players.self)}this.emit(`itemsReceived`,[this.#t.slice(e.index,e.index+n),e.index])}).on(`connected`,()=>{this.#n=[],this.#t=[],this.#e.storage.notify([`_read_hints_${this.#e.players.self.team}_${this.#e.players.self.slot}`],this.#r.bind(this)).then(e=>{this.#n=e[`_read_hints_${this.#e.players.self.team}_${this.#e.players.self.slot}`].map(e=>new ta(this.#e,e)),this.emit(`hintsInitialized`,[this.#n])}).catch(e=>{throw e})})}get received(){return[...this.#t]}get hints(){return[...this.#n]}get count(){return this.#t.length}#r(e,t){for(let e=0;e<t.length;e++)this.#n[e]===void 0?(this.#n[e]=new ta(this.#e,t[e]),this.emit(`hintReceived`,[this.#n[e]])):this.#n[e].found!==t[e].found&&(this.#n[e]=new ta(this.#e,t[e]),this.emit(`hintFound`,[this.#n[e]]))}},ra=class{client;part;constructor(e,t){this.client=e,this.part=t}toString(){return this.text}},ia=class extends ra{part;type=`item`;item;constructor(e,t,n,r){super(e,t);let i=e.players.findPlayer(t.player,r.team);this.part=t,this.item=new qi(e,n,i,r)}get text(){return this.item.name}},aa=class extends ra{#e;part;type=`location`;id;constructor(e,t){super(e,t);let n=e.players.findPlayer(t.player),r=e.package.findPackage(n.game);this.part=t,t.type===`location_name`?(this.#e=t.text,this.id=r.locationTable[t.text]):(this.id=parseInt(t.text),this.#e=e.package.lookupLocationName(n.game,this.id,!0))}get text(){return this.#e}},oa=class extends ra{part;type=`color`;color;constructor(e,t){super(e,t),this.part=t,this.color=t.color}get text(){return this.part.text}},sa=class extends ra{part;type;constructor(e,t){super(e,t),this.part=t,this.part.type===`entrance_name`?this.type=`entrance`:this.type=`text`}get text(){return this.part.text}},ca=class extends ra{part;type=`player`;player;constructor(e,t){if(super(e,t),this.part=t,t.type===`player_id`)this.player=e.players.findPlayer(parseInt(t.text));else{let n=e.players.teams[e.players.self.team].find(e=>e.name===t.text);if(!n)throw Error(`Cannot find player under name: ${t.text}`);this.player=n}}get text(){return this.player.alias}},la=class extends $i{#e;#t=[];get log(){return[...this.#t]}constructor(e){super(),this.#e=e,this.#e.socket.on(`printJSON`,this.#n.bind(this))}async say(e){if(!this.#e.authenticated)throw new Vi(`Cannot send chat messages without being authenticated.`);e=e.trim();let t={cmd:`Say`,text:e};this.#e.socket.send(t),await this.wait(`chat`,t=>t===e)}#n(e){let t=[];for(let n of e.data)switch(n.type){case`item_id`:case`item_name`:{let r=e,i;i=r.type===`ItemCheat`?this.#e.players.findPlayer(r.receiving,r.team):this.#e.players.findPlayer(r.receiving),t.push(new ia(this.#e,n,r.item,i));break}case`location_id`:case`location_name`:t.push(new aa(this.#e,n));break;case`color`:t.push(new oa(this.#e,n));break;case`player_id`:case`player_name`:t.push(new ca(this.#e,n));break;default:t.push(new sa(this.#e,n));break}let n=t.map(e=>e.text).join();switch(this.#e.options.maximumMessages>=1&&(this.log.push({text:n,nodes:t}),this.log.splice(0,this.log.length-this.#e.options.maximumMessages)),e.type){case`ItemSend`:{let r=this.#e.players.findPlayer(e.item.player),i=this.#e.players.findPlayer(e.receiving),a=new qi(this.#e,e.item,r,i);this.emit(`itemSent`,[n,a,t]);break}case`ItemCheat`:{let r=this.#e.players.findPlayer(e.item.player,e.team),i=this.#e.players.findPlayer(e.receiving,e.team),a=new qi(this.#e,e.item,r,i);this.emit(`itemCheated`,[n,a,t]);break}case`Hint`:{let r=this.#e.players.findPlayer(e.item.player),i=this.#e.players.findPlayer(e.receiving),a=new qi(this.#e,e.item,r,i);this.emit(`itemHinted`,[n,a,e.found,t]);break}case`Join`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`connected`,[n,r,e.tags,t]);break}case`Part`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`disconnected`,[n,r,t]);break}case`Chat`:{let n=this.#e.players.findPlayer(e.slot,e.team);this.emit(`chat`,[e.message,n,t]);break}case`ServerChat`:this.emit(`serverChat`,[e.message,t]);break;case`TagsChanged`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`tagsUpdated`,[n,r,e.tags,t]);break}case`Tutorial`:this.emit(`tutorial`,[n,t]);break;case`CommandResult`:this.emit(`userCommand`,[n,t]);break;case`AdminCommandResult`:this.emit(`adminCommand`,[n,t]);break;case`Goal`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`goaled`,[n,r,t]);break}case`Release`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`released`,[n,r,t]);break}case`Collect`:{let r=this.#e.players.findPlayer(e.slot,e.team);this.emit(`collected`,[n,r,t]);break}case`Countdown`:this.emit(`countdown`,[n,e.countdown,t])}this.emit(`message`,[n,t])}},ua=class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}toString(){return this.alias}get name(){return this.#t.name}get alias(){return this.#t.alias}get game(){return this.slot===0?`Archipelago`:this.#n.game}get type(){return this.slot===0?Li.spectator:this.#n.type}get team(){return this.#t.team}get slot(){return this.#t.slot}get members(){return this.type===Li.group?this.#e.players.teams[this.team].filter(e=>this.#n.group_members.includes(e.slot)):[]}get groups(){return this.slot===0?[]:this.#e.players.teams[this.team].filter(e=>e.slot!==0&&this.#e.players.slots[e.slot].group_members.includes(this.slot))}async fetchStatus(){return this.type===Li.group?Ni.goal:await this.#e.storage.fetch(`_read_client_status_${this.team}_${this.slot}`)??0}async fetchSlotData(){return await this.#e.storage.fetch(`_read_slot_data_${this.slot}`)}async fetchHints(){return(await this.#e.storage.fetch(`_read_hints_${this.team}_${this.slot}`)).map(e=>new ta(this.#e,e))}get#n(){return this.#e.players.slots[this.slot]}},da=class extends $i{#e;#t=[];#n={};#r=0;#i=0;constructor(e){super(),this.#e=e,this.#e.socket.on(`connected`,e=>{this.#n=Object.freeze(e.slot_info),this.#t=[],this.#r=e.slot,this.#i=e.team;for(let t of e.players)this.#t[t.team]??=[{team:t.team,slot:0,name:`Archipelago`,alias:`Archipelago`}],this.#t[t.team][t.slot]=t}).on(`roomUpdate`,e=>{if(e.players){for(let t of e.players)if(this.#t[t.team][t.slot].alias!==t.alias){let e=this.#t[t.team][t.slot].alias;this.#t[t.team][t.slot]=t,this.emit(`aliasUpdated`,[new ua(this.#e,t),e,t.alias])}}})}get self(){if(this.#r===0)throw Error(`Cannot lookup own player object when client has never connected to a server.`);return new ua(this.#e,this.#t[this.#i][this.#r])}get slots(){return this.#n}get teams(){let e=[];for(let t=0;t<this.#t.length;t++){e[t]=[];for(let n=0;n<this.#t[t].length;n++)e[t].push(new ua(this.#e,this.#t[t][n]))}return e}findPlayer(e,t){if(t===void 0&&(t=this.#e.players.self.team),this.#t[t])return new ua(this.#e,this.#t[t][e])}},fa=class extends $i{#e;#t={major:-1,minor:-1,build:-1};#n={major:-1,minor:-1,build:-1};#r=[];#i=[];#a=``;#o=!1;#s=0;#c=0;#l=0;#u={release:0,collect:0,remaining:0};#d=[];#f=[];#p=!1;get serverVersion(){return{...this.#t}}get generatorVersion(){return{...this.#n}}get games(){return[...this.#r]}get tags(){return[...this.#i]}get seedName(){return this.#a}get password(){return this.#o}get permissions(){return{...this.#u}}get hintPoints(){return this.#s}get hintCost(){return this.hintCostPercentage>0?Math.max(1,Math.floor(this.hintCostPercentage*this.allLocations.length*.01)):0}get hintCostPercentage(){return this.#c}get locationCheckPoints(){return this.#l}get missingLocations(){return[...this.#d].sort()}get checkedLocations(){return[...this.#f].sort()}get allLocations(){return[...this.#d,...this.#f].sort()}get race(){return this.#p}constructor(e){super(),this.#e=e,this.#e.socket.on(`roomInfo`,e=>{this.#t={major:e.version.major,minor:e.version.minor,build:e.version.build},this.#n={major:e.generator_version.major,minor:e.generator_version.minor,build:e.generator_version.build},this.#i=e.tags,this.#r=e.games,this.#a=e.seed_name,this.#o=e.password,this.#u=e.permissions,this.#c=e.hint_cost,this.#l=e.location_check_points}).on(`connected`,e=>{this.#d=e.missing_locations,this.#f=e.checked_locations,this.emit(`locationsChecked`,[this.checkedLocations]),this.#s=e.hint_points,this.emit(`hintPointsUpdated`,[0,e.hint_points])}).on(`roomUpdate`,e=>{if(e.hint_cost!==void 0){let[t,n]=[this.hintCost,this.hintCostPercentage];this.#c=e.hint_cost,this.emit(`hintCostUpdated`,[t,this.hintCost,n,this.hintCostPercentage])}if(e.hint_points!==void 0){let t=this.#s;this.#s=e.hint_points,this.emit(`hintPointsUpdated`,[t,this.hintPoints])}if(e.location_check_points!==void 0){let t=this.#l;this.#l=e.location_check_points,this.emit(`locationCheckPointsUpdated`,[t,this.locationCheckPoints])}if(e.password!==void 0&&(this.#o=e.password,this.emit(`passwordUpdated`,[this.password])),e.permissions!==void 0){let t=this.#u;this.#u=e.permissions,this.emit(`permissionsUpdated`,[t,this.permissions])}e.checked_locations!==void 0&&(this.#f=[...this.#f,...e.checked_locations],this.#d=this.missingLocations.filter(t=>!e.checked_locations?.includes(t)),this.emit(`locationsChecked`,[e.checked_locations]))})}},pa=class extends $i{#e=null;#t=!1;constructor(){super()}get connected(){return this.#t}get url(){return this.#e?.url??``}send(...e){if(this.#e)return this.#e.send(JSON.stringify(e)),this.emit(`sentPackets`,[e]),this;throw new Ri(`Unable to send packets to the server; not connected to a server.`)}async connect(e){if(this.disconnect(),typeof e==`string`){if(!/^([a-zA-Z]+:)\/\/[A-Za-z0-9_.~\-:]+/i.test(e))try{return await this.connect(new URL(`wss://${e}`))}catch{return await this.connect(new URL(`ws://${e}`))}e=new URL(e)}if(e.port=e.port||`38281`,e.protocol!==`wss:`&&e.protocol!==`ws:`)throw TypeError(`Unexpected protocol. Archipelago only supports the ws:// and wss:// protocols.`);try{return new Promise((t,n)=>{let r=this.#r();if(r===null)throw new Ri(`Unable to find a suitable WebSocket API in the current runtime.`);this.#e=new r(e),this.#e.onmessage=this.#n.bind(this),this.#e.onclose=()=>{this.disconnect(),n(new Ri(`Failed to connect to Archipelago server.`))},this.#e.onerror=()=>{this.disconnect(),n(new Ri(`Failed to connect to Archipelago server.`))},this.#e.onopen=()=>{this.wait(`roomInfo`).then(([e])=>{if(this.#t=!0,this.#e){this.#e.onclose=this.disconnect.bind(this),this.#e.onerror=this.disconnect.bind(this),t(e);return}this.disconnect(),n(new Ri(`Failed to connect to Archipelago server.`))}).catch(e=>{throw e})}})}catch(e){throw this.disconnect(),e}}disconnect(){this.connected&&(this.#t=!1,this.#e?.close(),this.#e=null,this.emit(`disconnected`,[]))}#n(e){let t=JSON.parse(e.data);for(let e of t){switch(e.cmd){case`ConnectionRefused`:this.emit(`connectionRefused`,[e]);break;case`Bounced`:this.emit(`bounced`,[e,e.data]);break;case`Connected`:this.emit(`connected`,[e]);break;case`DataPackage`:this.emit(`dataPackage`,[e]);break;case`InvalidPacket`:this.emit(`invalidPacket`,[e]);break;case`LocationInfo`:this.emit(`locationInfo`,[e]);break;case`PrintJSON`:this.emit(`printJSON`,[e]);break;case`ReceivedItems`:this.emit(`receivedItems`,[e]);break;case`Retrieved`:this.emit(`retrieved`,[e]);break;case`RoomInfo`:this.emit(`roomInfo`,[e]);break;case`RoomUpdate`:this.emit(`roomUpdate`,[e]);break;case`SetReply`:this.emit(`setReply`,[e]);break}this.emit(`receivedPacket`,[e])}}#r(){let e=null;return typeof window<`u`?e=window.WebSocket||window.MozWebSocket:typeof global<`u`?e=global.WebSocket||global.MozWebSocket:typeof self<`u`?e=self.WebSocket||self.MozWebSocket:typeof WebSocket<`u`?e=WebSocket:typeof MozWebSocket<`u`&&(e=MozWebSocket),e}},ma=class{#e=!1;#t=Ki;#n=``;#r=``;socket=new pa;package=new Yi(this);storage=new Zi(this);room=new fa(this);players=new da(this);items=new na(this);messages=new la(this);deathLink=new ea(this);options;get authenticated(){return this.socket.connected&&this.#e}get name(){return this.#n}get game(){return this.#r}get arguments(){return{...this.#t}}constructor(e){e?this.options={...Hi,...e}:this.options={...Hi},this.socket.on(`disconnected`,()=>{this.#e=!1}).on(`sentPackets`,e=>{for(let t of e)t.cmd===`ConnectUpdate`&&(this.#t.tags=t.tags,this.#t.items=t.items_handling)})}async login(e,t,n=``,r){if(t===``)throw new zi(`Provided slot name cannot be blank.`,`name`,t);r?this.#t={...Ki,...r}:this.#t={...Ki};let i=new Set(this.arguments.tags);!n&&!i.has(`HintGame`)&&!i.has(`Tracker`)&&!i.has(`TextOnly`)&&i.add(`TextOnly`),this.#t.tags=Array.from(i);let a={cmd:`Connect`,name:t,game:n,password:this.arguments.password,slot_data:this.arguments.slotData,items_handling:this.arguments.items,uuid:this.arguments.uuid,tags:this.arguments.tags,version:{...this.arguments.version,class:`Version`}};return await this.socket.connect(e),this.options.autoFetchDataPackage&&await this.package.fetchPackage(),new Promise((e,t)=>{let n=setTimeout(()=>t(new Ri(`Server failed to respond in time.`)),this.options.timeout),r=t=>{this.#e=!0,this.#r=t.slot_info[t.slot].game,this.#n=t.slot_info[t.slot].name,this.socket.off(`connected`,r).off(`connectionRefused`,i),clearTimeout(n),e(t.slot_data)},i=e=>{this.socket.off(`connected`,r).off(`connectionRefused`,i),clearTimeout(n),t(new Bi(`Connection was refused by the server. Reason(s): [${e.errors?.join(`, `)}`,e.errors??[]))};this.socket.on(`connected`,r.bind(this)).on(`connectionRefused`,i.bind(this)).send(a)})}updateStatus(e){if(!this.authenticated)throw new Vi(`Cannot update status while not connected and authenticated.`);this.socket.send({cmd:`StatusUpdate`,status:e})}goal(){this.updateStatus(Ni.goal)}updateTags(e){if(!this.authenticated)throw new Vi(`Cannot update tags while not connected and authenticated.`);this.socket.send({cmd:`ConnectUpdate`,tags:e,items_handling:this.arguments.items})}updateItemsHandling(e){if(!this.authenticated)throw new Vi(`Cannot update tags while not connected and authenticated.`);this.socket.send({cmd:`ConnectUpdate`,tags:this.arguments.tags,items_handling:e})}check(...e){if(!this.authenticated)throw new Vi(`Cannot check locations while not connected and authenticated.`);e=e.filter(e=>this.room.missingLocations.includes(e)),this.socket.send({cmd:`LocationChecks`,locations:e})}async scout(e,t=0){if(!this.authenticated)throw new Vi(`Cannot scout locations while not connected and authenticated.`);e=e.filter(e=>this.room.allLocations.includes(e));let[n]=await this.socket.send({cmd:`LocationScouts`,create_as_hint:t,locations:e}).wait(`locationInfo`,t=>t.locations.map(e=>e.location).toSorted().join(`,`)===e.toSorted().join(`,`));return n.locations.map(e=>new qi(this,e,this.players.self,this.players.findPlayer(e.player)))}bounce(e,t){if(!this.authenticated)throw new Vi(`Cannot send bounces while not connected and authenticated.`);this.socket.send({cmd:`Bounce`,data:t,games:e.games??[],slots:e.slots??[],tags:e.tags??[]})}},ha=[`forEach`,`isDisjointFrom`,`isSubsetOf`,`isSupersetOf`],ga=[`difference`,`intersection`,`symmetricDifference`,`union`],_a=!1,va=class e extends Set{#e=new Map;#t=L(0);#n=L(0);#r=An||-1;constructor(e){if(super(),e){for(var t of e)super.add(t);this.#n.v=super.size}_a||this.#a()}#i(e){return An===this.#r?L(e):St(e)}#a(){_a=!0;var t=e.prototype,n=Set.prototype;for(let e of ha)t[e]=function(...t){return K(this.#t),n[e].apply(this,t)};for(let r of ga)t[r]=function(...t){return K(this.#t),new e(n[r].apply(this,t))}}has(e){var t=super.has(e),n=this.#e,r=n.get(e);if(r===void 0){if(!t)return K(this.#t),!1;r=this.#i(!0),n.set(e,r)}return K(r),t}add(e){return super.has(e)||(super.add(e),R(this.#n,super.size),Et(this.#t)),this}delete(e){var t=super.delete(e),n=this.#e,r=n.get(e);return r!==void 0&&(n.delete(e),R(r,!1)),t&&(R(this.#n,super.size),Et(this.#t)),t}clear(){if(super.size!==0){super.clear();var e=this.#e;for(var t of e.values())R(t,!1);e.clear(),R(this.#n,0),Et(this.#t)}}keys(){return this.values()}values(){return K(this.#t),super.values()}entries(){return K(this.#t),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return K(this.#n)}},ya=class extends Map{#e=new Map;#t=L(0);#n=L(0);#r=An||-1;constructor(e){if(super(),e){for(var[t,n]of e)super.set(t,n);this.#n.v=super.size}}#i(e){return An===this.#r?L(e):St(e)}has(e){var t=this.#e,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#i(0),t.set(e,n);else return K(this.#t),!1;return K(n),!0}forEach(e,t){this.#a(),super.forEach(e,t)}get(e){var t=this.#e,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#i(0),t.set(e,n);else{K(this.#t);return}return K(n),super.get(e)}set(e,t){var n=this.#e,r=n.get(e),i=super.get(e),a=super.set(e,t),o=this.#t;if(r===void 0)r=this.#i(0),n.set(e,r),R(this.#n,super.size),Et(o);else if(i!==t){Et(r);var s=o.reactions===null?null:new Set(o.reactions);(s===null||!r.reactions?.every(e=>s.has(e)))&&Et(o)}return a}delete(e){var t=this.#e,n=t.get(e),r=super.delete(e);return n!==void 0&&(t.delete(e),R(this.#n,super.size),R(n,-1),Et(this.#t)),r}clear(){if(super.size!==0){super.clear();var e=this.#e;R(this.#n,0);for(var t of e.values())R(t,-1);Et(this.#t),e.clear()}}#a(){K(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var n=this.#i(0);e.set(t,n)}}for([,n]of this.#e)K(n)}keys(){return K(this.#t),super.keys()}values(){return this.#a(),super.values()}entries(){return this.#a(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return K(this.#n),super.size}};URLSearchParams,Symbol.iterator;const ba=2e3;function xa(e){let t=e.match(/^(Element|Intermediate|Compound)\s+(\d+)$/);if(t==null)return null;let[,n,r]=t;switch(n){case`Element`:return{id:Number(r),kind:Q.INPUT};case`Intermediate`:return{id:Number(r),kind:Q.INTERMEDIATE};case`Compound`:return{id:Number(r),kind:Q.OUTPUT}}return null}function Sa(e){switch(e.kind){case Q.INPUT:return`Element `+e.id;case Q.INTERMEDIATE:return`Intermediate `+e.id;case Q.OUTPUT:return`Compound `+e.id}}function Ca(e){switch(e.kind){case Q.INPUT:throw`Not a valid location`;case Q.INTERMEDIATE:return ba+e.id;case Q.OUTPUT:return e.id}}si(null);var wa=e(((e,t)=>{t.exports={}})),Ta=e(((e,t)=>{(function(){var e=`input is invalid type`,n=`finalize already called`,r=typeof window==`object`,i=r?window:{};i.JS_MD5_NO_WINDOW&&(r=!1);var a=!r&&typeof self==`object`,o=!i.JS_MD5_NO_NODE_JS&&typeof process==`object`&&process.versions&&process.versions.node;o?i=global:a&&(i=self);var s=!i.JS_MD5_NO_COMMON_JS&&typeof t==`object`&&t.exports,c=typeof define==`function`&&define.amd,l=!i.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<`u`,u=`0123456789abcdef`.split(``),d=[128,32768,8388608,-2147483648],f=[0,8,16,24],p=[`hex`,`array`,`digest`,`buffer`,`arrayBuffer`,`base64`],m=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`.split(``),h=[],g;if(l){var _=new ArrayBuffer(68);g=new Uint8Array(_),h=new Uint32Array(_)}var v=Array.isArray;(i.JS_MD5_NO_NODE_JS||!v)&&(v=function(e){return Object.prototype.toString.call(e)===`[object Array]`});var y=ArrayBuffer.isView;l&&(i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!y)&&(y=function(e){return typeof e==`object`&&e.buffer&&e.buffer.constructor===ArrayBuffer});var b=function(t){var n=typeof t;if(n===`string`)return[t,!0];if(n!==`object`||t===null)throw Error(e);if(l&&t.constructor===ArrayBuffer)return[new Uint8Array(t),!1];if(!v(t)&&!y(t))throw Error(e);return[t,!1]},x=function(e){return function(t){return new T(!0).update(t)[e]()}},S=function(){var e=x(`hex`);o&&(e=C(e)),e.create=function(){return new T},e.update=function(t){return e.create().update(t)};for(var t=0;t<p.length;++t){var n=p[t];e[n]=x(n)}return e},C=function(t){var n=wa(),r=wa().Buffer,a=r.from&&!i.JS_MD5_NO_BUFFER_FROM?r.from:function(e){return new r(e)};return function(i){if(typeof i==`string`)return n.createHash(`md5`).update(i,`utf8`).digest(`hex`);if(i==null)throw Error(e);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),v(i)||y(i)||i.constructor===r?n.createHash(`md5`).update(a(i)).digest(`hex`):t(i)}},w=function(e){return function(t,n){return new E(t,!0).update(n)[e]()}},ee=function(){var e=w(`hex`);e.create=function(e){return new E(e)},e.update=function(t,n){return e.create(t).update(n)};for(var t=0;t<p.length;++t){var n=p[t];e[n]=w(n)}return e};function T(e){if(e)h[0]=h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0,this.blocks=h,this.buffer8=g;else if(l){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}T.prototype.update=function(e){if(this.finalized)throw Error(n);var t=b(e);e=t[0];for(var r=t[1],i,a=0,o,s=e.length,c=this.blocks,u=this.buffer8;a<s;){if(this.hashed&&(this.hashed=!1,c[0]=c[16],c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),r)if(l)for(o=this.start;a<s&&o<64;++a)i=e.charCodeAt(a),i<128?u[o++]=i:i<2048?(u[o++]=192|i>>>6,u[o++]=128|i&63):i<55296||i>=57344?(u[o++]=224|i>>>12,u[o++]=128|i>>>6&63,u[o++]=128|i&63):(i=65536+((i&1023)<<10|e.charCodeAt(++a)&1023),u[o++]=240|i>>>18,u[o++]=128|i>>>12&63,u[o++]=128|i>>>6&63,u[o++]=128|i&63);else for(o=this.start;a<s&&o<64;++a)i=e.charCodeAt(a),i<128?c[o>>>2]|=i<<f[o++&3]:i<2048?(c[o>>>2]|=(192|i>>>6)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<f[o++&3],c[o>>>2]|=(128|i>>>6&63)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]):(i=65536+((i&1023)<<10|e.charCodeAt(++a)&1023),c[o>>>2]|=(240|i>>>18)<<f[o++&3],c[o>>>2]|=(128|i>>>12&63)<<f[o++&3],c[o>>>2]|=(128|i>>>6&63)<<f[o++&3],c[o>>>2]|=(128|i&63)<<f[o++&3]);else if(l)for(o=this.start;a<s&&o<64;++a)u[o++]=e[a];else for(o=this.start;a<s&&o<64;++a)c[o>>>2]|=e[a]<<f[o++&3];this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>>2]|=d[t&3],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},T.prototype.hash=function(){var e,t,n,r,i,a,o=this.blocks;this.first?(e=o[0]-680876937,e=(e<<7|e>>>25)-271733879<<0,r=(-1732584194^e&2004318071)+o[1]-117830708,r=(r<<12|r>>>20)+e<<0,n=(-271733879^r&(e^-271733879))+o[2]-1126478375,n=(n<<17|n>>>15)+r<<0,t=(e^n&(r^e))+o[3]-1316259209,t=(t<<22|t>>>10)+n<<0):(e=this.h0,t=this.h1,n=this.h2,r=this.h3,e+=(r^t&(n^r))+o[0]-680876936,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[1]-389564586,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[2]+606105819,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[3]-1044525330,t=(t<<22|t>>>10)+n<<0),e+=(r^t&(n^r))+o[4]-176418897,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[5]+1200080426,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[6]-1473231341,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[7]-45705983,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+o[8]+1770035416,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[9]-1958414417,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[10]-42063,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[11]-1990404162,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+o[12]+1804603682,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+o[13]-40341101,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+o[14]-1502002290,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+o[15]+1236535329,t=(t<<22|t>>>10)+n<<0,e+=(n^r&(t^n))+o[1]-165796510,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[6]-1069501632,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[11]+643717713,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[0]-373897302,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[5]-701558691,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[10]+38016083,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[15]-660478335,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[4]-405537848,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[9]+568446438,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[14]-1019803690,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[3]-187363961,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[8]+1163531501,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+o[13]-1444681467,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+o[2]-51403784,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+o[7]+1735328473,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+o[12]-1926607734,t=(t<<20|t>>>12)+n<<0,i=t^n,e+=(i^r)+o[5]-378558,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[8]-2022574463,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[11]+1839030562,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[14]-35309556,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[1]-1530992060,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[4]+1272893353,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[7]-155497632,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[10]-1094730640,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[13]+681279174,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[0]-358537222,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[3]-722521979,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[6]+76029189,t=(t<<23|t>>>9)+n<<0,i=t^n,e+=(i^r)+o[9]-640364487,e=(e<<4|e>>>28)+t<<0,r+=(i^e)+o[12]-421815835,r=(r<<11|r>>>21)+e<<0,a=r^e,n+=(a^t)+o[15]+530742520,n=(n<<16|n>>>16)+r<<0,t+=(a^n)+o[2]-995338651,t=(t<<23|t>>>9)+n<<0,e+=(n^(t|~r))+o[0]-198630844,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[7]+1126891415,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[14]-1416354905,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[5]-57434055,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[12]+1700485571,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[3]-1894986606,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[10]-1051523,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[1]-2054922799,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[8]+1873313359,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[15]-30611744,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[6]-1560198380,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[13]+1309151649,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+o[4]-145523070,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+o[11]-1120210379,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+o[2]+718787259,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+o[9]-343485551,t=(t<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},T.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return u[e>>>4&15]+u[e&15]+u[e>>>12&15]+u[e>>>8&15]+u[e>>>20&15]+u[e>>>16&15]+u[e>>>28&15]+u[e>>>24&15]+u[t>>>4&15]+u[t&15]+u[t>>>12&15]+u[t>>>8&15]+u[t>>>20&15]+u[t>>>16&15]+u[t>>>28&15]+u[t>>>24&15]+u[n>>>4&15]+u[n&15]+u[n>>>12&15]+u[n>>>8&15]+u[n>>>20&15]+u[n>>>16&15]+u[n>>>28&15]+u[n>>>24&15]+u[r>>>4&15]+u[r&15]+u[r>>>12&15]+u[r>>>8&15]+u[r>>>20&15]+u[r>>>16&15]+u[r>>>28&15]+u[r>>>24&15]},T.prototype.toString=T.prototype.hex,T.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[e&255,e>>>8&255,e>>>16&255,e>>>24&255,t&255,t>>>8&255,t>>>16&255,t>>>24&255,n&255,n>>>8&255,n>>>16&255,n>>>24&255,r&255,r>>>8&255,r>>>16&255,r>>>24&255]},T.prototype.array=T.prototype.digest,T.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.base64=function(){for(var e,t,n,r=``,i=this.array(),a=0;a<15;)e=i[a++],t=i[a++],n=i[a++],r+=m[e>>>2]+m[(e<<4|t>>>4)&63]+m[(t<<2|n>>>6)&63]+m[n&63];return e=i[a],r+=m[e>>>2]+m[e<<4&63]+`==`,r};function E(e,t){var n,r=b(e);if(e=r[0],r[1]){var i=[],a=e.length,o=0,s;for(n=0;n<a;++n)s=e.charCodeAt(n),s<128?i[o++]=s:s<2048?(i[o++]=192|s>>>6,i[o++]=128|s&63):s<55296||s>=57344?(i[o++]=224|s>>>12,i[o++]=128|s>>>6&63,i[o++]=128|s&63):(s=65536+((s&1023)<<10|e.charCodeAt(++n)&1023),i[o++]=240|s>>>18,i[o++]=128|s>>>12&63,i[o++]=128|s>>>6&63,i[o++]=128|s&63);e=i}e.length>64&&(e=new T(!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var u=e[n]||0;c[n]=92^u,l[n]=54^u}T.call(this,t),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=t}E.prototype=new T,E.prototype.finalize=function(){if(T.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();T.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(e),T.prototype.finalize.call(this)}};var D=S();D.md5=D,D.md5.hmac=ee(),s?t.exports=D:(i.md5=D,c&&define(function(){return D}))})()})),Ea=Ta();function Da(e,t){return ka(`[game=${e}] ${t}`)}function Oa(e,t){return ka(`[game=${e}] ${t}`)}function ka(e){let t=`apple.armor.ball.berry.boat.book.boots.car.chest.coin.egg.element.emerald.fire.hat.heart.hourglass.house.ice.key.leaf.magic.map.marker.metal.piece.potion.ring.rock.sand.sign.skull.sword.tree.water`.split(`.`),n=new Uint32Array(Ea.md5.arrayBuffer(e));return t[n[n.length-1]%t.length]}var Aa=Ta(),ja=new Set,Ma,Na=`Fool's ?.Powdered ?.King's ?.Pure ?.Impure ?.Glass of ?.Regulus of ?.Resin of ?.Spirit of ?.Butter of ?.Oil of ?.Salt of ?.? salt.? cornu.? vitriol.Lunar ?.Sugar of ?.Flowers of ?.? caustic.Caustic ?.? gum.? spirit.? of sulfur.? alkali.Oriental ?.? essence.Dried ?.Alchemical ?.Crystalline ?`.split(`.`),Pa=`Nigredo.Albedo.Citrinitas.Rubedo.Stibnium.Cuprum.Aurum.Ferrum.Plumbum.Hydragyrum.Argentum.Stannum.Bluestone.Cadmia.Calamine.Calomel.Calx.Calcanthum.Chalk.Chrome green.Chrome orange.Chrome red.Chrome yellow.Cinnabar.Cuprite.Galena.Antimony.Gypsum.Argentum.Lapis Solaris.Quicklime.Marcasite.Massicot.Litharge.Minium.Mercurius Praecipitatus.Orpiment.Nix Alba.Plumbago.Algaroth.Realgar.Potash.Vitriol.Alkahest.Azoth.Aqua`.split(`.`);function Fa(e){Ma=new Uint32Array(Aa.md5.arrayBuffer(``+e))}function Ia(){let e;do{Ma=new Uint32Array(Aa.md5.arrayBuffer(Ma));let t=Pa[Ma[Ma.length-1]%Pa.length];e=Na[Ma[0]%Na.length].replace(`?`,t)}while(ja.has(e));return ja.add(e),e}const La=si([]);si(!1);function Ra(e){console.log(e);let t=e.filter(e=>e.id>=100),n=e.filter(e=>e.id<100);La.update(e=>(e.push(za(t)),e)),La.update(e=>{for(let t of n)e.push(Ba(t));return e})}function za(e){if(e.length==0)return;let t=Oa(e[0]);return{title:`New elements available!`,description:`${Ga().get(e[0].name).location}${e.length>1?` + ${e.length-1} more`:``}`,image:`/sprites/elements/`+t+`.png`}}function Ba(e){let t=Oa(e);return{title:`Upgrade received!`,description:e.name,image:`/sprites/elements/`+t+`.png`}}const Va=si(new ma),Ha=si(null),Ua=si(null);var Wa=new ya;function Ga(){return Wa}var Ka=new va,qa=new va,Ja=L(Ot(new Set));function Ya(){return K(Ja)}var Xa=new va;const Za=new ya,Qa=new ya;function $a(e){return Xa.has(e)}var eo=new va;function to(e){return eo.has(e)}var no=new va;const ro=Ot({progressive_filter:0,field_size:10});function io(e){let t=xa(e);return{icon:`/sprites/elements/void.png`,alt:`void`,name:e,elem_id:t,location:e,player:t.kind===Q.INTERMEDIATE?Z(Va).players.self.alias:`Unknown`,game:t.kind===Q.INTERMEDIATE?Z(Va).players.self.game:`Unknown`}}function ao(e){let t=Z(Va);for(let n of e)no.delete(t.package.lookupLocationName(`Elementipelago`,n));no.size==0&&t.goal()}function oo(){let e=Z(Ua);if(e!=null){Z(Ha).compounds_are_ingredients?R(Ja,Ka.union(qa),!0):R(Ja,Ka,!0),Xa.clear(),eo.clear(),K(Ja).forEach(e=>eo.add(e));for(let[[t,n],r]of e.recipes.entries()){let e=Sa(t),i=Sa(n),a=K(Ja).has(e)&&K(Ja).has(i);for(let t of r)qa.has(Sa(t))||(a&&(Xa.add(e),Xa.add(i)),eo.delete(e),eo.delete(i))}Qa.clear(),Za.entries().map(([e,t])=>[e,{ingredient_1:Wa.get(t.ingredient_1)??io(t.ingredient_1),ingredient_2:Wa.get(t.ingredient_2)??io(t.ingredient_2),product:Wa.get(t.result)??io(t.result),found:t.found}]).forEach(([e,t])=>Qa.set(e,t))}}async function so(){let e=Z(Va),t=e.scout(e.room.allLocations.filter(e=>e<=ba),0);Fa(Z(Ha).graph_seed),lo(e.items.received),uo(e.room.checkedLocations);for(let t of e.room.missingLocations)t<=2e3||t>3e3||no.add(e.package.lookupLocationName(`Elementipelago`,t));for(let e of await t)if(!Wa.has(e.locationName)){let t=xa(e.locationName),n=t.kind===Q.INTERMEDIATE?Ia():e.name,r=Da(e.game,n);Wa.set(e.locationName,{elem_id:t,name:e.locationName,icon:`/sprites/elements/`+r+`.png`,alt:r,location:n,player:e.receiver.alias,game:e.receiver.game})}e.items.hints.forEach(e=>co(e)),oo(),ao([]),e.items.on(`hintsInitialized`,e=>{e.forEach(e=>co(e)),oo()}),e.items.on(`hintReceived`,e=>{co(e),oo()}),e.items.on(`hintFound`,e=>{Za.has(e.item.locationName)&&(Za.get(e.item.locationName).found=!0),oo()}),e.items.on(`itemsReceived`,lo),e.items.on(`itemsReceived`,oo),e.room.on(`locationsChecked`,uo),e.room.on(`locationsChecked`,oo),e.room.on(`locationsChecked`,ao)}function co(e){let t=e.item.locationName;if(Za.has(t))return;let n=Z(Ua);if(n==null)return;let r=0;for(let[[i,a],o]of n.recipes.entries())for(let n of o)if(Sa(n)==t){let n=Sa(i),o=Sa(a);Za.set(t+` `+r,{found:e.found,ingredient_1:n,ingredient_2:o,result:t}),r+=1}}function lo(e){for(let t of e){if(t.id<100){if(t.name==`TODO`)continue;t.name==`Progressive Filter`&&(ro.progressive_filter+=1),t.name==`Progressive Item Limit`&&(ro.field_size+=1);continue}let e=xa(t.name),n=e.kind===Q.INTERMEDIATE||t.locationGame===`Archipelago`?Ia():t.locationName,r=Oa(t.game,n);Ka.add(t.name),!Wa.has(t.name)&&Wa.set(t.name,{elem_id:e,name:t.name,icon:`/sprites/elements/`+r+`.png`,alt:r,location:n,player:t.sender.alias,game:t.sender.game})}Ra(e)}function uo(e){let t=Z(Va);for(let n of e)qa.add(t.package.lookupLocationName(`Elementipelago`,n))}var fo=18446744073709551615n;const Q={INPUT:1,INTERMEDIATE:2,OUTPUT:3};function po(){let e=Z(Ha);Ua.set(go(BigInt(e.graph_seed),e.element_amount,e.compound_amount,e.intermediate_amount,4,e.compounds_are_ingredients))}var mo=class{constructor(e){this.seed_x=e&fo,this.seed_y=e<<1n&fo}get_random(){let e=this.seed_x,t=this.seed_y;return this.seed_x=this.seed_y,e^=e<<23n&fo,e^=e>>17n,e^=t,this.seed_y=e+t&fo,e}};function ho(e,t){return[...Array(t-e)].map((t,n)=>e+n)}function go(e,t,n,r,i,a){let o=[],s=[],c=new ji.DeepSet,l=new mo(e),u=ho(1,t+1),d=ho(1,r+1),f=ho(1,n+1);for(let e=1;e<=i;e++)o.push([-1,-1,e,Q.INPUT]),u.splice(0,1);let p=0,m=0,h=u.length+d.length+f.length;for(;h>0;){let e=o.length,t=[],n=Math.min(Math.floor(e*e/2)-c.size-1,h-1),r=1;n>0&&(r=Number(l.get_random()%BigInt(n))+1);for(let n=0;n<r;n++){let n=-1;for(;n==-1;){let e=Number(l.get_random()%3n)+1;e==Q.INPUT&&m>p&&u.length>0?(n=Q.INPUT,p+=1):e==Q.INTERMEDIATE&&d.length>0?n=Q.INTERMEDIATE:e==Q.OUTPUT&&f.length>0&&(n=Q.OUTPUT,m+=1)}let r=0,i=0;do r=Number(l.get_random()%BigInt(e)),i=Number(l.get_random()%BigInt(e)),r>i&&([r,i]=[i,r]);while(c.has([r,i]));c.add([r,i]);let o;if(n==Q.INPUT){let e=Number(l.get_random()%BigInt(u.length));o=u.splice(e,1)[0]}else if(n==Q.INTERMEDIATE){let e=Number(l.get_random()%BigInt(d.length));o=d.splice(e,1)[0]}else if(n==Q.OUTPUT){let e=Number(l.get_random()%BigInt(f.length));o=f.splice(e,1)[0]}a||n!=Q.OUTPUT?t.push([r,i,o,n]):s.push([r,i,o,n])}h=u.length+d.length+f.length,o.push(...t)}o.push(...s);let g=new ji.DeepMap;for(let e of o){let[t,n,r,i]=e;if(i==Q.INPUT||t<0&&n<0)continue;let a=[{id:o[t][2],kind:o[t][3]},{id:o[n][2],kind:o[n][3]}],s={id:r,kind:i};g.has(a)?g.get(a).push(s):g.set(a,[s])}let _=ho(1,t+1).map(e=>Object({id:e,kind:Q.INPUT})).concat(ho(1,r+1).map(e=>Object({id:e,kind:Q.INTERMEDIATE})));return a&&_.concat(ho(1,n+1).map(e=>Object({id:e,kind:Q.OUTPUT}))),{recipes:g,ingredients:_}}var _o=q(`<div><img draggable="false"/> <div class="svelte-hdeu4a"><h1 class="svelte-hdeu4a"> </h1> <p class="svelte-hdeu4a"> </p> <p class="svelte-hdeu4a"> </p></div></div>`);function vo(e,t){Ae(t,!0);let n=ui(t,`x`,7),r=ui(t,`y`,7),i=ui(t,`offsetx`,7),a=ui(t,`offsety`,7);function o(){return K(x).elem_id}let s,c=L(0),l=L(0),u=I(()=>(K(c)-K(l))/2),d=I(()=>n()-i()-K(u)),f=I(()=>r()-a()),p=L(1e4),m=L(!1);function h(){return K(p)}function g(e){R(p,e,!0)}function _(){return s.getBoundingClientRect?.()}di(()=>{t.attach&&pi.set({index:t.index,mfunc:(e,t)=>{n(e),r(t)}})}),pi.subscribe(e=>{R(m,e!=null&&e.index===t.index,!0)});function v(e){bi.drag_start(),R(u,0),R(p,1e4),i(e.layerX),a(e.layerY),n(e.x),r(e.y),pi.set({index:t.index,mfunc:(e,t)=>{n(e),r(t)}})}let y=Ga(),b=I(()=>Sa(t.elem_id)),x=I(()=>y.get(K(b))??{icon:`/sprites/elements/void.png`,alt:`void`,location:`Loading...`,player:`Loading...`,elem_id:t.elem_id,name:K(b)});var S={get_elem_id:o,get_z_index:h,set_z_index:g,get_rect:_},C=_o(),w=z(C);w.__pointerdown=v,ni(w,e=>s=e,()=>s);var ee=B(w,2),T=z(ee),E=z(T,!0);M(T);var D=B(T,2),te=z(D);M(D);var ne=B(D,2),re=z(ne,!0);return M(ne),M(ee),M(C),nn(()=>{Br(C,1,`${K(m)?`dragged`:``} wrapper`,`svelte-hdeu4a`),Hr(C,`left: ${K(d)??``}px; top: ${K(f)??``}px; z-index: ${K(p)??``};`),X(w,`src`,K(x).icon),X(w,`alt`,K(x).alt),Br(w,1,`
            ${K(m)?`dragged`:``}
            ${K(x).elem_id.kind===Q.OUTPUT?`compound`:``}
        `,`svelte-hdeu4a`),Y(E,K(x).location),Y(te,`${K(x).elem_id.kind===Q.OUTPUT?`to`:`from`}
            ${K(x).player??``}`),Y(re,K(x).name)}),ei(w,`clientWidth`,e=>R(l,e)),kr(3,C,()=>_i,()=>({duration:100})),ei(C,`clientWidth`,e=>R(c,e)),J(e,C),je(S)}Zn([`pointerdown`]);const yo=si({x:0,y:0});var bo=q(`<img src="/sprites/ui/check.png" alt="exhausted" class="svelte-r0t3vv"/>`),xo=q(`<img src="/sprites/ui/burger.png" alt="BK" class="svelte-r0t3vv"/>`),So=q(`<li><img draggable="false" class="svelte-r0t3vv"/> <span class="info svelte-r0t3vv"><h1 class="svelte-r0t3vv"> </h1> <p class="svelte-r0t3vv"> </p> <p class="svelte-r0t3vv"> </p></span> <span class="icon svelte-r0t3vv"><!></span></li>`);function Co(e,t){Ae(t,!0);let n;function r(e){bi.drag_start(),yo.set({x:e.clientX,y:e.clientY});let{x:r,y:i}=Z(yo),a=n.getBoundingClientRect();t.mount_func(r,i,t.elem_data.elem_id,r-a.left,i-a.top,!0)}let i=I(()=>!$a(t.elem_data.name)&&ro.progressive_filter>1),a=I(()=>to(t.elem_data.name)&&ro.progressive_filter>0);var o=So(),s=z(o);s.__pointerdown=r;var c=B(s,2),l=z(c),u=z(l,!0);M(l);var d=B(l,2),f=z(d);M(d);var p=B(d,2),m=z(p,!0);M(p),M(c);var h=B(c,2),g=z(h),_=e=>{J(e,bo())},v=e=>{var t=nr(),n=Lt(t),r=e=>{J(e,xo())};ur(n,e=>{K(i)&&e(r)},!0),J(e,t)};ur(g,e=>{K(a)?e(_):e(v,!1)}),M(h),M(o),ni(o,e=>n=e,()=>n),nn(()=>{Br(o,1,`element ${K(i)||K(a)?`disabled`:``}`,`svelte-r0t3vv`),X(s,`src`,t.elem_data.icon),X(s,`alt`,t.elem_data.alt),Y(u,t.elem_data.location),Y(f,`from ${t.elem_data.player??``}`),Y(m,t.elem_data.name)}),J(e,o),je()}Zn([`pointerdown`]);function wo(e){return Array.isArray?Array.isArray(e):Fo(e)===`[object Array]`}var To=1/0;function Eo(e){if(typeof e==`string`)return e;let t=e+``;return t==`0`&&1/e==-To?`-0`:t}function Do(e){return e==null?``:Eo(e)}function Oo(e){return typeof e==`string`}function ko(e){return typeof e==`number`}function Ao(e){return e===!0||e===!1||Mo(e)&&Fo(e)==`[object Boolean]`}function jo(e){return typeof e==`object`}function Mo(e){return jo(e)&&e!==null}function No(e){return e!=null}function Po(e){return!e.trim().length}function Fo(e){return e==null?e===void 0?`[object Undefined]`:`[object Null]`:Object.prototype.toString.call(e)}var Io=`Incorrect 'index' type`,Lo=e=>`Invalid value for key ${e}`,Ro=e=>`Pattern length exceeds max of ${e}.`,zo=e=>`Missing ${e} property in key`,Bo=e=>`Property 'weight' in key '${e}' must be a positive integer`,Vo=Object.prototype.hasOwnProperty,Ho=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=Uo(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Uo(e){let t=null,n=null,r=null,i=1,a=null;if(Oo(e)||wo(e))r=e,t=Wo(e),n=Go(e);else{if(!Vo.call(e,`name`))throw Error(zo(`name`));let o=e.name;if(r=o,Vo.call(e,`weight`)&&(i=e.weight,i<=0))throw Error(Bo(o));t=Wo(o),n=Go(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function Wo(e){return wo(e)?e:e.split(`.`)}function Go(e){return wo(e)?e.join(`.`):e}function Ko(e,t){let n=[],r=!1,i=(e,t,a)=>{if(No(e))if(!t[a])n.push(e);else{let o=e[t[a]];if(!No(o))return;if(a===t.length-1&&(Oo(o)||ko(o)||Ao(o)))n.push(Do(o));else if(wo(o)){r=!0;for(let e=0,n=o.length;e<n;e+=1)i(o[e],t,a+1)}else t.length&&i(o,t,a+1)}};return i(e,Oo(t)?t.split(`.`):t,0),r?n:n[0]}var qo={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Jo={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Yo={location:0,threshold:.6,distance:100},Xo={useExtendedSearch:!1,getFn:Ko,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},$={...Jo,...qo,...Yo,...Xo},Zo=/[^ ]+/g;function Qo(e=1,t=3){let n=new Map,r=10**t;return{get(t){let i=t.match(Zo).length;if(n.has(i))return n.get(i);let a=1/i**(.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear(){n.clear()}}}var $o=class{constructor({getFn:e=$.getFn,fieldNormWeight:t=$.fieldNormWeight}={}){this.norm=Qo(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Oo(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();Oo(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)--this.records[t].i}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!No(e)||Po(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(No(i)){if(wo(i)){let e=[],t=[{nestedArrIndex:-1,value:i}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(No(r))if(Oo(r)&&!Po(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else wo(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(Oo(i)&&!Po(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function es(e,t,{getFn:n=$.getFn,fieldNormWeight:r=$.fieldNormWeight}={}){let i=new $o({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Uo)),i.setSources(t),i.create(),i}function ts(e,{getFn:t=$.getFn,fieldNormWeight:n=$.fieldNormWeight}={}){let{keys:r,records:i}=e,a=new $o({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function ns(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=$.distance,ignoreLocation:a=$.ignoreLocation}={}){let o=t/e.length;if(a)return o;let s=Math.abs(r-n);return i?o+s/i:s?1:o}function rs(e=[],t=$.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=e.length;a<o;a+=1){let o=e[a];o&&r===-1?r=a:!o&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var is=32;function as(e,t,n,{location:r=$.location,distance:i=$.distance,threshold:a=$.threshold,findAllMatches:o=$.findAllMatches,minMatchCharLength:s=$.minMatchCharLength,includeMatches:c=$.includeMatches,ignoreLocation:l=$.ignoreLocation}={}){if(t.length>is)throw Error(Ro(is));let u=t.length,d=e.length,f=Math.max(0,Math.min(r,d)),p=a,m=f,h=s>1||c,g=h?Array(d):[],_;for(;(_=e.indexOf(t,m))>-1;){let e=ns(t,{currentLocation:_,expectedLocation:f,distance:i,ignoreLocation:l});if(p=Math.min(e,p),m=_+u,h){let e=0;for(;e<u;)g[_+e]=1,e+=1}}m=-1;let v=[],y=1,b=u+d,x=1<<u-1;for(let r=0;r<u;r+=1){let a=0,s=b;for(;a<s;)ns(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=p?a=s:b=s,s=Math.floor((b-a)/2+a);b=s;let c=Math.max(1,f-s+1),_=o?d:Math.min(f+s,d)+u,S=Array(_+2);S[_+1]=(1<<r)-1;for(let a=_;a>=c;--a){let o=a-1,s=n[e.charAt(o)];if(h&&(g[o]=+!!s),S[a]=(S[a+1]<<1|1)&s,r&&(S[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),S[a]&x&&(y=ns(t,{errors:r,currentLocation:o,expectedLocation:f,distance:i,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=f)break;c=Math.max(1,2*f-m)}}if(ns(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>p)break;v=S}let S={isMatch:m>=0,score:Math.max(.001,y)};if(h){let e=rs(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function os(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var ss=String.prototype.normalize?(e=>e.normalize(`NFD`).replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,``)):(e=>e),cs=class{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l},e=s?e:e.toLowerCase(),e=c?ss(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let u=(e,t)=>{this.chunks.push({pattern:e,alphabet:os(e),startIndex:t})},d=this.pattern.length;if(d>is){let e=0,t=d%is,n=d-t;for(;e<n;)u(this.pattern.substr(e,is),e),e+=is;if(t){let e=d-is;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?ss(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}let{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options,u=[],d=0,f=!1;this.chunks.forEach(({pattern:t,alphabet:n,startIndex:p})=>{let{isMatch:m,score:h,indices:g}=as(e,t,n,{location:i+p,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});m&&(f=!0),d+=h,m&&g&&(u=[...u,...g])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(p.indices=u),p}},ls=class{constructor(e){this.pattern=e}static isMultiMatch(e){return us(e,this.multiRegex)}static isSingleMatch(e){return us(e,this.singleRegex)}search(){}};function us(e,t){let n=e.match(t);return n?n[1]:null}var ds=class extends ls{constructor(e){super(e)}static get type(){return`exact`}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},fs=class extends ls{constructor(e){super(e)}static get type(){return`inverse-exact`}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},ps=class extends ls{constructor(e){super(e)}static get type(){return`prefix-exact`}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ms=class extends ls{constructor(e){super(e)}static get type(){return`inverse-prefix-exact`}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},hs=class extends ls{constructor(e){super(e)}static get type(){return`suffix-exact`}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},gs=class extends ls{constructor(e){super(e)}static get type(){return`inverse-suffix-exact`}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},_s=class extends ls{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){super(e),this._bitapSearch=new cs(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return`fuzzy`}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},vs=class extends ls{constructor(e){super(e)}static get type(){return`include`}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n,r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);let a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}},ys=[ds,vs,ps,ms,gs,hs,fs,_s],bs=ys.length,xs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ss=`|`;function Cs(e,t={}){return e.split(Ss).map(e=>{let n=e.trim().split(xs).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],a=!1,o=-1;for(;!a&&++o<bs;){let e=ys[o],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),a=!0)}if(!a)for(o=-1;++o<bs;){let e=ys[o],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}var ws=new Set([_s.type,vs.type]),Ts=class{constructor(e,{isCaseSensitive:t=$.isCaseSensitive,ignoreDiacritics:n=$.ignoreDiacritics,includeMatches:r=$.includeMatches,minMatchCharLength:i=$.minMatchCharLength,ignoreLocation:a=$.ignoreLocation,findAllMatches:o=$.findAllMatches,location:s=$.location,threshold:c=$.threshold,distance:l=$.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?ss(e):e,this.pattern=e,this.query=Cs(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?ss(e):e;let a=0,o=[],s=0;for(let r=0,i=t.length;r<i;r+=1){let i=t[r];o.length=0,a=0;for(let t=0,r=i.length;t<r;t+=1){let r=i[t],{isMatch:c,indices:l,score:u}=r.search(e);if(c){if(a+=1,s+=u,n){let e=r.constructor.type;ws.has(e)?o=[...o,...l]:o.push(l)}}else{s=0,a=0,o.length=0;break}}if(a){let e={isMatch:!0,score:s/a};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}},Es=[];function Ds(...e){Es.push(...e)}function Os(e,t){for(let n=0,r=Es.length;n<r;n+=1){let r=Es[n];if(r.condition(e,t))return new r(e,t)}return new cs(e,t)}var ks={AND:`$and`,OR:`$or`},As={PATH:`$path`,PATTERN:`$val`},js=e=>!!(e[ks.AND]||e[ks.OR]),Ms=e=>!!e[As.PATH],Ns=e=>!wo(e)&&jo(e)&&!js(e),Ps=e=>({[ks.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Fs(e,t,{auto:n=!0}={}){let r=e=>{let i=Object.keys(e),a=Ms(e);if(!a&&i.length>1&&!js(e))return r(Ps(e));if(Ns(e)){let r=a?e[As.PATH]:i[0],o=a?e[As.PATTERN]:e[r];if(!Oo(o))throw Error(Lo(r));let s={keyId:Go(r),pattern:o};return n&&(s.searcher=Os(o,t)),s}let o={children:[],operator:i[0]};return i.forEach(t=>{let n=e[t];wo(n)&&n.forEach(e=>{o.children.push(r(e))})}),o};return js(e)||(e=Ps(e)),r(e)}function Is(e,{ignoreFieldNorm:t=$.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let a=e?e.weight:null;n*=(i===0&&a?2**-52:i)**+((a||1)*(t?1:r))}),e.score=n})}function Ls(e,t){let n=e.matches;t.matches=[],No(n)&&n.forEach(e=>{if(!No(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Rs(e,t){t.score=e.score}function zs(e,t,{includeMatches:n=$.includeMatches,includeScore:r=$.includeScore}={}){let i=[];return n&&i.push(Ls),r&&i.push(Rs),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}var Bs=class{constructor(e,t={},n){this.options={...$,...t},this.options.useExtendedSearch,this._keyStore=new Ho(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof $o))throw Error(Io);this._myIndex=t||es(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){No(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),--n,--r,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:o}=this.options,s=Oo(e)?Oo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Is(s,{ignoreFieldNorm:o}),i&&s.sort(a),ko(t)&&t>-1&&(s=s.slice(0,t)),zs(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=Os(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!No(e))return;let{isMatch:a,score:o,indices:s}=t.searchIn(e);a&&r.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=Fs(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,a=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return a&&a.length?[{idx:r,item:t,matches:a}]:[]}let i=[];for(let a=0,o=e.children.length;a<o;a+=1){let o=e.children[a],s=n(o,t,r);if(s.length)i.push(...s);else if(e.operator===ks.AND)return[]}return i},r=this._myIndex.records,i={},a=[];return r.forEach(({$:e,i:r})=>{if(No(e)){let o=n(t,e,r);o.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},a.push(i[r])),o.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),a}_searchObjectList(e){let t=Os(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!No(e))return;let a=[];n.forEach((n,r)=>{a.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),a.length&&i.push({idx:r,item:e,matches:a})}),i}_findMatches({key:e,value:t,searcher:n}){if(!No(t))return[];let r=[];if(wo(t))t.forEach(({v:t,i,n:a})=>{if(!No(t))return;let{isMatch:o,score:s,indices:c}=n.searchIn(t);o&&r.push({score:s,key:e,value:t,idx:i,norm:a,indices:c})});else{let{v:i,n:a}=t,{isMatch:o,score:s,indices:c}=n.searchIn(i);o&&r.push({score:s,key:e,value:i,norm:a,indices:c})}return r}};Bs.version=`7.1.0`,Bs.createIndex=es,Bs.parseIndex=ts,Bs.config=$,Bs.parseQuery=Fs,Ds(Ts);var Vs=q(`<div id="drawer-parent" class="svelte-1tpva5q"><input class="svelte-1tpva5q"/> <ul id="drawer" class="svelte-1tpva5q"></ul> <span></span></div>`);function Hs(e,t){Ae(t,!0);let n=L(``),r=L(!1),i=I(()=>{let e=Ga(),t=Array.from(Ya().values().map(t=>e.get(t)).filter(e=>e.elem_id!=null)).sort((e,t)=>{let n=0;return ro.progressive_filter>1&&(n||=$a(t.name)-$a(e.name)),ro.progressive_filter>0&&(n||=to(e.name)-to(t.name)),n||e.elem_id.kind-t.elem_id.kind||e.elem_id.id-t.elem_id.id});return K(n)===``?t:new Bs(t,{keys:[{name:`location`,weight:1},{name:`player`,weight:.5},{name:`name`,weight:.5}],threshold:.3}).search(K(n)).sort((e,t)=>t.score-e.score).map(e=>e.item)});pi.subscribe(e=>{R(r,e!==null)});var a=Vs(),o=z(a);Gr(o);var s=B(o,2);hr(s,21,()=>K(i),dr,(e,n)=>{Co(e,{get elem_data(){return K(n)},get mount_func(){return t.mount_func}})}),M(s);var c=B(s,2);M(a),nn(()=>Br(c,1,Pr(K(r)?`show-discard`:t.mounted_elements.size>=ro.field_size?`show-blocking`:``),`svelte-1tpva5q`)),Yr(o,()=>K(n),e=>R(n,e)),J(e,a),je()}Oe();var Us=q(`<div class="login svelte-3z0wmw"><h1 class="svelte-3z0wmw">elementipelago</h1> <label class="svelte-3z0wmw">Host <input placeholder="archipelago.gg:38281"/></label> <label class="svelte-3z0wmw">Slot / Player name <input placeholder="MySlotName"/></label> <label class="svelte-3z0wmw">Password (optional) <input type="password"/></label> <button class="svelte-3z0wmw"> </button> <div class="error svelte-3z0wmw"> </div></div> <div class="download svelte-3z0wmw">Download AP world here <a href="https://github.com/peppidesu/elementipelago/releases" class="svelte-3z0wmw"><img src="/sprites/ui/download.png" class="svelte-3z0wmw"/></a></div>`,1);function Ws(e,t){Ae(t,!1);let n=ui(t,`onSubmit`,8),r=Ct(localStorage.getItem(`ap.host`)??`archipelago.gg:38281`),i=Ct(localStorage.getItem(`ap.slot`)??``),a=Ct(localStorage.getItem(`ap.password`)??``),o=Ct(!1),s=Ct(``);async function c(){R(s,``);try{R(o,!0),localStorage.setItem(`ap.host`,K(r)),localStorage.setItem(`ap.slot`,K(i)),localStorage.setItem(`ap.password`,K(a));let e=await Z(Va).login(K(r),K(i),`Elementipelago`,K(a)==``?{}:{password:K(a)});Ha.set(e),n()()}catch(e){R(s,e.message)}finally{R(o,!1)}}ri();var l=Us(),u=Lt(l),d=B(z(u),2),f=B(z(d));Gr(f),M(d);var p=B(d,2),m=B(z(p));Gr(m),M(p);var h=B(p,2),g=B(z(h));Gr(g),M(h);var _=B(h,2),v=z(_,!0);M(_);var y=B(_,2),b=z(y,!0);M(y),M(u),xe(2),nn(()=>{_.disabled=K(o)||!K(r)||!K(i),Y(v,K(o)?`Connecting...`:`Connect to multiworld`),Y(b,K(s))}),Yr(f,()=>K(r),e=>R(r,e)),Yr(m,()=>K(i),e=>R(i,e)),Yr(g,()=>K(a),e=>R(a,e)),Xn(`click`,_,c),J(e,l),je()}var Gs=q(`<div id="playfield"></div>`);function Ks(e,t){Ae(t,!1);function n(e){Array.from(e).toSorted(([e,t],[n,r])=>Number(t.get_z_index())-Number(r.get_z_index())).forEach(([e,t],n)=>t.set_z_index(String(n+1)))}var r={handle_dropped:n};return ri(),J(e,Gs()),Qr(t,`handle_dropped`,n),je(r)}var qs=q(`<div class="svelte-1q6vvua"><h1 class="svelte-1q6vvua"> </h1> <p class="svelte-1q6vvua"> </p> <img class="svelte-1q6vvua"/></div>`);function Js(e,t){Ae(t,!0);let n=L(null),r=L(!1),i=L(0);La.subscribe(o),Yt(o);function a(){clearTimeout(K(i)),s()}function o(){!K(r)&&Z(La).length>0&&K(n)==null&&(La.update(e=>(R(n,e.splice(0,1)[0],!0),e)),R(r,!0),bi.toast(),R(i,setTimeout(s,5e3),!0))}function s(){R(n,null),setTimeout(()=>R(r,!1),200)}var c=nr(),l=Lt(c),u=e=>{var t=qs();t.__pointerup=a;var r=z(t),i=z(r,!0);M(r);var o=B(r,2),s=z(o,!0);M(o);var c=B(o,2);M(t),nn(()=>{Y(i,K(n).title),Y(s,K(n).description),X(c,`src`,K(n).image)}),kr(3,t,()=>gi,()=>({duration:200,x:`100%`,y:0})),J(e,t)};ur(l,e=>{K(n)!=null&&e(u)}),J(e,c),je()}Zn([`pointerup`]);function Ys(e){return e}var Xs=q(`<div class="bg svelte-sraem3"><div class="window-wrapper svelte-sraem3"><!> <button class="svelte-sraem3">X</button></div></div>`);function Zs(e,t){function n(e,t){return{delay:t.delay||0,duration:t.duration||300,easing:t.easing||Ys,css:(e,n)=>`backdrop-filter: blur(${e*(t.blur||5)}px)`}}var r=nr(),i=Lt(r),a=e=>{var r=Xs(),i=z(r),a=z(i);br(a,()=>t.children);var o=B(a,2);o.__click=function(...e){t.onClose?.apply(this,e)},M(i),M(r),kr(3,i,()=>gi,()=>({duration:300,y:`-30%`})),kr(3,r,()=>n),J(e,r)};ur(i,e=>{t.show&&e(a)}),J(e,r)}Zn([`click`]);var Qs=q(`<li class="svelte-1roe1v9"><span></span> <pre class="svelte-1roe1v9"> </pre></li>`),$s=q(`<div class="svelte-1roe1v9"><ul class="svelte-1roe1v9"></ul> <input class="svelte-1roe1v9"/> <h1 class="svelte-1roe1v9">Chat</h1></div>`);function ec(e,t){Ae(t,!0);let n=Ot([]),r=L(``);Z(Va).messages.on(`message`,(e,t)=>{n.push(e)});let i=e=>{e.scrollIntoView({behavior:`smooth`,block:`end`})};Zs(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var a=$s(),o=z(a);hr(o,21,()=>n,dr,(e,t)=>{var n=Qs(),r=z(n);r.textContent=`>>`;var a=B(r,2),o=z(a,!0);M(a),M(n),jr(n,()=>i),nn(()=>Y(o,K(t))),J(e,n)}),M(o);var s=B(o,2);Gr(s),s.__keydown=e=>{e.key===`Enter`&&(e.preventDefault(),Z(Va).messages.say(K(r)),R(r,``))},xe(2),M(a),Yr(s,()=>K(r),e=>R(r,e)),J(e,a)},$$slots:{default:!0}}),je()}Zn([`keydown`]);var tc=q(`<button class="svelte-obe3w3"><img class="svelte-obe3w3"/></button>`),nc=q(`<div class="svelte-obe3w3"></div>`);function rc(e,t){Ae(t,!0);let n=[{id:`settings`,icon:`settings`},{id:`chat`,icon:`chat`},{id:`hints`,icon:`hint2`}];var r=nc();hr(r,21,()=>n,dr,(e,n)=>{var r=tc();r.__click=()=>t.handler(K(n).id);var i=z(r);M(r),nn(()=>X(i,`src`,`/sprites/ui/${K(n).icon??``}.png`)),J(e,r)}),M(r),J(e,r),je()}Zn([`click`]);var ic=q(`<div class="svelte-lqmuci"><h1 class="svelte-lqmuci">Settings</h1> <ul class="svelte-lqmuci"><h2>Audio</h2> <div class="svelte-lqmuci">Music <input type="range" min="0" max="1" step="0.01" class="svelte-lqmuci"/></div> <div class="svelte-lqmuci">SFX <input type="range" min="0" max="1" step="0.01" class="svelte-lqmuci"/></div> <h2>Credits</h2> <p>Elementipelago</p> <p>a game by Pepijn & Noa made for Archipelago</p> <h3>License</h3> <p>Elementipelago is a free and open-source project licensed under the <a href="https://github.com/peppidesu/elementipelago/blob/main/LICENSE" target="_blank">AGPL-3.0 license</a>.</p> <p>All sprites are &copy; 2026 by Pepijn Bakker &amp; Noa Aarts and licensed under CC
                BY-NC 4.0. To view a copy of this license, visit <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">https://creativecommons.org/licenses/by-nc/4.0/</a>.</p> <p>SFX include samples sourced from freesound.com, some of which licensed under CC-BY
                4.0. Authors requiring attribution are listed below, detailed attribution can be
                found in the README.md of this project:</p> <ul class="svelte-lqmuci"><li>maisonsonique</li> <li>InspectorJ</li></ul> <h3>Special thanks</h3> <p>you &lt;3</p></ul></div>`);function ac(e,t){Ae(t,!0);let n=L(Ot(parseFloat(localStorage.getItem(`settings.music_volume`)??`1.0`))),r=L(Ot(parseFloat(localStorage.getItem(`settings.sfx_volume`)??`1.0`)));function i(){localStorage.setItem(`settings.music_volume`,K(n).toString())}function a(){localStorage.setItem(`settings.sfx_volume`,K(r).toString()),bi.bubble()}Zs(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var o=ic(),s=B(z(o),2),c=B(z(s),2),l=B(z(c));Gr(l),l.__change=i,M(c);var u=B(c,2),d=B(z(u));Gr(d),d.__pointerup=a,M(u),xe(20),M(s),M(o),Yr(l,()=>K(n),e=>R(n,e)),Yr(d,()=>K(r),e=>R(r,e)),J(e,o)},$$slots:{default:!0}}),je()}Zn([`change`,`pointerup`]);var oc=q(`<div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div> <span class="svelte-25hqkx">+</span> <div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div> <span class="svelte-25hqkx">=</span> <div><img draggable="false" class="svelte-25hqkx"/> <span class="info svelte-25hqkx"><h1 class="svelte-25hqkx"> </h1> <p class="svelte-25hqkx"> </p> <p class="svelte-25hqkx"> </p></span></div>`,1),sc=q(`<div class="holder svelte-25hqkx"><h1 class="svelte-25hqkx">Hinted Items</h1> <div class="hint-list svelte-25hqkx"></div></div>`);function cc(e,t){Zs(e,{get show(){return t.show},get onClose(){return t.onClose},children:(e,t)=>{var n=sc(),r=B(z(n),2);hr(r,21,()=>Qa,dr,(e,t)=>{var n=I(()=>_(K(t),2));let r=()=>K(n)[1],i=I(()=>r().ingredient_1),a=I(()=>r().ingredient_2),o=I(()=>r().product);var s=oc(),c=Lt(s),l=z(c),u=B(l,2),d=z(u),f=z(d,!0);M(d);var p=B(d,2),m=z(p);M(p);var h=B(p,2),g=z(h,!0);M(h),M(u),M(c);var v=B(c,4),y=z(v),b=B(y,2),x=z(b),S=z(x,!0);M(x);var C=B(x,2),w=z(C);M(C);var ee=B(C,2),T=z(ee,!0);M(ee),M(b),M(v);var E=B(v,4),D=z(E),te=B(D,2),ne=z(te),re=z(ne,!0);M(ne);var ie=B(ne,2),ae=z(ie);M(ie);var oe=B(ie,2),se=z(oe,!0);M(oe),M(te),M(E),nn(()=>{Br(c,1,Pr(r().found?`disabled`:``),`svelte-25hqkx`),X(l,`src`,K(i).icon),X(l,`alt`,K(i).alt),Y(f,K(i).location),Y(m,`from ${K(i).player??``}`),Y(g,K(i).name),Br(v,1,Pr(r().found?`disabled`:``),`svelte-25hqkx`),X(y,`src`,K(a).icon),X(y,`alt`,K(a).alt),Y(S,K(a).location),Y(w,`from ${K(a).player??``}`),Y(T,K(a).name),Br(E,1,Pr(r().found?`disabled`:``),`svelte-25hqkx`),X(D,`src`,K(o).icon),X(D,`alt`,K(o).alt),Y(re,K(o).location),Y(ae,`from ${K(o).player??``}`),Y(se,K(o).name)}),J(e,s)}),M(r),M(n),J(e,n)},$$slots:{default:!0}})}var lc=q(`<div class="game svelte-1n46o8q"><!> <!></div> <!> <!> <!> <!> <!>`,1);function uc(e,t){Ae(t,!0);let n=new ya,r=L(``);function i(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function a(e){yo.set({x:e.clientX,y:e.clientY}),Z(pi)?.mfunc(e.clientX,e.clientY)}let o;function s(e){let t=Z(pi);if(t==null)return;let r=t.index,a=n.get(r),s=a.get_rect();if(pi.set(null),i(s,document.getElementById(`drawer`).getBoundingClientRect())){bi.trash(),cr(a,{outro:!0}),n.delete(r);return}bi.drag_end();let c=Z(Ua),l={...a.get_elem_id()};for(let[e,t]of n){if(t==a)continue;let o=t.get_rect();if(i(s,o)){let i=t.get_elem_id(),u=c.recipes.get([l,i])||c.recipes.get([i,l]);if(u==null)continue;let f=u.map(e=>Ca(e));Z(Va).check(...f);for(let e of u)d((s.x+o.x)/2,(s.y+o.y)/2,e);setTimeout(()=>bi.bubble(),100),cr(a,{outro:!0}),cr(t,{outro:!0}),n.delete(e),n.delete(r);break}}o(n)}let c=L(!1);async function l(){R(c,!0),po(),await so()}let u=0;function d(e,t,r,i=0,a=0,o=!1){let s=ir(vo,{target:document.getElementById(`playfield`),props:{x:e,y:t,elem_id:r,offsetx:i,offsety:a,attach:o,index:u}});n.set(u,s),u+=1}var f={mountElem:d},p=nr();Xn(`pointermove`,kt,a),Xn(`pointerup`,kt,s);var m=Lt(p),h=e=>{Ws(e,{onSubmit:l})},g=e=>{var t=lc(),i=Lt(t),a=z(i);Hs(a,{mount_func:d,get mounted_elements(){return n}}),Ks(B(a,2),{get handle_dropped(){return o},set handle_dropped(e){o=e}}),M(i);var s=B(i,2);rc(s,{handler:e=>{R(r,e,!0)}});var c=B(s,2);Js(c,{});var l=B(c,2);{let e=I(()=>K(r)==`chat`);ec(l,{get show(){return K(e)},onClose:()=>R(r,``)})}var u=B(l,2);{let e=I(()=>K(r)==`settings`);ac(u,{get show(){return K(e)},onClose:()=>R(r,``)})}var f=B(u,2);{let e=I(()=>K(r)==`hints`);cc(f,{get show(){return K(e)},onClose:()=>R(r,``)})}J(e,t)};return ur(m,e=>{K(c)?e(g,!1):e(h)}),J(e,p),je(f)}ir(uc,{target:document.getElementById(`app`)});